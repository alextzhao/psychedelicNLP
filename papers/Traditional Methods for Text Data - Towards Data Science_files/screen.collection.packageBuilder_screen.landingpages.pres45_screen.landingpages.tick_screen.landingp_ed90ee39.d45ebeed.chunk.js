(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{"./src/components/collection/CollectionFollowButton.tsx":function(e,t,n){"use strict";n.d(t,"c",function(){return A}),n.d(t,"b",function(){return N}),n.d(t,"a",function(){return H});var o=n("./node_modules/@babel/runtime/helpers/extends.js"),l=n.n(o),i=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),c=n.n(i),r=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),a=n.n(r),s=n("./node_modules/lodash/flowRight.js"),u=n.n(s),m=n("./node_modules/react/index.js"),d=n("./node_modules/graphql-tag/src/index.js"),b=n.n(d),p=n("./node_modules/@apollo/react-hoc/lib/react-hoc.esm.js"),f=n("./node_modules/react-redux/es/index.js"),g=n("./src/components/session/WithViewer.tsx"),h=n("./src/components/susi/SusiClickable.tsx"),x=n("./src/components/style/BaseThemeProvider.tsx"),w=n("./src/framework/design-system/type/index.ts"),C=n("./src/framework/design-system/components/index.ts"),E=n("./src/framework/design-system/components/portal/ui/Toast.tsx"),v=n("./src/framework/reporter/index.ts"),_=n("./src/framework/style/index.ts"),k=n("./src/framework/source/index.ts"),T=n("./src/framework/track/index.ts"),y=n("./src/svg/arrow-down-21px.svg"),M=n("./src/styles/theme.ts"),S=n("./src/util/routes.ts");function I(){var e=a()(["\n  mutation unsubscribeCollectionEmailsMutation($id: ID!) {\n    unsubscribeCollectionEmails(collectionId: $id) {\n      ...CollectionFollowButton_collection\n    }\n  }\n  ","\n"]);return I=function(){return e},e}function L(){var e=a()(["\n  mutation subscribeCollectionEmailsMutation($id: ID!) {\n    subscribeCollectionEmails(collectionId: $id) {\n      ...CollectionFollowButton_collection\n    }\n  }\n  ","\n"]);return L=function(){return e},e}function j(){var e=a()(["\n  mutation unfollowCollectionMutation($id: ID!) {\n    unfollowCollection(targetCollectionId: $id) {\n      ...CollectionFollowButton_collection\n    }\n  }\n  ","\n"]);return j=function(){return e},e}function O(){var e=a()(["\n  mutation followCollectionMutation($id: ID!) {\n    followCollection(targetCollectionId: $id) {\n      ...CollectionFollowButton_collection\n    }\n  }\n  ","\n"]);return O=function(){return e},e}function B(){var e=a()(["\n  fragment CollectionFollowButton_collection on Collection {\n    __typename\n    id\n    viewerIsFollowing\n    name\n    viewerIsSubscribedToLetters\n    slug\n    isUserSubscribedToCollectionEmails\n    ...collectionUrl_collection\n    ...SusiClickable_collection\n  }\n  ","\n  ","\n"]);return B=function(){return e},e}function F(){var e=a()(["\n  fragment CollectionFollowButton_post on Post {\n    __typename\n    id\n  }\n"]);return F=function(){return e},e}var A=b()(F()),N=b()(B(),S.A,h.b),R=function(e){var t=e.children,n=e.extraTopPadding,o=e.extraBottomPadding,l=e.padding,i=e.margin,c=e.borderTop;return m.createElement(C.b,{padding:l||"".concat(n?"20px":"5px"," 20px ").concat(o?"20px":"5px"," 20px"),margin:i,borderTop:c?"BASE_LIGHTER":"NONE"},t)},U=b()(O(),N),D=b()(j(),N),P=b()(L(),N),z=b()(I(),N),G={position:"relative",left:"6px"},H=u()(Object(p.a)(U,{name:"followCollectionMutation",props:function(e){var t=e.ownProps,n=e.followCollectionMutation;return{followCollectionMutation:function(){n({variables:{id:t.collection.id},optimisticResponse:{__typename:"Mutation",followCollection:{__typename:"Collection",viewerIsFollowing:!0,isUserSubscribedToCollectionEmails:t.collection.isUserSubscribedToCollectionEmails,id:t.collection.id,name:t.collection.name}}})}}}}),Object(p.a)(D,{name:"unfollowCollectionMutation",props:function(e){var t=e.ownProps,n=e.unfollowCollectionMutation;return{unfollowCollectionMutation:function(){return n({variables:{id:t.collection.id},optimisticResponse:{__typename:"Mutation",unfollowCollection:{__typename:"Collection",viewerIsFollowing:!1,isUserSubscribedToCollectionEmails:t.collection.isUserSubscribedToCollectionEmails,id:t.collection.id,name:t.collection.name}}})}}}}),Object(p.a)(P,{name:"subscribeCollectionEmailsMutation",props:function(e){var t=e.ownProps,n=e.subscribeCollectionEmailsMutation;return{subscribeCollectionEmailsMutation:function(){return n({variables:{id:t.collection.id},optimisticResponse:{__typename:"Mutation",subscribeCollectionEmails:{__typename:"Collection",viewerIsFollowing:t.collection.viewerIsFollowing,isUserSubscribedToCollectionEmails:!0,id:t.collection.id,name:t.collection.name}}})}}}}),Object(p.a)(z,{name:"unsubscribeCollectionEmailsMutation",props:function(e){var t=e.ownProps,n=e.unsubscribeCollectionEmailsMutation;return{unsubscribeCollectionEmailsMutation:function(){return n({variables:{id:t.collection.id},optimisticResponse:{__typename:"Mutation",unsubscribeCollectionEmails:{__typename:"Collection",viewerIsFollowing:t.collection.viewerIsFollowing,isUserSubscribedToCollectionEmails:!1,id:t.collection.id,name:t.collection.name}}})}}}}))(function(e){var t=Object(_.useCx)(),n=Object(f.e)(function(e){return e.config.isAmp}),o=Object(f.e)(function(e){return e.navigation.currentLocation}),i=e.collection,r=e.post,a=i&&i.name?i.name:"",s=Object(v.c)(),u=Object(k.d)(),d=m.useState(!!e.isPopoverVisible),b=c()(d,2),p=b[0],I=b[1],L=m.useState(!!e.isToastVisible),j=c()(L,2),O=j[0],B=j[1],F=m.useCallback(function(){I(!1)},[]);m.useEffect(function(){return T.a.on("scroll",F),function(){T.a.off("scroll",F)}},[F]);var A=m.useCallback(function(){i.viewerIsFollowing||(e.followCollectionMutation&&e.followCollectionMutation(),s.event("collection.followed",{collectionId:i.id,followSource:u})),I(!0)},[i]),N=m.useCallback(function(){s.event("collection.unfollowed",{collectionId:i.id,followSource:u}),e.unfollowCollectionMutation&&e.unfollowCollectionMutation(),I(!1)},[]),U=m.useCallback(function(){I(!1)},[]),D=m.useCallback(function(t){s.event("client.action",{action:"toggle-subscribe-collection-emails",eventType:"click",classAttribute:"checkbox"}),t.target.checked?e.subscribeCollectionEmailsMutation&&e.subscribeCollectionEmailsMutation():e.unsubscribeCollectionEmailsMutation&&e.unsubscribeCollectionEmailsMutation(),B(!0)}),P=m.useCallback(function(){B(!1)});if(n)return null;var z=!!i.isUserSubscribedToCollectionEmails;return m.createElement(m.Fragment,null,m.createElement(C.x,{isVisible:!!p,hide:U,popoverTheme:M.a,popoverRenderFn:function(){return m.createElement(C.b,{width:"280px",display:"flex",flexDirection:"column"},m.createElement(R,{extraTopPadding:!0},m.createElement(w.b,{scale:"XS"},"You‘re following ",a)),m.createElement(R,null,m.createElement(C.d,null,"You‘ll now see more stories from ",a," across Medium.")),m.createElement(R,null,m.createElement(C.d,null,m.createElement("label",null,m.createElement(C.b,{display:"inline",marginRight:"5px"},m.createElement("input",{type:"checkbox",onChange:D,checked:z})),"Receive emails from this publication"))),m.createElement(R,{borderTop:!0,margin:"10px 0 0 0",padding:"15px 20px 5px 20px"},m.createElement(C.d,null,m.createElement(C.u,{href:Object(S.z)(i,o)},"View Publication"))),m.createElement(R,{extraBottomPadding:!0},m.createElement(C.d,null,m.createElement(C.u,{onClick:N},"Unfollow publication"))))}},m.createElement(function(e){var t=i.slug&&(r&&r.id?Object(S.yb)(i.slug,r.id):Object(S.xb)(i.slug));return m.createElement(g.b,null,function(n){return n?m.createElement(C.c,l()({size:"SMALL",onClick:A},e),e.children):m.createElement(h.a,l()({collection:i,buttonStyle:"OBVIOUS",isButton:!0,buttonSize:"SMALL",operation:"register",actionUrl:t},e),e.children)})},{buttonStyle:i.viewerIsFollowing?"STRONG":"OBVIOUS"},i.viewerIsFollowing?"Following":"Follow",i.viewerIsFollowing&&m.createElement("span",{className:t(G)},m.createElement(y.a,null)))),m.createElement(x.b,null,m.createElement(E.a,{isVisible:!!O,hide:P,duration:2e3},m.createElement(C.d,null,z?"You‘ll now receive emails from ".concat(a,"."):"You‘ll no longer receive emails from ".concat(a,".")))))})},"./src/components/collection/CollectionLogo.tsx":function(e,t,n){"use strict";n.d(t,"a",function(){return f}),n.d(t,"b",function(){return g});var o=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),l=n.n(o),i=n("./node_modules/react/index.js"),c=n("./node_modules/graphql-tag/src/index.js"),r=n.n(c),a=n("./src/components/ui/image/index.ts"),s=n("./src/util/miroImage.ts"),u=n("./src/framework/design-system/components/index.ts"),m=n("./src/framework/design-system/type/Type.tsx"),d=n("./src/framework/style/index.ts");function b(){var e=l()(["\n  fragment CollectionLogo_collection on Collection {\n    name\n    logo {\n      id\n      originalWidth\n      originalHeight\n    }\n  }\n"]);return b=function(){return e},e}var p=function(e){return function(t){return{color:t.baseColor.text[e]}}};function f(e){var t=e.collection,n=e.maxWidth,o=e.maxHeight,l=e.textScale,c=void 0===l?"S":l,r=e.withTextColorSubtle,b=void 0!==r&&r,f=Object(d.useTheme)();if(!t.logo||!t.logo.id)return i.createElement(m.a,{fontConfig:f.newFonts.heading,scale:c,tag:"span",additionalRules:p(b?"normal":"dark"),clamp:1},t.name||"");var g=t.logo,h=g.id,x=g.originalWidth||100,w=g.originalHeight||100;if(n&&x>n){var C=x/n;x=Math.floor(x/C),w=Math.floor(w/C)}if(o&&w>o){var E=w/o;x=Math.floor(x/E),w=Math.floor(w/E)}return i.createElement(u.b,{width:"".concat(x,"px"),height:"".concat(w,"px")},i.createElement(a.b,{miroId:h,alt:t.name||"Publication logo",width:x,height:w,strategy:s.a.Resample}))}var g=r()(b())},"./src/components/collection/CollectionMetabar.tsx":function(e,t,n){"use strict";var o=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),l=n.n(o),i=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),c=n.n(i),r=n("./node_modules/react/index.js"),a=n("./node_modules/graphql-tag/src/index.js"),s=n.n(a),u=n("./node_modules/react-redux/es/index.js"),m=n("./node_modules/@babel/runtime/helpers/extends.js"),d=n.n(m),b=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),p=n.n(b),f=n("./src/components/collection/CollectionLogo.tsx"),g=n("./src/components/metabar/constants.ts"),h=n("./src/components/metabar/Logo.tsx"),x=n("./src/components/metabar/MetabarActions.tsx"),w=n("./src/components/metabar/MetabarActionsLO.tsx"),C=n("./src/components/navigation/Anchor.tsx"),E=n("./src/framework/design-system/components/index.ts"),v=n("./src/styles/zIndex.ts"),_=n("./src/util/routes.ts");function k(){var e=l()(["\n  fragment CollectionMetabarTop_collection on Collection {\n    slug\n    ...CollectionLogo_collection\n    ...collectionUrl_collection\n    ...MetabarActions_collection\n  }\n  ","\n  ","\n  ","\n"]);return k=function(){return e},e}var T=s()(k(),f.b,_.A,x.a),y=Object(u.c)(function(e){return{authDomain:e.config.authDomain,currentLocation:e.navigation.currentLocation}})(function(e){var t=e.authDomain,n=e.collection,o=e.currentLocation,l=e.isAmp,i=e.post,c=e.shouldShowCollectionLogo,a=e.withMonogramDark,s=e.setIsMetabarLocked,u=e.breakpoint,m=void 0===u?"sm":u;return r.createElement(E.b,{backgroundColor:"BACKGROUND"},r.createElement(E.w,null,r.createElement(E.b,d()({display:"flex",alignItems:"center",height:"".concat(g.a,"px")},p()({},m,{display:"flex",height:"".concat(g.c,"px")})),r.createElement(E.b,{display:"flex",alignItems:"center",flexGrow:"1",zIndex:v.a.metabar},r.createElement(C.a,{href:"https://".concat(t,"/"),"aria-label":"Homepage"},r.createElement(h.a,{dark:a})),c&&r.createElement(r.Fragment,null,r.createElement(E.b,d()({height:"24px",width:"1px",marginLeft:"15px",marginRight:"14px",borderLeft:"BASE_LIGHT"},p()({},m,{display:"none"}))),r.createElement(E.b,p()({},m,{display:"none"}),r.createElement(C.a,{href:Object(_.z)(n,o)},r.createElement(f.a,{collection:n,maxWidth:240,maxHeight:36,textScale:"M"}))))),r.createElement(E.b,{flexGrow:"0",zIndex:v.a.metabar},l?r.createElement(w.b,{withoutConversionButton:!0,post:i}):r.createElement(x.c,{post:i,collection:n,withoutConversionButton:!0,setIsMetabarLocked:s})))))}),M=n("./src/framework/design-system/type/Type.tsx"),S=n("./src/framework/style/index.ts"),I=n("./src/styles/breakpoints.ts");function L(){var e=l()(["\n  fragment CollectionNavItems_collection on Collection {\n    navItems {\n      title\n      url\n      type\n    }\n  }\n"]);return L=function(){return e},e}var j=function(e){var t;return t={listStyleType:"none",margin:0,lineHeight:"40px",whiteSpace:"nowrap",overflowX:"auto",display:"flex",alignItems:"flex-start"},p()(t,I.sm(e),{display:"none"}),p()(t,"marginTop","".concat(20,"px")),p()(t,"paddingTop","".concat(20,"px")),p()(t,"height","".concat(80,"px")),t},O={display:"flex",alignItems:"center",height:"".concat(20,"px"),marginRight:"15px",marginLeft:"15px",":first-child":{marginLeft:0}},B=function(e){return function(t){return{color:t.baseColor.text[e],textTransform:"uppercase",letterSpacing:"1px"}}},F=function(e){return{height:"".concat(20,"px"),minWidth:"1px",backgroundColor:e.baseColor.border.normal}};function A(e){var t=e.navItems,n=e.withTextColorSubtle,o=Object(S.useCx)(),l=Object(S.useTheme)();return t?r.createElement("ul",{className:o(j)},t.map(function(e,t){return e.url&&r.createElement(r.Fragment,{key:t},"EXTERNAL_LINK_NAV_ITEM"===e.type&&r.createElement("span",{className:o(F)}),r.createElement("li",{className:o(O)},r.createElement(M.a,{fontConfig:l.newFonts.detail,scale:"S",tag:"span",additionalRules:B(n?"lighter":"normal")},r.createElement(E.u,{href:e.url},e.title))))})):null}var N=s()(L()),R=n("./src/util/theme.ts");function U(){var e=l()(["\n  fragment CollectionMetabarBottom_collection on Collection {\n    slug\n    ...CollectionNavItems_collection\n    ...CollectionLogo_collection\n    ...collectionUrl_collection\n    ...ThemeUtilTintBackground_collection\n  }\n  ","\n  ","\n  ","\n  ","\n"]);return U=function(){return e},e}var D=s()(U(),N,f.b,_.A,R.b),P=Object(u.c)(function(e){return{currentLocation:e.navigation.currentLocation}})(function(e){var t=e.collection,n=e.currentLocation,o=e.shouldShowCollectionLogo,l=void 0===o||o,i=e.withBorderTop,c=void 0!==i&&i,a=e.withTextColorSubtle,s=void 0!==a&&a,u=e.breakpoint,m=void 0===u?"sm":u,b=t.navItems.slice().length>0;return r.createElement(E.b,d()({backgroundColor:"BACKGROUND",display:b?"block":"none",borderTop:c?"BASE_LIGHTER":"NONE"},p()({},m,{display:"block"})),r.createElement(E.w,null,r.createElement(E.b,{display:"flex",alignItems:"center",height:"54px",overflow:"hidden"},l?r.createElement(E.b,{flexShrink:"0",marginRight:"40px"},r.createElement(C.a,{href:Object(_.z)(t,n)},r.createElement(f.a,{collection:t,maxWidth:300,maxHeight:36,textScale:"S",withTextColorSubtle:s}))):null,r.createElement(E.b,{flexShrink:"1",overflow:"auto"},r.createElement(A,{navItems:t.navItems,withTextColorSubtle:s})))))}),z=n("./src/components/collection/package/collectionIdToNameMaps.ts"),G=n("./src/components/metabar/MetabarLayout.tsx"),H=n("./src/components/session/WithFlag.tsx");function V(){var e=l()(["\n  fragment CollectionMetabar_collection on Collection {\n    id\n    colorBehavior\n    ...CollectionMetabarTop_collection\n    ...CollectionMetabarBottom_collection\n    ...ThemeUtilTintBackground_collection\n    ...ThemeUtilAccent_collection\n  }\n  ","\n  ","\n  ","\n  ","\n"]);return V=function(){return e},e}function W(e){return g.a+(e?g.b:0)}function $(e){return g.c+(e?g.b:0)}function K(e,t){return Object(R.i)(e.colorPalette.tintBackgroundSpectrum,t)}function Y(e,t){return Object(R.c)(e.colorPalette.defaultBackgroundSpectrum,e.colorPalette.highlightSpectrum,t)}function q(e){var t=Object(S.useTheme)(),n=e.post,o=e.collection,l=e.isAmp,i=e.isFixed,a=e.behavior,s=o.navItems&&o.navItems.length>0,m=r.useState(!1),d=c()(m,2),b=d[0],p=d[1],f="ACCENT_COLOR"===o.colorBehavior;return Object(u.e)(function(e){return e.client.isNativeMedium})?null:r.createElement(G.a,{height:W(s),heightSm:$(!0),isFixed:i,isLocked:b,behavior:a,marginBottom:0,marginBottomSm:0},f||s?r.createElement(E.G,{theme:Y(o,t)},r.createElement(y,{post:n,collection:o,isAmp:l,shouldShowCollectionLogo:!s,withMonogramDark:!1,setIsMetabarLocked:p})):r.createElement(r.Fragment,null,r.createElement(E.G,{theme:K(o,t)},r.createElement(E.b,{display:"block",sm:{display:"none"}},r.createElement(y,{post:n,collection:o,isAmp:l,shouldShowCollectionLogo:!0,withMonogramDark:!0,setIsMetabarLocked:p}))),r.createElement(E.G,{theme:Y(o,t)},r.createElement(E.b,{display:"none",sm:{display:"block"}},r.createElement(y,{post:n,collection:o,isAmp:l,shouldShowCollectionLogo:!1,withMonogramDark:!1,setIsMetabarLocked:p})))),r.createElement(E.G,{theme:f?Y(o,t):K(o,t)},r.createElement(P,{collection:o,withBorderTop:f,withTextColorSubtle:f})))}function X(e){var t=e.post,n=e.collection,o=e.isAmp,l=e.isFixed,i=e.behavior,a=e.shouldShowCollectionLogo,s=void 0===a||a,m=Object(S.useTheme)(),d=r.useState(!1),b=c()(d,2),p=b[0],f=b[1],g=n.navItems&&n.navItems.length>0,h="ACCENT_COLOR"===n.colorBehavior,x=s||g;if(Object(u.e)(function(e){return e.client.isNativeMedium}))return null;var w=function(e){return{borderTop:"1px solid ".concat(e.baseColor.border.lighter),opacity:".4"}};return r.createElement(G.a,{height:W(g),heightSm:$(s),isFixed:l,isLocked:p,behavior:i,marginBottom:0,marginBottomSm:0,breakpoint:"xs"},r.createElement(E.G,{theme:h?Y(n,m):K(n,m)},r.createElement(E.b,{backgroundColor:"BACKGROUND"},r.createElement(y,{post:t,collection:n,isAmp:o,shouldShowCollectionLogo:s&&!g,withMonogramDark:!h,setIsMetabarLocked:f,breakpoint:"xs"}),x&&!h?r.createElement(S.WithCx,null,function(e){return r.createElement("div",{className:e(w)})}):null,x?r.createElement(P,{collection:n,shouldShowCollectionLogo:s,withBorderTop:h,withTextColorSubtle:h,breakpoint:"xs"}):null)))}function J(e){var t=Object(u.e)(function(e){return e.config.authDomain}),n=e.collection.id in z.a[t];return r.createElement(H.a,{name:"enable_new_pub_modules"},function(t){return t&&n?r.createElement(X,e):r.createElement(q,e)})}n.d(t,"b",function(){return X}),n.d(t,"a",function(){return J}),n.d(t,"c",function(){return Q});var Q=s()(V(),T,D,R.b,R.a)},"./src/components/collection/package/collectionIdToNameMaps.ts":function(e,t,n){"use strict";n.d(t,"a",function(){return o});var o={"standard.dev:8080":{"62cd982de8d4":"gen","504c53fa76fb":"level",fa6fc47570d7:"onezero","9a23b344dad1":"zora","1cc8061583f5":"zora"},"hatch.dm":{"18ffed660da4":"gen","3aada36c91ec":"level",b1484d4d6f29:"onezero","2453d2aa5af4":"zora"},"medium.com":{ae2a65f35510:"gen","88d9857e584e":"level","444d13b52878":"onezero","8ccfed20cbb2":"zora"}}}}]);
//# sourceMappingURL=screen.collection.packageBuilder~screen.landingpages.pres45~screen.landingpages.tick~screen.landingp~ed90ee39.d45ebeed.chunk.js.map