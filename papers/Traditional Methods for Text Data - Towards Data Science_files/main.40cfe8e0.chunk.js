(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{"./config/polyfills.js":function(e,t,n){"use strict";"undefined"==typeof Promise&&(n("./node_modules/promise/lib/rejection-tracking.js").enable(),window.Promise=n("./node_modules/promise/lib/es6-extensions.js")),n("./node_modules/whatwg-fetch/fetch.js"),Object.assign=n("./node_modules/object-assign/index.js"),Object.entries||n("./node_modules/object.entries/index.js").shim(),n("./node_modules/raf/polyfill.js"),n("./node_modules/core-js/fn/array/from.js"),n("./node_modules/core-js/fn/array/find.js"),n("./node_modules/core-js/fn/object/values.js"),n("./node_modules/core-js/fn/string/starts-with.js"),n("./node_modules/core-js/fn/promise/finally.js"),n("./node_modules/core-js/es6/map.js"),n("./node_modules/core-js/es6/set.js"),n("./node_modules/core-js/es6/symbol.js"),n("./node_modules/core-js/fn/array/find-index.js"),n("./node_modules/core-js/fn/array/includes.js"),n("./node_modules/core-js/fn/symbol/iterator.js"),n("./node_modules/url-polyfill/url-polyfill.js"),"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype||n("./node_modules/intersection-observer/intersection-observer.js")},"./src/components/branch-banner/helpers/index.ts":function(e,t,n){"use strict";n.d(t,"d",function(){return p}),n.d(t,"c",function(){return g}),n.d(t,"b",function(){return h}),n.d(t,"a",function(){return b}),n.d(t,"f",function(){return y}),n.d(t,"e",function(){return x});var r=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),o=n.n(r),i=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),a=n.n(i),c=n("./node_modules/graphql-tag/src/index.js"),s=n.n(c),l=n("./src/framework/source/SourceContext.tsx"),u=n("./src/util/referrers.ts");function d(){var e=a()(["\n  fragment buildBranchViewData_meteringInfo on MeteringInfo {\n    postIds\n  }\n"]);return d=function(){return e},e}function m(){var e=a()(["\n  fragment buildBranchViewData_post on Post {\n    creator {\n      name\n      id\n      isFollowing\n    }\n    collection {\n      name\n      id\n      viewerIsFollowing\n    }\n    layerCake\n    primaryTopic {\n      slug\n      name\n      isFollowing\n    }\n    content(postMeteringOptions: $postMeteringOptions) {\n      isLockedPreviewOnly\n    }\n  }\n"]);return m=function(){return e},e}var f=function(){var e=window.branch&&window.branch.closeJourney&&window.branch.setBranchViewData&&window.branch.track&&window.branch.link;return e},p=function(e){f()&&window.branch.closeJourney(function(){e&&e()})},g=s()(m()),h=s()(d()),b=function(e){var t=e.post,n=e.meteringInfo,r=e.referrer,o=e.referrerSource,i=e.viewer,a=i&&i.mediumMemberAt?i.mediumMemberAt:null,c=t.creator,s=t.layerCake,l=t.primaryTopic,u=t.collection,d=t.content,m=s&&(1===s||2===s||3===s),f=m&&l?l.name:null,p=m&&l?l.slug:null,g=v(r,o),h={data:{is_logged_in:!!i,is_member:!!a&&a>0,user_created_at:i?i.createdAt:null,medium_member_at:a,post_topic_name:f,post_topic_slug:p,post_publication_name:u?u.name:null,post_publication_id:u?u.id:null,layer_cake:s,post_creator_name:c?c.name:null,post_creator_id:c?c.id:null,source:g,following_author:!(!c||!c.isFollowing),following_pub:!(!u||!u.viewerIsFollowing),following_topic:!!(m&&l&&l.isFollowing)}};return d.isLockedPreviewOnly?h.data.meter_state="paywalled":h.data.is_member?h.data.meter_state="member":n&&n.postIds&&n.postIds.length>0?h.data.meter_state="metered":h.data.meter_state="not_metered",h},v=function(e,t){if(Object(u.c)(e))return"Twitter";if(Object(u.a)(e))return"Facebook";if(t){var n=Object(l.c)(t),r=n.name,i=n.dimension;if("email"===r&&i){var a=i.split("."),c=o()(a,2),s=c[0],d=c[1];if("newsletter"===s)return"Pub Digest";if("member"===s)return"Marketing Email";if("digest"===s){if("reader"===d)return"Daily Digest";if("weekly"===d)return"Weekly Digest"}}}return Object(u.b)(e,t)?"Search":"Other"},y=function e(t){f()?window.branch.setBranchViewData(t):setTimeout(function(){e(t)},500)},x=function e(t,n){f()?window.branch.track("pageview",n,function(){t&&t()}):setTimeout(function(){e(t,n)},500)}},"./src/components/collection/CollectionAvatar.tsx":function(e,t,n){"use strict";n.d(t,"b",function(){return b}),n.d(t,"a",function(){return v});var r=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),o=n.n(r),i=n("./node_modules/react/index.js"),a=n("./node_modules/graphql-tag/src/index.js"),c=n.n(a),s=n("./node_modules/react-redux/es/index.js"),l=n("./src/framework/design-system/components/index.ts"),u=n("./src/framework/design-system/util/style/converters.ts"),d=n("./src/components/ui/image/index.ts"),m=n("./src/util/miroImage.ts"),f=n("./src/util/routes.ts");function p(){var e=o()(["\n  fragment CollectionAvatar_collection on Collection {\n    name\n    avatar {\n      id\n    }\n    ...collectionUrl_collection\n  }\n  ","\n"]);return p=function(){return e},e}var g=60,h=function(e){return function(t){return{borderRadius:Object(u.b)(t.borderRadius.regular),width:Object(u.b)(e),height:Object(u.b)(e)}}};var b=c()(p(),f.A),v=Object(s.c)(function(e){return{currentLocation:e.navigation.currentLocation}})(function(e){var t=e.collection,n=e.currentLocation,r=e.size,o=void 0===r?g:r,a=e.link;if(!t||!t.avatar||!t.avatar.id)return null;var c=t.avatar,s=t.name,u=Object(f.z)(t,n),p=i.createElement(d.b,{rules:[h(o)],miroId:c.id,alt:s||"Publication avatar",width:o,height:o,strategy:m.a.Crop});return a?i.createElement(l.f,{href:u},p):p})},"./src/components/debug/GoogleAnalytics.tsx":function(e,t,n){"use strict";n.d(t,"b",function(){return c});var r=n("./node_modules/react/index.js"),o=n("./node_modules/react-helmet-async/lib/index.module.js"),i=n("./node_modules/react-redux/es/index.js"),a=n("./src/components/session/WithFlag.tsx");t.a=Object(i.c)(function(e){return{googleAnalyticsCode:e.config.googleAnalyticsCode,isBot:e.client.isBot,isAmp:e.config.isAmp}})(function(e){var t=e.googleAnalyticsCode,n=e.isBot,i=e.isAmp;return n||i?null:r.createElement(a.a,{name:"dont_track_user"},function(e){return e?null:r.createElement(o.a,null,r.createElement("script",null,"(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){\n(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),\nm=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)\n})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');\nga('create', '".concat(t,"', 'auto');\nga('send', 'pageview');")))})});var c=function(e,t,n){r.useEffect(function(){var r=window?window.ga:null;!t&&!n&&e&&r&&e.forEach(function(e,t){var n="tracker".concat(t);r("create",e,"auto",n),r("".concat(n,".send"),"pageview")})},[e,t,n])}},"./src/components/format/Date.tsx":function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return o});var r=n("./node_modules/date-fns/index.js");function o(t){var n=t.timestamp;return Object(r.getYear)(n)===Object(r.getYear)(e.Date.now())?Object(r.format)(n,"MMM D"):Object(r.format)(n,"MMM D, YYYY")}}).call(this,n("./node_modules/webpack/buildin/global.js"))},"./src/components/format/TimeAgo.tsx":function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n("./node_modules/date-fns/index.js");function o(e){var t=e.timestamp;return Object(r.distanceInWords)(Date.now(),t,{addSuffix:!0})}},"./src/components/metabar/Logo.tsx":function(e,t,n){"use strict";var r=n("./node_modules/react/index.js"),o=n.n(r),i=n("./node_modules/react-loadable/lib/index.js"),a=n.n(i),c=n("./node_modules/react-redux/es/index.js"),s=n("./src/framework/style/index.ts"),l=n("./src/styles/colors.ts");function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var d=o.a.createElement("path",{d:"M5 40V5h35v35H5zm8.56-12.63c0 .56-.03.69-.32 1.03L10.8 31.4v.4h6.97v-.4L15.3 28.4c-.29-.34-.34-.5-.34-1.03v-8.95l6.13 13.36h.71l5.26-13.36v10.64c0 .3 0 .35-.19.53l-1.85 1.8v.4h9.2v-.4l-1.83-1.8c-.18-.18-.2-.24-.2-.53V15.94c0-.3.02-.35.2-.53l1.82-1.8v-.4h-6.47l-4.62 11.55-5.2-11.54h-6.8v.4l2.15 2.63c.24.3.29.37.29.77v10.35z"}),m=function(e){return o.a.createElement("svg",u({width:35,height:35,viewBox:"5 5 35 35"},e),d)};function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var p=o.a.createElement("path",{d:"M56.3 19.5c0 .4 0 .5.3.7l1.5 1.4v.1h-6.5V19c-.7 1.8-2.4 3-4.3 3-3.3 0-5.8-2.6-5.8-7.5 0-4.5 2.6-7.6 6.3-7.6 1.6-.1 3.1.8 3.8 2.4V3.2c0-.3-.1-.6-.3-.7l-1.4-1.4V1l6.5-.8v19.3zm-4.8-.8V9.5c-.5-.6-1.2-.9-1.9-.9-1.6 0-3.1 1.4-3.1 5.7 0 4 1.3 5.4 3 5.4.8.1 1.6-.3 2-1zm9.1 3.1V9.4c0-.3-.1-.6-.3-.7l-1.4-1.5v-.1h6.5v12.5c0 .4 0 .5.3.7l1.4 1.4v.1h-6.5zm-.2-19.2C60.4 1.2 61.5 0 63 0c1.4 0 2.6 1.2 2.6 2.6S64.4 5.3 63 5.3a2.6 2.6 0 0 1-2.6-2.7zm22.5 16.9c0 .4 0 .5.3.7l1.5 1.4v.1h-6.5v-3.2c-.6 2-2.4 3.4-4.5 3.4-2.9 0-4.4-2.1-4.4-6.2 0-1.9 0-4.1.1-6.5 0-.3-.1-.5-.3-.7L67.7 7v.1H74v8c0 2.6.4 4.4 2 4.4.9-.1 1.7-.6 2.1-1.3V9.5c0-.3-.1-.6-.3-.7l-1.4-1.5v-.2h6.5v12.4zm22 2.3c0-.5.1-6.5.1-7.9 0-2.6-.4-4.5-2.2-4.5-.9 0-1.8.5-2.3 1.3.2.8.3 1.7.3 2.5 0 1.8-.1 4.2-.1 6.5 0 .3.1.5.3.7l1.5 1.4v.1H96c0-.4.1-6.5.1-7.9 0-2.7-.4-4.5-2.2-4.5-.9 0-1.7.5-2.2 1.3v9c0 .4 0 .5.3.7l1.4 1.4v.1h-6.5V9.5c0-.3-.1-.6-.3-.7l-1.4-1.5v-.2h6.5v3.1a4.6 4.6 0 0 1 4.6-3.4c2.2 0 3.6 1.2 4.2 3.5.7-2.1 2.7-3.6 4.9-3.5 2.9 0 4.5 2.2 4.5 6.2 0 1.9-.1 4.2-.1 6.5-.1.3.1.6.3.7l1.4 1.4v.1h-6.6zm-81.4-2l1.9 1.9v.1h-9.8v-.1l2-1.9c.2-.2.3-.4.3-.7V7.3c0-.5 0-1.2.1-1.8L11.4 22h-.1L4.5 6.8c-.1-.4-.2-.4-.3-.6v10c-.1.7 0 1.3.3 1.9l2.7 3.6v.1H0v-.1L2.7 18c.3-.6.4-1.3.3-1.9v-11c0-.5-.1-1.1-.5-1.5L.7 1.1V1h7l5.8 12.9L18.6 1h6.8v.1l-1.9 2.2c-.2.2-.3.5-.3.7v15.2c0 .2.1.5.3.6zm7.6-5.9c0 3.8 1.9 5.3 4.2 5.3 1.9.1 3.6-1 4.4-2.7h.1c-.8 3.7-3.1 5.5-6.5 5.5-3.7 0-7.2-2.2-7.2-7.4 0-5.5 3.5-7.6 7.3-7.6 3.1 0 6.4 1.5 6.4 6.2v.8h-8.7zm0-.8h4.3v-.8c0-3.9-.8-4.9-2-4.9-1.4.1-2.3 1.6-2.3 5.7z"}),g=function(e){return o.a.createElement("svg",f({height:22,width:112,viewBox:"0 0 111.5 22"},e),p)};n("./src/svg/logo-wordmark-138x27px.svg");function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var b=o.a.createElement("path",{d:"M1 29V1",stroke:"#D5D5D5",strokeWidth:.5,fill:"none",strokeLinecap:"round"}),v=function(e){return o.a.createElement("svg",h({width:2,height:29},e),b)};n.d(t,"a",function(){return S}),n.d(t,"c",function(){return k}),n.d(t,"b",function(){return P});var y=a()({loading:function(){return null},loader:function(){return n.e(9).then(n.bind(null,"./src/svg/hatch-monogram-45px.svg"))},modules:["src/svg/hatch-monogram-45px.svg"],webpack:function(){return["./src/svg/hatch-monogram-45px.svg"]}}),x=a()({loading:function(){return null},loader:function(){return n.e(9).then(n.bind(null,"./src/svg/hatch-79x22px.svg"))},modules:["src/svg/hatch-79x22px.svg"],webpack:function(){return["./src/svg/hatch-79x22px.svg"]}}),w=function(e){return function(t){return{fill:e?t.baseColor.fill.dark:t.baseColor.fill.normal}}},E=function(e){return{fill:l.A}},O=function(e){return{fill:e.baseColor.fill.normal}},j=function(e){return{fill:l.A}},_=function(e){return{isHatch:"Hatch"===e.config.productName}},S=Object(c.c)(_)(function(e){var t=e.isHatch,n=e.dark,o=Object(s.useCx)();return t?r.createElement(y,{className:o(E)}):r.createElement(m,{className:o(w(n))})}),k=Object(c.c)(_)(function(e){var t=e.isHatch,n=Object(s.useCx)();return t?r.createElement(x,{className:n(j)}):r.createElement(g,{className:n(O)})}),P=function(){return r.createElement(v,null)}},"./src/components/metabar/Metabar.tsx":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),o=n.n(r),i=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),a=n.n(i),c=n("./node_modules/react/index.js"),s=n("./node_modules/react-redux/es/index.js"),l=n("./node_modules/graphql-tag/src/index.js"),u=n.n(l),d=n("./src/components/metabar/constants.ts"),m=n("./src/components/metabar/MetabarActions.tsx"),f=n("./src/components/metabar/MetabarActionsLO.tsx"),p=n("./src/components/metabar/Logo.tsx"),g=n("./src/components/navigation/Anchor.tsx"),h=n("./src/framework/style/index.ts"),b=n("./src/styles/flex.ts"),v=n("./src/styles/position.ts"),y=n("./src/styles/zIndex.ts"),x=function(){return{zIndex:y.a.metabarCenter,pointerEvents:"none"}},w=function(){return{pointerEvents:"auto"}},E=function(){var e=Object(h.useCx)();return c.createElement("div",{className:e([v.a,Object(b.a)({alignItems:"center",justifyContent:"center",flexDirection:""}),x])},c.createElement(g.a,{href:"/","aria-label":"Homepage",className:e(w)},c.createElement(p.c,null)))},O=n("./src/components/metabar/MetabarLayout.tsx"),j=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),_=n.n(j),S=n("./src/components/optimizely/OptimizelyWrapper.tsx"),k=n("./src/components/session/WithViewer.tsx"),P=n("./src/framework/design-system/components/index.ts"),C=n("./src/framework/design-system/type/index.ts"),I=n("./src/util/routes.ts"),L=n("./src/styles/breakpoints.ts");function A(){var e=o()(["\n  fragment MetabarLeft_post on Post {\n    creator {\n      id\n    }\n    isPublished\n    pendingCollection {\n      creator {\n        id\n      }\n      name\n      viewerIsEditor\n    }\n    statusForCollection\n  }\n"]);return A=function(){return e},e}function T(){var e=o()(["\n  fragment MetabarLeft_collection on Collection {\n    name\n  }\n"]);return T=function(){return e},e}var N=function(e){return _()({fontFamily:"'Helvetica Neue', sans-serif",fontSize:"20px",color:e.baseColor.text.normal,marginTop:"7px",marginLeft:"10px",display:"-webkit-box",WebkitLineClamp:"1",WebkitBoxOrient:"vertical",overflow:"hidden"},L.sm(e),{fontSize:"14px",marginTop:"0px",marginLeft:"4px",WebkitLineClamp:"2"})};var R=function(e){var t=e.authDomain,n=e.isMonogramOnly,r=void 0!==n&&n,o=e.post,i=e.topic,a=Object(h.useCx)();return c.createElement(k.b,null,function(e){var n=function(e,t){if(!e)return"";var n=e.pendingCollection,r=e.creator&&e.creator.id,o=!!t&&!!n&&!!n.creator&&n.creator.id===t.id,i=!!n&&n.viewerIsEditor,a=o||i,c=a||!!t&&t.id===r,s=c&&n&&n.name||"";return e.isPublished?s?"Submitted to ".concat(s):c&&"PENDING"===e.statusForCollection?"Submitted story":"":c&&"PENDING"===e.statusForCollection?s?a&&t&&t.id===r?"Draft in ".concat(s):"Draft submitted to ".concat(s):"Submitted draft":"NOT_YET_SUBMITTED"===e.statusForCollection?"Unsubmitted draft":"Draft"}(o,e);return c.createElement(P.b,{display:"flex",alignItems:"center"},c.createElement(g.a,{href:"/","aria-label":"Homepage"},c.createElement(P.b,{display:r||n?"none":"block",sm:{display:"none"}},c.createElement(p.c,null)),c.createElement(P.b,{display:r||n?"block":"none",sm:{display:"block"}},c.createElement(p.a,null))),n?c.createElement(S.a,{featureString:"".concat(e?"li":"lo","-post-page-navbar"),target:"status-message"},c.createElement(P.b,{marginLeft:"15px",paddingTop:"2px"},c.createElement(C.a,{color:"DARKER",scale:"M",tag:"div"},n))):null,!n&&i&&i.slug&&i.name&&c.createElement(c.Fragment,null,c.createElement(P.b,{marginTop:"1px",marginLeft:"15px",sm:{display:"none"}},c.createElement(p.b,null)),c.createElement(S.a,{featureString:"".concat(e?"li":"lo","-post-page-navbar"),target:"topic-copy"},c.createElement(g.a,{href:Object(I.Db)(t,i.slug||"")},c.createElement("div",{className:a(N)},i.name)))))})},U=u()(T()),D=u()(A());function M(){var e=o()(["\n  fragment Metabar_post on Post {\n    id\n    creator {\n      id\n    }\n    primaryTopic {\n      name\n      slug\n    }\n    ...MetabarActions_post\n    ...MetabarActionsLO_post\n    ...MetabarLeft_post\n  }\n  ","\n  ","\n  ","\n"]);return M=function(){return e},e}function H(){var e=o()(["\n  fragment Metabar_collection on Collection {\n    ...MetabarLeft_collection\n  }\n  ","\n"]);return H=function(){return e},e}n.d(t,"b",function(){return B}),n.d(t,"c",function(){return F}),n.d(t,"a",function(){return z});var B=u()(H(),U),F=u()(M(),m.b,f.a,D),z=Object(s.c)(function(e){return{authDomain:e.config.authDomain,isNativeMedium:e.client.isNativeMedium}})(function(e){var t=e.authDomain,n=e.behavior,r=e.post,o=e.topic,i=e.isAmp,s=e.isFixed,l=e.isLogoOnly,u=e.isLogoCentered,p=e.isMonogramOnly,g=e.isTransparent,h=e.isNativeMedium,b=e.marginBottom,v=e.marginBottomSm,x=e.backLink,w=c.useState(!1),j=a()(w,2),_=j[0],S=j[1];if(h)return null;var k=!l&&!u;return c.createElement(O.a,{behavior:n,height:d.a,heightSm:d.c,isFixed:s,isLocked:_,isTransparent:g,marginBottom:b,marginBottomSm:v},c.createElement(P.w,null,c.createElement(P.b,{display:"flex",alignItems:"center",height:"".concat(d.a,"px"),sm:{display:"flex",height:"".concat(d.c,"px")}},u?c.createElement(E,null):c.createElement(P.b,{flexGrow:"1",zIndex:y.a.metabar},c.createElement(R,{authDomain:t,post:r,isMonogramOnly:p,topic:o})),x&&c.createElement(P.b,{marginRight:"10px"},c.createElement(C.a,{scale:"M",color:"LIGHTER"},x)),k&&c.createElement(P.b,{flexGrow:"0",zIndex:y.a.metabar},i?c.createElement(f.b,{post:r}):c.createElement(m.c,{post:r,setIsMetabarLocked:S})))))})},"./src/components/metabar/MetabarActions.tsx":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),o=n.n(r),i=n("./node_modules/react/index.js"),a=n.n(i),c=n("./node_modules/graphql-tag/src/index.js"),s=n.n(c),l=n("./node_modules/react-redux/es/index.js"),u=n("./src/components/collection/CollectionAvatar.tsx"),d=n("./src/framework/design-system/components/index.ts"),m=n("./src/components/ui/PopoverMenu.tsx"),f=n("./src/util/routes.ts"),p=n("./src/components/style/BaseThemeProvider.tsx");function g(){var e=o()(["\n  fragment CollectionMetabarActionsPopover_collection on Collection {\n    id\n    slug\n    isEnrolledInHightower\n    ...collectionUrl_collection\n  }\n  ","\n"]);return g=function(){return e},e}var h=s()(g(),f.A),b=Object(l.c)(function(e){return{authDomain:e.config.authDomain,currentLocation:e.navigation.currentLocation}})(function(e){var t=e.authDomain,n=e.children,r=e.collection,o=e.currentLocation,a=r.isEnrolledInHightower,c=i.createElement(m.a,null,i.createElement(m.b,null,i.createElement(d.u,{href:Object(f.p)(r,t)},"New story")),i.createElement(m.c,null),i.createElement(m.b,null,i.createElement(d.u,{href:Object(f.y)(r,t)},"Stories")),i.createElement(m.b,null,i.createElement(d.u,{href:Object(f.x)(r,o)},"Stats")),i.createElement(m.b,null,i.createElement(d.u,{href:Object(f.u)(r,t)},"Letters")),i.createElement(m.b,null,i.createElement(d.u,{href:Object(f.t)(r,t)},"Followers")),a?i.createElement(i.Fragment,null,i.createElement(m.c,null),i.createElement(m.b,null,i.createElement(d.u,{href:Object(f.r)(r,t)},"Medium Partner Program"))):null,i.createElement(m.c,null),i.createElement(m.b,null,i.createElement(d.u,{href:Object(f.v)(r,t)},"Navigation")),i.createElement(m.b,null,i.createElement(d.u,{href:Object(f.s)(r,t)},"Feature pages")),i.createElement(m.b,null,i.createElement(d.u,{href:Object(f.w)(r,t)},"Homepage and settings")));return i.createElement(d.J,null,function(e){var t=e.isVisible,r=e.toggle,o=e.hide;return i.createElement(p.b,null,i.createElement(d.x,{isVisible:t,hide:o,popoverRenderFn:function(){return c},display:"flex"},i.createElement(d.b,{display:"flex",alignItems:"center",paddingTop:"10px",paddingBottom:"10px"},i.createElement(d.u,{onClick:r},n))))})}),v=n("./src/components/user/UserAvatar.tsx"),y=n("./src/framework/reporter/index.ts"),x=n("./src/log/index.ts");var w=Object(l.c)(function(e){return{authDomain:e.config.authDomain,xsrf:e.session.xsrf}})(function(e){var t,n,r=e.authDomain,o=e.children,a=e.viewer,c=e.xsrf,s=e.setIsMetabarLocked,l=a.username,u=a.mediumMemberAt,g=a.isPartnerProgramEnrolled,h=Object(y.c)();if(!a||!l)return null;c||x.a.error("No xsrf token found."),n=i.createElement("div",null,i.createElement(d.b,{display:"flex",alignItems:"center",marginTop:"12px",marginBottom:"20px"},i.createElement(v.d,{user:a,scale:"S",link:!0}),i.createElement(d.b,{marginLeft:"16px"},u>0&&i.createElement(d.u,{href:Object(f.Y)(r),linkStyle:"OBVIOUS"},"Member"),i.createElement(d.u,{href:Object(f.X)(r,l),linkStyle:"OBVIOUS"},i.createElement(d.d,{strong:!0},a.name)),i.createElement(d.u,{href:Object(f.X)(r,l),linkStyle:"SUBTLE",inline:!0},i.createElement(d.d,null,"@",a.username)))),u?i.createElement(d.u,{href:Object(f.M)(r)},"Gift membership"):i.createElement(d.u,{href:Object(f.Hb)(r),linkStyle:"OBVIOUS"},"Become a member")),t=u?i.createElement(d.u,{href:Object(f.Vb)(r)},"Reading list"):i.createElement(d.u,{href:Object(f.m)(r)},"Bookmarks");var b=i.createElement(d.b,{maxWidth:"220px"},i.createElement(m.a,null,i.createElement(m.b,null,n),i.createElement(m.c,null),i.createElement(m.b,null,i.createElement(d.u,{href:Object(f.Z)(r)},"New story")),i.createElement(m.b,null,i.createElement(d.u,{href:Object(f.ec)(r)},"Stories")),i.createElement(m.b,null,i.createElement(d.u,{href:Object(f.Wb)(r)},"Series")),i.createElement(m.b,null,i.createElement(d.u,{href:Object(f.ac)(r)},"Stats")),i.createElement(m.c,null),i.createElement(m.b,null,i.createElement(d.u,{href:g?Object(f.Tb)(r):Object(f.bb)(r)},"Medium Partner Program")),i.createElement(m.c,null),i.createElement(m.b,null,t),i.createElement(m.b,null,i.createElement(d.u,{href:Object(f.Ub)(r)},"Publications")),i.createElement(m.b,null,i.createElement(d.u,{href:Object(f.Sb)(r)},"Customize your interests")),i.createElement(m.c,null),i.createElement(m.b,null,i.createElement(d.u,{href:Object(f.X)(r,l)},"Profile")),i.createElement(m.b,null,i.createElement(d.u,{href:Object(f.Yb)(r)},"Settings")),i.createElement(m.b,null,i.createElement(d.u,{href:Object(f.O)()},"Help")),c?i.createElement(m.b,null,i.createElement(d.u,{href:Object(f.qb)(c)},"Sign out")):null));return i.createElement(d.J,null,function(e){var t=e.isVisible,n=e.toggle,r=e.hide;return i.createElement(p.b,null,i.createElement(d.x,{isVisible:t,hide:function(){r(),s(!1)},popoverRenderFn:function(){return b},display:"flex",flip:!1,setMaxHeight:!0},i.createElement(d.b,{display:"flex",alignItems:"center",paddingTop:"10px",paddingBottom:"10px"},i.createElement(d.u,{onClick:function(){h.event("nav.clicked",{element:"userActions"}),n(),s(!t)}},o))))})}),E=n("./src/components/upsell/UpsellClickable.tsx"),O=n("./src/components/session/WithViewer.tsx"),j=n("./src/framework/source/index.ts"),_=n("./src/framework/track/UpsellPresentationTracker.tsx");function S(){var e=o()(["\n  fragment MetabarButtonConversionLI_post on Post {\n    ...UpsellClickable_post\n  }\n  ","\n"]);return S=function(){return e},e}var k=s()(S(),E.b),P=function(e){var t=e.post;return i.createElement(j.b,{source:{name:"upgrade_membership",dimension:"nav_full"}},i.createElement(_.a,null,i.createElement(E.a,{isButton:!0,buttonStyle:"SUBTLE",buttonSize:"SMALL",post:t},i.createElement(O.b,null,function(e){return e&&e.hasPastMemberships?"Resume membership":"Upgrade"}))))},C=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),I=n.n(C),L=n("./src/util/hooks/useUserAgentMobileOrTablet.tsx");function A(){var e=o()(["\n  fragment MetabarPostMenuList_post on Post {\n    id\n    shareKey\n    mediumUrl\n  }\n"]);return A=function(){return e},e}var T=s()(A()),N=Object(l.c)(function(e){return{authDomain:e.config.authDomain}})(function(e){var t=e.authDomain,n=e.openFriendLinkPopover,r=e.post,o=r&&r.shareKey,a=r&&r.mediumUrl,c=!Object(L.a)(),s=o&&a?i.createElement(m.b,null,i.createElement(d.u,{onClick:n},"Share Friend Link")):null;return i.createElement(m.a,null,c?i.createElement(m.b,null,i.createElement(d.u,{href:Object(f.fb)(t,r.id)},"Edit story")):null,i.createElement(m.b,null,i.createElement(d.u,{href:Object(f.Zb)(t,r.id)},"View stats")),s)}),R=n("./src/components/social/ShareFriendLink.tsx"),U=n("./src/framework/design-system/type/Detail.tsx");function D(){return(D=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var M=a.a.createElement("path",{d:"M2.26 10.19a5.97 5.97 0 0 0-.01.31l.01.32a1.7 1.7 0 0 1-.18.88l-1 1.96a.74.74 0 0 0 .03.73l1.03 1.67c.16.25.45.42.78.44l2.32.17c.28.02.55.11.8.26l.63.34c.27.13.49.3.66.54l1.32 1.8c.18.24.49.39.82.39h2.06c.33 0 .64-.15.82-.4l1.32-1.8c.17-.22.4-.4.65-.53.25-.12.45-.23.64-.34a1.81 1.81 0 0 1 .8-.26l2.32-.17a.98.98 0 0 0 .77-.44l1.04-1.67a.74.74 0 0 0 .03-.73l-1-1.96a1.7 1.7 0 0 1-.18-.89l.01-.31a6.16 6.16 0 0 0-.01-.32 1.7 1.7 0 0 1 .18-.88l1-1.96a.74.74 0 0 0-.03-.73l-1.03-1.67a.98.98 0 0 0-.78-.44l-2.32-.17a1.81 1.81 0 0 1-.8-.26 8.68 8.68 0 0 0-.63-.34 1.76 1.76 0 0 1-.66-.54l-1.32-1.8a1.02 1.02 0 0 0-.82-.39H9.47c-.33 0-.64.15-.82.4L7.33 3.2a1.76 1.76 0 0 1-.66.53 8.6 8.6 0 0 0-.63.34 1.81 1.81 0 0 1-.8.26l-2.33.17a.98.98 0 0 0-.77.44L1.11 6.61a.74.74 0 0 0-.03.73l1 1.96c.14.27.2.58.18.88zm-1.07-.43L.2 7.8a1.74 1.74 0 0 1 .07-1.72L1.3 4.42c.32-.53.9-.87 1.55-.92l2.32-.17a.83.83 0 0 0 .36-.12c.22-.13.45-.26.7-.38a.78.78 0 0 0 .3-.23L7.85.8C8.2.3 8.82 0 9.47 0h2.06c.65 0 1.26.3 1.62.8l1.32 1.8a.76.76 0 0 0 .3.23c.25.12.48.25.7.38a.82.82 0 0 0 .36.12l2.33.17a1.98 1.98 0 0 1 1.54.92l1.04 1.66c.32.53.35 1.17.07 1.72l-1 1.96a.71.71 0 0 0-.07.36 6.95 6.95 0 0 1 0 .75.72.72 0 0 0 .07.37l1 1.96c.28.55.25 1.2-.07 1.72l-1.04 1.66c-.32.53-.9.87-1.55.92l-2.32.17a.83.83 0 0 0-.36.12 9.79 9.79 0 0 1-.7.38.79.79 0 0 0-.3.23l-1.32 1.8c-.37.5-.97.8-1.62.8H9.47c-.65 0-1.26-.3-1.62-.8l-1.32-1.8a.79.79 0 0 0-.3-.23 9.66 9.66 0 0 1-.7-.38.82.82 0 0 0-.36-.12l-2.33-.17a1.98 1.98 0 0 1-1.55-.92L.26 14.92A1.74 1.74 0 0 1 .2 13.2l1-1.96a.71.71 0 0 0 .07-.36 6.95 6.95 0 0 1 0-.75.72.72 0 0 0-.07-.37zm9.12-1.95a2.75 2.75 0 0 0-2.75 2.75 2.75 2.75 0 0 0 2.75 2.75 2.75 2.75 0 0 0 2.75-2.75 2.75 2.75 0 0 0-2.75-2.75zm0-1a3.75 3.75 0 0 1 3.75 3.75 3.75 3.75 0 0 1-3.75 3.75 3.75 3.75 0 0 1-3.75-3.75 3.75 3.75 0 0 1 3.75-3.75z"}),H=function(e){return a.a.createElement("svg",D({width:21,height:21},e),M)};function B(){var e=o()(["\n  fragment MetabarPostMenuButton_post on Post {\n    id\n    ...ShareFriendLink_post\n    ...MetabarPostMenuList_post\n  }\n  ","\n  ","\n"]);return B=function(){return e},e}var F={border:0,clip:"rect(1px, 1px, 1px, 1px)",clipPath:"inset(50%)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",width:"1px",wordWrap:"normal !important"},z=s()(B(),R.b,T),q=function(e){var t=e.post,n=Object(y.c)(),r=i.useCallback(function(){n.event("editor.writerControlsOpen",{postId:t.id})},[t]),o=i.useCallback(function(){n.event("editor.shareMeterBypassUrlOpen",{postId:t.id})},[t]),a=i.useCallback(function(){n.event("post.copyFriendLink",{postId:t.id})},[t]),c=i.useState(!1),s=I()(c,2),l=s[0],u=s[1],m=function(){u(!0),o()};return i.createElement(d.J,null,function(e){var n=e.isVisible,o=e.toggle,c=e.hide,s=function(){u(!1),c()};return i.createElement(j.b,{source:{name:"post_page",dimension:"writer_controls",postId:t.id}},i.createElement(p.b,null,i.createElement(d.x,{isVisible:n,hide:s,popoverRenderFn:function(e){return l?(e(),i.createElement(d.b,{width:"330px",padding:"15px"},i.createElement(R.a,{post:t,onCopy:a}),i.createElement(d.b,{marginTop:"20px"},i.createElement(U.a,{scale:"M"},i.createElement(d.u,{onClick:s},"Cancel"))))):(e(),i.createElement(N,{openFriendLinkPopover:m,post:t}))}},i.createElement(d.b,{display:"flex",paddingTop:"10px",paddingBottom:"10px",marginLeft:"16px",marginRight:"16px",sm:{display:"flex",marginLeft:"10px",marginRight:"10px"}},i.createElement(d.u,{onClick:function(){r(),o()}},i.createElement(d.b,{tag:H}),i.createElement("span",{style:F},"Post management tools menu"))))))})},V=n("./node_modules/@babel/runtime/helpers/toConsumableArray.js"),W=n.n(V),G=n("./node_modules/lodash/cloneDeep.js"),Y=n.n(G),K=n("./node_modules/@apollo/react-components/lib/react-components.esm.js");function X(){return(X=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var $=a.a.createElement("path",{d:"M-273.33 423.67l-1.67-1.52v-3.65a5.5 5.5 0 0 0-6.04-5.47 5.66 5.66 0 0 0-4.96 5.71v3.41l-1.68 1.55a1 1 0 0 0-.32.74V427a1 1 0 0 0 1 1h3.49a3.08 3.08 0 0 0 3.01 2.45 3.08 3.08 0 0 0 3.01-2.45h3.49a1 1 0 0 0 1-1v-2.59a1 1 0 0 0-.33-.74zm-7.17 5.63c-.84 0-1.55-.55-1.81-1.3h3.62a1.92 1.92 0 0 1-1.81 1.3zm6.35-2.45h-12.7v-2.35l1.63-1.5c.24-.22.37-.53.37-.85v-3.41a4.51 4.51 0 0 1 3.92-4.57 4.35 4.35 0 0 1 4.78 4.33v3.65c0 .32.14.63.38.85l1.62 1.48v2.37z"}),Q=function(e){return a.a.createElement("svg",X({width:25,height:25,viewBox:"-293 409 25 25"},e),$)},J=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),Z=n.n(J);function ee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function te(){var e=o()(["\n  query NotificationCountMutation_notificationsWidgetQuery {\n    notificationStatus {\n      unreadNotificationCount\n    }\n  }\n"]);return te=function(){return e},e}function ne(){var e=o()(["\n  mutation NotificationCountMutation {\n    updateActivityLastViewed\n  }\n"]);return ne=function(){return e},e}var re=s()(ne()),oe=s()(te()),ie=function(e){var t=e.children;return i.createElement(K.a,{mutation:re,optimisticResponse:{updateActivityLastViewed:!0},update:function(e){var t={query:oe},n=e.readQuery(t);n.notificationStatus.unreadNotificationCount=0,e.writeQuery(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ee(n,!0).forEach(function(t){Z()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ee(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({data:n},t))}},function(e){return t({mutate:e})})};function ae(){var e=o()(["\n  fragment NotificationsBadge_notificationStatus on NotificationStatus {\n    unreadNotificationCount\n  }\n"]);return ae=function(){return e},e}function ce(e){var t=e.notificationStatus.unreadNotificationCount,n=e.toggle;return t>0?i.createElement(ie,null,function(e){var r=e.mutate;return i.createElement(d.c,{buttonStyle:"STRONG",size:"BADGE",shape:"CIRCLE",onClick:function(){n(),r()},width:"30px"},t)}):i.createElement(d.u,{onClick:n,display:"block"},i.createElement(d.b,{tag:Q,margin:"15px 0"}))}var se=s()(ae()),le=n("./src/components/notifications/notification-types/util/NotificationLayout.tsx");function ue(e){var t=e.post,n=e.isYours,r=e.isFirst;return t&&t.title?t.title:n?r?"Your story":"your story":r?"A story":"a story"}var de=n("./src/components/notifications/notification-types/util/NotificationStyles.tsx");function me(){var e=o()(["\n  fragment NotificationQuote_notification on Notification {\n    occurredAt\n    isUnread\n    post {\n      id\n      mediumUrl\n      title\n      visibility\n    }\n    actor {\n      id\n      name\n    }\n    quote {\n      startOffset\n      endOffset\n      quoteParagraphPreview {\n        text\n      }\n      paragraphs {\n        type\n      }\n    }\n    rollupItems {\n      actor {\n        id\n      }\n    }\n    ...NotificationLayout_notification\n  }\n  ","\n"]);return me=function(){return e},e}function fe(e){var t=e.notification,n=function(e,t){if(e.quote&&e.quote.paragraphs.length>1)return i.createElement(i.Fragment,null,"left "+e.quote.paragraphs.length+" highlights in ",i.createElement(de.b,null,i.createElement(ue,{post:e.post,isYours:!0})));if(t)return i.createElement(i.Fragment,null,"highlighted ",i.createElement(de.b,null,i.createElement(ue,{post:e.post,isYours:!0})));if(e.quote&&e.quote.quoteParagraphPreview&&e.quote.quoteParagraphPreview.text&&e.quote.endOffset){var n=e.quote.quoteParagraphPreview.text.slice(e.quote.startOffset||0,e.quote.endOffset);return i.createElement(i.Fragment,null,"highlighted ",i.createElement(de.c,{text:n}))}return i.createElement(i.Fragment,null,"highlighted ",i.createElement(de.b,null,i.createElement(ue,{post:e.post})))}(t,e.isRollup),r={actorName:t.actor?t.actor.name:null,rollupItems:t.rollupItems};return i.createElement(le.b,{actors:r,user:t.actor,url:t.post?Object(f.gb)(t.post):"",occurredAt:t.occurredAt,isUnread:t.isUnread},n)}var pe=s()(me(),le.a);function ge(){var e=o()(["\n  fragment NotificationResponseCreated_notification on Notification {\n    actor {\n      id\n      name\n    }\n    occurredAt\n    isUnread\n    post {\n      id\n      mediumUrl\n      title\n      visibility\n    }\n    rollupItems {\n      actor {\n        id\n      }\n    }\n    responsePost {\n      id\n      mediumUrl\n    }\n    ...NotificationLayout_notification\n  }\n  ","\n"]);return ge=function(){return e},e}function he(e){var t=e.notification,n=e.isRollup,r={actorName:t.actor?t.actor.name:null,rollupItems:t.rollupItems};return i.createElement(le.b,{actors:r,user:t.actor,url:n&&t.post?Object(f.gb)(t.post):t.responsePost?Object(f.gb)(t.responsePost):"",occurredAt:t.occurredAt,isUnread:t.isUnread},i.createElement(i.Fragment,null,"responded to ",i.createElement(de.a,null,i.createElement(ue,{post:t.post,isYours:!0}))))}var be=s()(ge(),le.a);function ve(){var e=o()(["\n  fragment NotificationPostRecommended_notification on Notification {\n    actor {\n      id\n      name\n    }\n    occurredAt\n    isUnread\n    post {\n      id\n      mediumUrl\n      title\n      visibility\n    }\n    rollupItems {\n      actor {\n        id\n      }\n    }\n    ...NotificationLayout_notification\n  }\n  ","\n"]);return ve=function(){return e},e}function ye(e){var t=e.notification,n={actorName:t.actor?t.actor.name:null,rollupItems:t.rollupItems};return i.createElement(le.b,{actors:n,user:t.actor,url:t.post?Object(f.gb)(t.post):"",occurredAt:t.occurredAt,isUnread:t.isUnread},i.createElement(i.Fragment,null,"clapped for ",i.createElement(de.a,null,i.createElement(ue,{post:t.post}))))}var xe=s()(ve(),le.a);function we(e){var t=e.collection,n=e.isYours,r=e.isFirst;return t&&t.name?t.name:n?r?"Your publication":"your publication":r?"A publication":"a publication"}function Ee(){var e=o()(["\n  fragment NotificationCollectionPostSubmitted_notification on Notification {\n    collection {\n      name\n      slug\n      id\n      ...collectionUrl_collection\n    }\n    actor {\n      id\n      name\n    }\n    occurredAt\n    isUnread\n    post {\n      id\n      mediumUrl\n      title\n      visibility\n    }\n    rollupItems {\n      actor {\n        id\n      }\n    }\n    ...NotificationLayout_notification\n  }\n  ","\n  ","\n"]);return Ee=function(){return e},e}var Oe=s()(Ee(),le.a,f.A),je=Object(l.c)(function(e){return{currentLocation:e.navigation.currentLocation}})(function(e){var t=e.currentLocation,n=e.notification,r={actorName:n.actor?n.actor.name:null,rollupItems:n.rollupItems};return i.createElement(le.b,{actors:r,user:n.actor,url:n.collection?Object(f.z)(n.collection,t):"",occurredAt:n.occurredAt,isUnread:n.isUnread},i.createElement(i.Fragment,null,"submitted ",i.createElement(de.a,null,i.createElement(ue,{post:n.post}))," to ",i.createElement(de.a,null,i.createElement(we,{collection:n.collection}))))});function _e(){var e=o()(["\n  fragment NotificationCollectionDraftSubmitted_notification on Notification {\n    collection {\n      name\n      slug\n      id\n      ...collectionUrl_collection\n    }\n    actor {\n      id\n      name\n    }\n    occurredAt\n    isUnread\n    post {\n      id\n      title\n      visibility\n    }\n    rollupItems {\n      actor {\n        id\n      }\n    }\n    ...NotificationLayout_notification\n  }\n  ","\n  ","\n"]);return _e=function(){return e},e}var Se=s()(_e(),le.a,f.A),ke=Object(l.c)(function(e){return{currentLocation:e.navigation.currentLocation}})(function(e){var t=e.currentLocation,n=e.notification,r={actorName:n.actor?n.actor.name:null,rollupItems:n.rollupItems},o=function(e){return e.post&&e.post.title?i.createElement(i.Fragment,null,"submitted a draft ",i.createElement(de.a,null,e.post.title)," to ",i.createElement(de.a,null,i.createElement(we,{collection:e.collection,isYours:!0}))):i.createElement(i.Fragment,null,"submitted a draft to ",i.createElement(de.a,null,i.createElement(we,{collection:e.collection,isYours:!0})))}(n);return i.createElement(le.b,{actors:r,user:n.actor,url:n.collection?Object(f.z)(n.collection,t):"",occurredAt:n.occurredAt,isUnread:n.isUnread},o)});function Pe(){var e=o()(["\n  fragment NotificationCollectionPostApproved_notification on Notification {\n    collection {\n      name\n      slug\n      id\n      ...collectionUrl_collection\n    }\n    actor {\n      id\n      name\n    }\n    occurredAt\n    isUnread\n    post {\n      id\n      mediumUrl\n      title\n      visibility\n    }\n    rollupItems {\n      actor {\n        id\n      }\n    }\n    ...NotificationLayout_notification\n  }\n  ","\n  ","\n"]);return Pe=function(){return e},e}var Ce=s()(Pe(),le.a,f.A),Ie=Object(l.c)(function(e){return{currentLocation:e.navigation.currentLocation}})(function(e){var t=e.currentLocation,n=e.notification,r={actorName:n.actor?n.actor.name:null,rollupItems:n.rollupItems};return i.createElement(le.b,{actors:r,user:n.actor,url:n.collection?Object(f.z)(n.collection,t):"",occurredAt:n.occurredAt,isUnread:n.isUnread},i.createElement(i.Fragment,null,"approved ",i.createElement(de.a,null,i.createElement(ue,{post:n.post,isYours:!0}))," to be added to ",i.createElement(de.a,null,i.createElement(we,{collection:n.collection}))))});function Le(){var e=o()(["\n  fragment NotificationCollectionPostPublished_notification on Notification {\n    collection {\n      name\n      slug\n      id\n      ...collectionUrl_collection\n    }\n    actor {\n      id\n      name\n    }\n    occurredAt\n    isUnread\n    post {\n      id\n      mediumUrl\n      title\n      visibility\n    }\n    rollupItems {\n      actor {\n        id\n      }\n    }\n    ...NotificationLayout_notification\n  }\n  ","\n  ","\n"]);return Le=function(){return e},e}var Ae=s()(Le(),le.a,f.A),Te=Object(l.c)(function(e){return{currentLocation:e.navigation.currentLocation}})(function(e){var t=e.currentLocation,n=e.notification,r={actorName:n.actor?n.actor.name:null,rollupItems:n.rollupItems};return i.createElement(le.b,{actors:r,user:n.actor,url:n.post?Object(f.gb)(n.post):n.collection?Object(f.z)(n.collection,t):"",occurredAt:n.occurredAt,isUnread:n.isUnread},i.createElement(i.Fragment,null,"published ",i.createElement(de.a,null,i.createElement(ue,{post:n.post,isYours:!0}))," in ",i.createElement(de.a,null,i.createElement(we,{collection:n.collection}))))});function Ne(){var e=o()(["\n  fragment NotificationCollectionEditorAdded_notification on Notification {\n    collection {\n      name\n      slug\n      id\n      ...collectionUrl_collection\n    }\n    actor {\n      id\n      name\n    }\n    occurredAt\n    isUnread\n    rollupItems {\n      actor {\n        id\n      }\n    }\n    ...NotificationLayout_notification\n  }\n  ","\n  ","\n"]);return Ne=function(){return e},e}var Re=s()(Ne(),le.a,f.A),Ue=Object(l.c)(function(e){return{currentLocation:e.navigation.currentLocation}})(function(e){var t=e.currentLocation,n=e.notification,r={actorName:n.actor?n.actor.name:null,rollupItems:n.rollupItems};return i.createElement(le.b,{actors:r,user:n.actor,url:n.collection?Object(f.z)(n.collection,t):"",occurredAt:n.occurredAt,isUnread:n.isUnread},i.createElement(i.Fragment,null,"added you as an editor of ",i.createElement(de.a,null,i.createElement(we,{collection:n.collection}))))});function De(){var e=o()(["\n  fragment NotificationPostCollaboratedPublished_notification on Notification {\n    occurredAt\n    isUnread\n    post {\n      id\n      mediumUrl\n      title\n      visibility\n    }\n    actor {\n      id\n      name\n    }\n    quote {\n      quoteParagraphPreview {\n        text\n      }\n      paragraphs {\n        type\n      }\n    }\n    rollupItems {\n      actor {\n        id\n      }\n    }\n    ...NotificationLayout_notification\n  }\n  ","\n"]);return De=function(){return e},e}function Me(e){var t=e.notification,n=function(e){return e.post&&e.post.title?i.createElement(i.Fragment,null,"published a story ",i.createElement(de.a,null,e.post.title)," that you collaborated on together"):i.createElement(i.Fragment,null,"published a story that you collaborated on together")}(t),r={actorName:t.actor?t.actor.name:null,rollupItems:t.rollupItems};return i.createElement(le.b,{actors:r,user:t.actor,url:t.post?Object(f.gb)(t.post):"",occurredAt:t.occurredAt,isUnread:t.isUnread},n)}var He=s()(De(),le.a);function Be(){var e=o()(["\n  fragment NotificationPostNoted_notification on Notification {\n    actor {\n      id\n      name\n    }\n    occurredAt\n    isUnread\n    note {\n      id\n      content\n    }\n    post {\n      id\n      mediumUrl\n      title\n      visibility\n    }\n    rollupItems {\n      actor {\n        id\n      }\n    }\n    ...NotificationLayout_notification\n  }\n  ","\n"]);return Be=function(){return e},e}function Fe(e){var t=e.notification,n=function(e){return e.note&&e.note.content?i.createElement(i.Fragment,null,"left a note ",i.createElement(de.d,{text:e.note.content})):i.createElement(i.Fragment,null,"left a note on ",i.createElement(de.a,null,i.createElement(ue,{post:e.post})))}(t),r={actorName:t.actor?t.actor.name:null,rollupItems:t.rollupItems};return i.createElement(le.b,{actors:r,user:t.actor,url:t.post?Object(f.gb)(t.post):"",occurredAt:t.occurredAt,isUnread:t.isUnread},n)}var ze=s()(Be(),le.a);function qe(){var e=o()(["\n  fragment NotificationNoteReplied_notification on Notification {\n    occurredAt\n    isUnread\n    post {\n      id\n      mediumUrl\n      title\n      visibility\n    }\n    noteReply {\n      content\n      id\n    }\n    actor {\n      id\n      name\n    }\n    rollupItems {\n      actor {\n        id\n      }\n    }\n    ...NotificationLayout_notification\n  }\n  ","\n"]);return qe=function(){return e},e}function Ve(e){var t=e.notification,n=function(e){return e.noteReply&&e.noteReply.content?i.createElement(i.Fragment,null,"replied to your private note ",i.createElement(de.d,{text:e.noteReply.content})):i.createElement(i.Fragment,null,"replied to your private note on ",i.createElement(de.a,null,i.createElement(ue,{post:e.post})))}(t),r={actorName:t.actor?t.actor.name:null,rollupItems:t.rollupItems};return i.createElement(le.b,{actors:r,user:t.actor,url:t.post?Object(f.gb)(t.post):"",occurredAt:t.occurredAt,isUnread:t.isUnread},n)}var We=s()(qe(),le.a);function Ge(){var e=o()(["\n  fragment NotificationPostNoteReplied_notification on Notification {\n    occurredAt\n    isUnread\n    post {\n      id\n      mediumUrl\n      title\n      visibility\n    }\n    noteReply {\n      content\n    }\n    actor {\n      id\n      name\n    }\n    rollupItems {\n      actor {\n        id\n      }\n    }\n    ...NotificationLayout_notification\n  }\n  ","\n"]);return Ge=function(){return e},e}function Ye(e){var t=e.notification,n=function(e){return e.noteReply&&e.noteReply.content?i.createElement(i.Fragment,null,"replied to a private note ",i.createElement(de.d,{text:e.noteReply.content})):i.createElement(i.Fragment,null,"replied to a private note on ",i.createElement(de.b,null,i.createElement(ue,{post:e.post})))}(t),r={actorName:t.actor?t.actor.name:null,rollupItems:t.rollupItems};return i.createElement(le.b,{actors:r,user:t.actor,url:t.post?Object(f.gb)(t.post):"",occurredAt:t.occurredAt,isUnread:t.isUnread},n)}var Ke=s()(Ge(),le.a);function Xe(){var e=o()(["\n  fragment NotificationMentionInNote_notification on Notification {\n    note {\n      content\n    }\n    actor {\n      id\n      name\n    }\n    occurredAt\n    isUnread\n    post {\n      id\n      mediumUrl\n      title\n      visibility\n    }\n    rollupItems {\n      actor {\n        id\n      }\n    }\n    ...NotificationLayout_notification\n  }\n  ","\n"]);return Xe=function(){return e},e}function $e(e){var t=e.notification,n=function(e){return e.note&&e.note.content?i.createElement(i.Fragment,null,"mentioned you in a note ",i.createElement(de.d,{text:e.note.content})):i.createElement(i.Fragment,null,"mentioned you in a note on ",i.createElement(de.b,null,i.createElement(ue,{post:e.post})))}(t),r={actorName:t.actor?t.actor.name:null,rollupItems:t.rollupItems};return i.createElement(le.b,{actors:r,user:t.actor,url:t.post?Object(f.gb)(t.post):"",occurredAt:t.occurredAt,isUnread:t.isUnread},n)}var Qe=s()(Xe(),le.a);function Je(){var e=o()(["\n  fragment NotificationMentionInNoteUpdate_notification on Notification {\n    note {\n      content\n    }\n    actor {\n      id\n      name\n    }\n    occurredAt\n    isUnread\n    post {\n      id\n      mediumUrl\n      title\n      visibility\n    }\n    rollupItems {\n      actor {\n        id\n      }\n    }\n    ...NotificationLayout_notification\n  }\n  ","\n"]);return Je=function(){return e},e}function Ze(e){var t=e.notification,n=function(e){return e.note&&e.note.content?i.createElement(i.Fragment,null,"updated a note mentioning you ",i.createElement(de.d,{text:e.note.content})):i.createElement(i.Fragment,null,"updated a note mentioning you on ",i.createElement(de.b,null,i.createElement(ue,{post:e.post})))}(t),r={actorName:t.actor?t.actor.name:null,rollupItems:t.rollupItems};return i.createElement(le.b,{actors:r,user:t.actor,url:t.post?Object(f.gb)(t.post):"",occurredAt:t.occurredAt,isUnread:t.isUnread},n)}var et=s()(Je(),le.a);function tt(){var e=o()(["\n  fragment NotificationMentionInNoteReply_notification on Notification {\n    noteReply {\n      content\n    }\n    actor {\n      id\n      name\n    }\n    occurredAt\n    isUnread\n    post {\n      id\n      mediumUrl\n      title\n      visibility\n    }\n    rollupItems {\n      actor {\n        id\n      }\n    }\n    ...NotificationLayout_notification\n  }\n  ","\n"]);return tt=function(){return e},e}function nt(e){var t=e.notification,n=function(e){return e.noteReply&&e.noteReply.content?i.createElement(i.Fragment,null,"mentioned you in a note reply ",i.createElement(de.d,{text:e.noteReply.content})):i.createElement(i.Fragment,null,"mentioned you in a note reply on ",i.createElement(de.b,null,i.createElement(ue,{post:e.post})))}(t),r={actorName:t.actor?t.actor.name:null,rollupItems:t.rollupItems};return i.createElement(le.b,{actors:r,user:t.actor,url:t.post?Object(f.gb)(t.post):"",occurredAt:t.occurredAt,isUnread:t.isUnread},n)}var rt=s()(tt(),le.a);function ot(){var e=o()(["\n  fragment NotificationMentionInNoteReplyUpdate_notification on Notification {\n    noteReply {\n      content\n    }\n    actor {\n      id\n      name\n    }\n    occurredAt\n    isUnread\n    post {\n      id\n      mediumUrl\n      title\n      visibility\n    }\n    rollupItems {\n      actor {\n        id\n      }\n    }\n    ...NotificationLayout_notification\n  }\n  ","\n"]);return ot=function(){return e},e}function it(e){var t=e.notification,n=function(e){return e.noteReply&&e.noteReply.content?i.createElement(i.Fragment,null,"updated a reply mentioning you ",i.createElement(de.d,{text:e.noteReply.content})):i.createElement(i.Fragment,null,"updated a reply mentioning you on ",i.createElement(de.b,null,i.createElement(ue,{post:e.post})))}(t),r={actorName:t.actor?t.actor.name:null,rollupItems:t.rollupItems};return i.createElement(le.b,{actors:r,user:t.actor,url:t.post?Object(f.gb)(t.post):"",occurredAt:t.occurredAt,isUnread:t.isUnread},n)}var at=s()(ot(),le.a);function ct(){var e=o()(["\n  fragment NotificationCollectionFollowedMilestone_notification on Notification {\n    milestoneArg\n    collection {\n      name\n      slug\n      id\n      ...collectionUrl_collection\n    }\n    occurredAt\n    isUnread\n    rollupItems {\n      actor {\n        id\n      }\n    }\n  }\n  ","\n"]);return ct=function(){return e},e}var st=s()(ct(),f.A),lt=Object(l.c)(function(e){return{currentLocation:e.navigation.currentLocation}})(function(e){var t=e.currentLocation,n=e.notification,r=function(e){return 1===e.milestoneArg?i.createElement(i.Fragment,null,i.createElement(de.a,null,i.createElement(we,{collection:e.collection,isYours:!0,isFirst:!0}))," has a follower"):e.milestoneArg?i.createElement(i.Fragment,null,i.createElement(de.a,null,i.createElement(we,{collection:e.collection}))," has "+e.milestoneArg+" followers"):null}(n);return i.createElement(O.b,null,function(e){return i.createElement(le.b,{user:e,url:n.collection?Object(f.z)(n.collection,t):"",occurredAt:n.occurredAt,isUnread:n.isUnread},r)})});function ut(){var e=o()(["\n  fragment NotificationPostAddedToEditorsPicks_notification on Notification {\n    actor {\n      id\n      name\n    }\n    occurredAt\n    isUnread\n    post {\n      id\n      mediumUrl\n      title\n      visibility\n    }\n    rollupItems {\n      actor {\n        id\n      }\n    }\n    ...NotificationLayout_notification\n  }\n  ","\n"]);return ut=function(){return e},e}function dt(e){var t=e.notification;return i.createElement(le.b,{user:t.actor,url:t.post?Object(f.gb)(t.post):"",occurredAt:t.occurredAt,isUnread:t.isUnread},i.createElement(i.Fragment,null,i.createElement(de.a,null,i.createElement(ue,{post:t.post,isYours:!0,isFirst:!0}))," has been selected by our editors as a Featured Story on the top of our homepage. Congratulations!"))}var mt=s()(ut(),le.a);function ft(){var e=o()(["\n  fragment NotificationPostRecommendedMilestone_notification on Notification {\n    milestoneArg\n    post {\n      id\n      mediumUrl\n      title\n      visibility\n    }\n    occurredAt\n    isUnread\n    rollupItems {\n      actor {\n        id\n      }\n    }\n    ...NotificationLayout_notification\n  }\n  ","\n"]);return ft=function(){return e},e}function pt(e){var t=e.notification,n=function(e){return 1===e.milestoneArg?i.createElement(i.Fragment,null,i.createElement(de.a,null,i.createElement(ue,{post:e.post,isYours:!0,isFirst:!0}))," has a fan"):e.milestoneArg?i.createElement(i.Fragment,null,i.createElement(de.a,null,i.createElement(ue,{post:e.post,isYours:!0,isFirst:!0}))," has "+e.milestoneArg+" fans"):null}(t);return i.createElement(O.b,null,function(e){return i.createElement(le.b,{user:e,url:t.post?Object(f.gb)(t.post):"",occurredAt:t.occurredAt,isUnread:t.isUnread},n)})}var gt=s()(ft(),le.a);function ht(){var e=o()(["\n  fragment NotificationPostClappedMilestone_notification on Notification {\n    milestoneArg\n    post {\n      id\n      mediumUrl\n      title\n      visibility\n    }\n    occurredAt\n    isUnread\n    rollupItems {\n      actor {\n        id\n      }\n    }\n  }\n"]);return ht=function(){return e},e}function bt(e){var t=e.notification,n=function(e){return e.milestoneArg?i.createElement(i.Fragment,null,i.createElement(de.a,null,i.createElement(ue,{post:e.post,isYours:!0,isFirst:!0}))," got "+e.milestoneArg+" claps"):null}(t);return i.createElement(O.b,null,function(e){return i.createElement(le.b,{user:e,url:t.post?Object(f.gb)(t.post):"",occurredAt:t.occurredAt,isUnread:t.isUnread},n)})}var vt=s()(ht());function yt(){var e=o()(["\n  fragment NotificationPostPublishedBySomeoneYouFollow_notification on Notification {\n    actor {\n      id\n      name\n    }\n    occurredAt\n    isUnread\n    post {\n      id\n      mediumUrl\n      title\n      visibility\n    }\n    rollupItems {\n      actor {\n        id\n      }\n    }\n    ...NotificationLayout_notification\n  }\n  ","\n"]);return yt=function(){return e},e}function xt(e){var t=e.notification,n={actorName:t.actor?t.actor.name:null,rollupItems:t.rollupItems};return i.createElement(le.b,{actors:n,user:t.actor,url:t.post?Object(f.gb)(t.post):"",occurredAt:t.occurredAt,isUnread:t.isUnread},i.createElement(i.Fragment,null,"published a new story ",i.createElement(de.b,null,t.post?t.post.title:"")))}var wt=s()(yt(),le.a);function Et(){var e=o()(["\n  fragment NotificationSeriesPublishedBySomeoneYouFollow_notification on Notification {\n    actor {\n      id\n      name\n    }\n    occurredAt\n    isUnread\n    post {\n      id\n      mediumUrl\n      title\n      visibility\n    }\n    rollupItems {\n      actor {\n        id\n      }\n    }\n    ...NotificationLayout_notification\n  }\n  ","\n"]);return Et=function(){return e},e}function Ot(e){var t=e.notification,n={actorName:t.actor?t.actor.name:null,rollupItems:t.rollupItems};return i.createElement(le.b,{actors:n,user:t.actor,url:t.post?Object(f.gb)(t.post):"",occurredAt:t.occurredAt,isUnread:t.isUnread},i.createElement(i.Fragment,null,"started a series ",i.createElement(de.b,null,t.post&&t.post.title)))}var jt=s()(Et(),le.a);function _t(){var e=o()(["\n  fragment NotificationSeriesYouFollowUpdated_notification on Notification {\n    actor {\n      id\n      name\n    }\n    occurredAt\n    isUnread\n    post {\n      id\n      mediumUrl\n      title\n      visibility\n    }\n    rollupItems {\n      actor {\n        id\n      }\n    }\n    ...NotificationLayout_notification\n  }\n  ","\n"]);return _t=function(){return e},e}function St(e){var t=e.notification,n={actorName:t.actor?t.actor.name:null,rollupItems:t.rollupItems};return i.createElement(le.b,{actors:n,user:t.actor,url:t.post?Object(f.gb)(t.post):"",occurredAt:t.occurredAt,isUnread:t.isUnread},i.createElement(i.Fragment,null,"updated their series ",i.createElement(de.b,null,t.post?t.post.title:"")))}var kt=s()(_t(),le.a);function Pt(){var e=o()(["\n  fragment NotificationSeriesSubscribed_notification on Notification {\n    actor {\n      id\n      name\n    }\n    occurredAt\n    isUnread\n    post {\n      id\n      mediumUrl\n      title\n      visibility\n    }\n    rollupItems {\n      actor {\n        id\n      }\n    }\n    ...NotificationLayout_notification\n  }\n  ","\n"]);return Pt=function(){return e},e}function Ct(e){var t=e.notification,n={actorName:t.actor?t.actor.name:null,rollupItems:t.rollupItems};return i.createElement(le.b,{actors:n,user:t.actor,url:t.post?Object(f.gb)(t.post):"",occurredAt:t.occurredAt,isUnread:t.isUnread},i.createElement(i.Fragment,null,"subscribed to updates from your series ",i.createElement(de.a,null,t.post?t.post.title:"")))}var It=s()(Pt(),le.a),Lt=n("./src/framework/design-system/type/index.ts"),At=n("./src/components/user/UserFollowButton.tsx");function Tt(){var e=o()(["\n  fragment NotificationsFollowersDialog_user on User {\n    username\n    name\n    imageId\n    bio\n    isFollowing\n    mediumMemberAt\n  }\n"]);return Tt=function(){return e},e}function Nt(e){var t=e.actors,n=e.isVisible,r=e.hide;return i.createElement(d.j,{isVisible:n,hide:r,withAnimation:!0},i.createElement(d.b,{maxWidth:"550px",sm:{paddingTop:"0"}},i.createElement(d.b,{display:"flex",flexDirection:"column",textAlign:"center"},i.createElement(Lt.b,{scale:"S"},"Follows")),t&&t.map(function(e){var t=e.actor;return t&&i.createElement(Rt,{hide:r,actor:t,key:t.id})})))}var Rt=function(e){var t=e.actor,n=e.hide,r=t.username,o=t.name,a=t.bio,c=void 0===a?"":a;return o&&r?i.createElement(d.b,{padding:"12px 0"},i.createElement(d.b,{display:"flex",alignItems:"flex-start",justifyContent:"space-between"},i.createElement(d.b,{display:"flex",alignItems:"flex-start"},i.createElement(d.b,{marginRight:"20px"},i.createElement(v.d,{user:t,scale:"S"})),i.createElement(d.b,{display:"flex",flexDirection:"column",alignItems:"flex-start"},i.createElement(Lt.b,{scale:"XS"},i.createElement(d.u,{href:Object(f.Pb)(r),onClick:n},o)),i.createElement(Lt.a,{scale:"S"},c))),i.createElement(d.b,{marginLeft:"48px"},i.createElement(At.c,{buttonSize:"SMALL",user:t})))):null},Ut=s()(Tt());function Dt(){var e=o()(["\n  fragment NotificationUsersFollowingYou_notification on Notification {\n    actor {\n      id\n      name\n      username\n    }\n    occurredAt\n    isUnread\n    rollupItems {\n      actor {\n        id\n        ...NotificationsFollowersDialog_user\n      }\n    }\n    ...NotificationLayout_notification\n  }\n  ","\n  ","\n"]);return Dt=function(){return e},e}function Mt(e){var t=e.notification,n=e.isRollup,r={actorName:t.actor?t.actor.name:null,rollupItems:t.rollupItems};return n?i.createElement(d.J,null,function(e){var n=e.isVisible,o=e.show,a=e.hide;return i.createElement(i.Fragment,null,i.createElement(le.b,{actors:r,user:t.actor,onClick:o,url:"",occurredAt:t.occurredAt,isUnread:t.isUnread},i.createElement(i.Fragment,null,"started following you")),i.createElement(Nt,{actors:r.rollupItems,isVisible:n,hide:a}))}):i.createElement(le.b,{actors:r,user:t.actor,url:t.actor&&t.actor.username?Object(f.Pb)(t.actor.username):"",occurredAt:t.occurredAt,isUnread:t.isUnread},i.createElement(i.Fragment,null,"started following you"))}var Ht=s()(Dt(),le.a,Ut);function Bt(){var e=o()(["\n  fragment NotificationMentionInPost_notification on Notification {\n    actor {\n      id\n      name\n    }\n    occurredAt\n    isUnread\n    post {\n      id\n      mediumUrl\n      title\n      visibility\n    }\n    rollupItems {\n      actor {\n        id\n      }\n    }\n    ...NotificationLayout_notification\n  }\n  ","\n"]);return Bt=function(){return e},e}function Ft(e){var t=e.notification,n={actorName:t.actor?t.actor.name:null,rollupItems:t.rollupItems};return i.createElement(le.b,{actors:n,user:t.actor,url:t.post?Object(f.gb)(t.post):"",occurredAt:t.occurredAt,isUnread:t.isUnread},i.createElement(i.Fragment,null,"mentioned you in a story ",i.createElement(de.b,null,t.post&&t.post.title)))}var zt=s()(Bt(),le.a);function qt(){var e=o()(["\n  fragment NotificationMentionInSeries_notification on Notification {\n    actor {\n      id\n      name\n    }\n    occurredAt\n    isUnread\n    post {\n      id\n      mediumUrl\n      title\n      visibility\n    }\n    rollupItems {\n      actor {\n        id\n      }\n    }\n    ...NotificationLayout_notification\n  }\n  ","\n"]);return qt=function(){return e},e}function Vt(e){var t=e.notification,n={actorName:t.actor?t.actor.name:null,rollupItems:t.rollupItems};return i.createElement(le.b,{actors:n,user:t.actor,url:t.post?Object(f.gb)(t.post):"",occurredAt:t.occurredAt,isUnread:t.isUnread},i.createElement(i.Fragment,null,"mentioned you in a series ",i.createElement(de.b,null,t.post&&t.post.title)))}var Wt=s()(qt(),le.a);function Gt(){var e=o()(["\n  fragment NotificationPostAddedToHomepageCatalog_notification on Notification {\n    occurredAt\n    isUnread\n    post {\n      id\n      mediumUrl\n      title\n      visibility\n    }\n    rollupItems {\n      actor {\n        id\n      }\n    }\n    ...NotificationLayout_notification\n  }\n  ","\n"]);return Gt=function(){return e},e}function Yt(e){var t=e.notification,n={actorName:null,rollupItems:t.rollupItems};return i.createElement(O.b,null,function(e){return i.createElement(le.b,{actors:n,user:e,url:t.post?Object(f.gb)(t.post):"",occurredAt:t.occurredAt,isUnread:t.isUnread},i.createElement(i.Fragment,null,i.createElement(de.a,null,i.createElement(ue,{post:t.post,isYours:!0,isFirst:!0}))," was featured on the Medium homepage"))})}var Kt=s()(Gt(),le.a);function Xt(){var e=o()(["\n  fragment NotificationFastrakPostAccepted_notification on Notification {\n    occurredAt\n    isUnread\n    post {\n      id\n      mediumUrl\n      title\n      visibility\n    }\n    rollupItems {\n      actor {\n        id\n      }\n    }\n  }\n"]);return Xt=function(){return e},e}var $t=s()(Xt()),Qt=Object(l.c)(function(e){return{productName:e.config.productName}})(function(e){var t=e.productName,n=e.notification;return i.createElement(O.b,null,function(e){return i.createElement(le.b,{user:e,url:n.post?Object(f.gb)(n.post):"",occurredAt:n.occurredAt,isUnread:n.isUnread},i.createElement(i.Fragment,null,i.createElement(i.Fragment,null," ",t," curators selected "),i.createElement(de.b,null,i.createElement(ue,{post:n.post,isYours:!0}))))})});function Jt(){var e=o()(["\n  fragment NotificationHighlightWasPiledOnto_notification on Notification {\n    occurredAt\n    isUnread\n    post {\n      id\n      mediumUrl\n      title\n      visibility\n    }\n    actor {\n      id\n      name\n    }\n    quote {\n      quoteParagraphPreview {\n        text\n      }\n      paragraphs {\n        type\n      }\n    }\n    rollupItems {\n      actor {\n        id\n      }\n    }\n    ...NotificationLayout_notification\n  }\n  ","\n"]);return Jt=function(){return e},e}function Zt(e){var t=e.notification,n=function(e){return e.quote&&e.quote.quoteParagraphPreview&&e.quote.quoteParagraphPreview.text?i.createElement(i.Fragment,null,"also highlighted ",i.createElement(de.c,{text:e.quote.quoteParagraphPreview.text})):i.createElement(i.Fragment,null,"also highlighted ",i.createElement(de.b,null,i.createElement(ue,{post:e.post,isYours:!0})))}(t),r={actorName:t.actor?t.actor.name:null,rollupItems:t.rollupItems};return i.createElement(le.b,{actors:r,user:t.actor,url:t.post&&t.post.id?Object(f.gb)(t.post):"",occurredAt:t.occurredAt,isUnread:t.isUnread},n)}var en=s()(Jt(),le.a);function tn(){var e=o()(["\n  fragment NotificationPostMongerRequestSent_notification on Notification {\n    actor {\n      id\n      name\n      username\n    }\n    occurredAt\n    isUnread\n    post {\n      id\n      mediumUrl\n      title\n      visibility\n    }\n    rollupItems {\n      actor {\n        id\n      }\n    }\n    ...NotificationLayout_notification\n  }\n  ","\n"]);return tn=function(){return e},e}var nn=s()(tn(),le.a),rn=Object(l.c)(function(e){return{productName:e.config.productName}})(function(e){var t=e.productName,n=e.notification;return i.createElement(le.b,{user:n.actor,url:n.post?Object(f.gb)(n.post):"",occurredAt:n.occurredAt,isUnread:n.isUnread},i.createElement(i.Fragment,null,"Our curators would love to feature your story on ",t,". We just emailed you with the details  check your inbox."))});function on(){var e=o()(["\n  fragment NotificationTaxes_notification on Notification {\n    actor {\n      name\n    }\n    notificationType\n    occurredAt\n    isUnread\n    rollupItems {\n      actor {\n        id\n      }\n    }\n  }\n"]);return on=function(){return e},e}var an=function(e,t){return"tax_not_submitted_day_one"===e||"tax_not_submitted_post_earning_limit"===e||"tax_not_submitted_pre_earning_limit"===e?"In order to receive payments through the ".concat(t," Partner Program,\n    please take a moment to add your taxpayer information."):"tax_not_submitted_final"===e?"This is the final week to add your tax information to receive your withheld\n    ".concat(t," payments."):"tax_not_submitted_last_day"===e?"Your ".concat(t," Partner Program withholdings have been forfeited,\n    but you can begin earning again once you submit verified tax information."):"tax_failed_tin_day_one"===e?"We were not able to verify your taxpayer information.\n    In order to be paid, please take a moment to revisit your information.":"tax_failed_tin_post_earning_limit"===e||"tax_failed_tin_pre_earning_limit"===e?"We were not able to verify your taxpayer information. In order to receive payments through\n    ".concat(t," Partner Program, please revisit your information."):"tax_failed_tin_final"===e?"This is the final week to add your tax information to receive your withheld\n    ".concat(t," Partner Program payments."):"tax_failed_tin_last_day"===e?"Your ".concat(t," withholdings have been forfeited,\n    but you can begin earning again once you submit verified tax information."):void 0};var cn=s()(on()),sn=Object(l.c)(function(e){return{productName:e.config.productName}})(function(e){var t=e.productName,n=e.notification,r=n.notificationType;return i.createElement(O.b,null,function(e){return i.createElement(le.b,{user:e,url:Object(f.cb)(),occurredAt:n.occurredAt,isUnread:n.isUnread},i.createElement(i.Fragment,null,an(r,t)))})});function ln(){var e=o()(["\n  fragment NotificationPostShared_notification on Notification {\n    actor {\n      id\n      name\n    }\n    post {\n      id\n      mediumUrl\n      title\n      visibility\n    }\n    occurredAt\n    isUnread\n    rollupItems {\n      actor {\n        id\n      }\n    }\n    ...NotificationLayout_notification\n  }\n  ","\n"]);return ln=function(){return e},e}function un(e){var t=e.notification,n=function(e){return e.post?i.createElement(i.Fragment,null," shared a post with you ",i.createElement(de.b,null,i.createElement(ue,{post:e.post}))):i.createElement(i.Fragment,null," shared a post with you")}(t),r={actorName:t.actor?t.actor.name:null,rollupItems:t.rollupItems};return i.createElement(le.b,{actors:r,user:t.actor,url:t.post?Object(f.gb)(t.post):"",occurredAt:t.occurredAt,isUnread:t.isUnread},n)}var dn=s()(ln(),le.a);function mn(){var e=o()(["\n  fragment Notification_notification on Notification {\n    notificationType\n    ...NotificationQuote_notification\n    ...NotificationResponseCreated_notification\n    ...NotificationPostRecommended_notification\n    ...NotificationCollectionPostSubmitted_notification\n    ...NotificationCollectionDraftSubmitted_notification\n    ...NotificationCollectionPostApproved_notification\n    ...NotificationCollectionPostPublished_notification\n    ...NotificationCollectionEditorAdded_notification\n    ...NotificationPostCollaboratedPublished_notification\n    ...NotificationPostNoted_notification\n    ...NotificationNoteReplied_notification\n    ...NotificationPostNoteReplied_notification\n    ...NotificationMentionInNote_notification\n    ...NotificationMentionInNoteUpdate_notification\n    ...NotificationMentionInNoteReply_notification\n    ...NotificationMentionInNoteReplyUpdate_notification\n    ...NotificationCollectionFollowedMilestone_notification\n    ...NotificationPostAddedToEditorsPicks_notification\n    ...NotificationPostRecommendedMilestone_notification\n    ...NotificationPostClappedMilestone_notification\n    ...NotificationPostPublishedBySomeoneYouFollow_notification\n    ...NotificationSeriesPublishedBySomeoneYouFollow_notification\n    ...NotificationSeriesYouFollowUpdated_notification\n    ...NotificationSeriesSubscribed_notification\n    ...NotificationUsersFollowingYou_notification\n    ...NotificationMentionInPost_notification\n    ...NotificationMentionInSeries_notification\n    ...NotificationPostAddedToHomepageCatalog_notification\n    ...NotificationFastrakPostAccepted_notification\n    ...NotificationHighlightWasPiledOnto_notification\n    ...NotificationPostMongerRequestSent_notification\n    ...NotificationTaxes_notification\n    ...NotificationPostShared_notification\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return mn=function(){return e},e}function fn(e){var t=e.notification,n=t.notificationType.includes("_rollup");switch(n?t.notificationType.replace("_rollup",""):t.notificationType){case"quote":return i.createElement(fe,{notification:t,isRollup:n});case"response_created":return i.createElement(he,{notification:t,isRollup:n});case"post_recommended":return i.createElement(ye,{notification:t});case"collection_post_submitted":return i.createElement(je,{notification:t});case"collection_draft_submitted":return i.createElement(ke,{notification:t});case"collection_post_approved":return i.createElement(Ie,{notification:t});case"collection_post_published":return i.createElement(Te,{notification:t});case"collection_editor_added":return i.createElement(Ue,{notification:t});case"post_collaborated_published":return i.createElement(Me,{notification:t});case"post_noted":return i.createElement(Fe,{notification:t});case"note_replied":return i.createElement(Ve,{notification:t});case"post_note_replied":return i.createElement(Ye,{notification:t});case"mention_in_note":return i.createElement($e,{notification:t});case"mention_in_note_update":return i.createElement(Ze,{notification:t});case"mention_in_note_reply":return i.createElement(nt,{notification:t});case"mention_in_note_reply_update":return i.createElement(it,{notification:t});case"collection_followed_milestone":return i.createElement(lt,{notification:t});case"post_added_to_editors_picks":return i.createElement(dt,{notification:t});case"post_recommended_milestone":return i.createElement(pt,{notification:t});case"post_clapped_milestone":return i.createElement(bt,{notification:t});case"post_published_by_someone_you_follow":return i.createElement(xt,{notification:t});case"series_published_by_someone_you_follow":return i.createElement(Ot,{notification:t});case"series_you_follow_updated":return i.createElement(St,{notification:t});case"series_subscribed":return i.createElement(Ct,{notification:t});case"users_following_you":return i.createElement(Mt,{notification:t,isRollup:n});case"mention_in_post":return i.createElement(Ft,{notification:t});case"mention_in_series":return i.createElement(Vt,{notification:t});case"post_added_to_homepage_catalog":return i.createElement(Yt,{notification:t});case"fastrak_post_accepted":return i.createElement(Qt,{notification:t});case"highlight_was_piled_onto":return i.createElement(Zt,{notification:t});case"post_monger_request_sent":return i.createElement(rn,{notification:t});case"post_shared":return i.createElement(un,{notification:t});case"tax_not_submitted_day_one":case"tax_not_submitted_pre_earning_limit":case"tax_not_submitted_post_earning_limit":case"tax_not_submitted_final":case"tax_not_submitted_last_day":case"tax_failed_tin_day_one":case"tax_failed_tin_post_earning_limit":case"tax_failed_tin_pre_earning_limit":case"tax_failed_tin_final":case"tax_failed_tin_last_day":return i.createElement(sn,{notification:t});default:return null}}var pn=s()(mn(),pe,be,xe,Oe,Se,Ce,Ae,Re,He,ze,We,Ke,Qe,et,rt,at,st,mt,gt,vt,wt,jt,kt,It,Ht,zt,Wt,Kt,$t,en,nn,cn,dn);function gn(e){var t=e.fetchMore;return t?i.createElement(d.u,{linkStyle:"OBVIOUS",onClick:t},"Older notifications"):i.createElement(i.Fragment,null,"You're all caught up.")}var hn=Object(l.c)(function(e){return{authDomain:e.config.authDomain}})(function(e){var t=e.authDomain,n=e.fetchMore;return i.createElement(d.b,{width:"100%",display:"flex",justifyContent:"space-between",marginTop:"10px",marginBottom:"10px",padding:"10px 20px"},i.createElement(Lt.a,{scale:"M"},i.createElement(gn,{fetchMore:n})),i.createElement(Lt.a,{scale:"M"},i.createElement(d.u,{linkStyle:"OBVIOUS",href:Object(f.ac)(t)},"Your stats")))});function bn(){var e=o()(["\n  query NotificationsWidgetQuery($pagingOptions: PagingOptions) {\n    notificationsConnection(paging: $pagingOptions) {\n      notifications {\n        ...Notification_notification\n      }\n      pagingInfo {\n        next {\n          limit\n          page\n          source\n          to\n        }\n      }\n    }\n    notificationStatus {\n      ...NotificationsBadge_notificationStatus\n    }\n  }\n  ","\n  ","\n"]);return bn=function(){return e},e}function vn(e){var t=e.setIsMetabarLocked;return i.createElement(K.b,{query:yn},function(e){var n=e.fetchMore,r=e.data,o=(r=void 0===r?{}:r).notificationsConnection,a=r.notificationStatus;if(!a||!o)return null;var c,s=o.notifications;s||(s=[]);var l=o.pagingInfo&&o.pagingInfo.next;if(l){var u={limit:l.limit,page:l.page,source:l.source,to:l.to};c=function(){return n({variables:{pagingOptions:u},updateQuery:function(e,t){var n=t.fetchMoreResult,r=Y()(n);return r.notificationsConnection.notifications=[].concat(W()(e.notificationsConnection.notifications),W()(n.notificationsConnection.notifications)),r}})}}return i.createElement(d.J,null,function(e){var n=e.isVisible,r=e.hide,o=e.toggle;return i.createElement(d.x,{flip:!1,hide:function(){r(),t(!1)},isVisible:n,popoverRenderFn:function(){return i.createElement(m.a,{padding:"0"},i.createElement(i.Fragment,null,s.map(function(e,t){return i.createElement(i.Fragment,{key:t},i.createElement(m.b,{paddingTopBottom:"0",paddingLeftRight:"0"},i.createElement(fn,{notification:e})),i.createElement(m.c,{paddingTopBottom:"0",width:"360px"}))}),i.createElement(hn,{fetchMore:c})))},setMaxHeight:!0},i.createElement(ce,{notificationStatus:a,toggle:function(){t(!n),o()}}))})})}var yn=s()(bn(),pn,se),xn=n("./src/components/optimizely/OptimizelyWrapper.tsx"),wn=n("./node_modules/@babel/runtime/regenerator/index.js"),En=n.n(wn),On=n("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"),jn=n.n(On),_n=n("./src/components/format/Date.tsx"),Sn=n("./src/components/navigation/Redirect.tsx"),kn=n("./src/components/session/WithFlag.tsx"),Pn=n("./src/components/ui/Byline.tsx"),Cn=n("./src/framework/style/index.ts"),In=n("./src/svg/search-25px.svg");function Ln(){return(Ln=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var An=a.a.createElement("path",{d:"M4.66 8.72L3.43 9.95a1.75 1.75 0 0 0 0 2.48l5.14 5.13c.7.7 1.8.69 2.48 0l1.23-1.22 5.35-5.35a2 2 0 0 0 .51-1.36l-.32-4.29a2.42 2.42 0 0 0-2.15-2.14l-4.3-.33c-.43-.03-1.05.2-1.36.51l-.79.8-2.27 2.28-2.28 2.27zm9.83-.98a1.25 1.25 0 1 0 0-2.5 1.25 1.25 0 0 0 0 2.5z",fillRule:"evenodd"}),Tn=function(e){return a.a.createElement("svg",Ln({width:21,height:21},e),An)},Nn=n("./src/components/ui/image/index.ts"),Rn=n("./src/util/miroImage.ts"),Un=3,Dn="/1/indexes/*/queries",Mn="tag",Hn="post",Bn=["user","collection",Mn],Fn="numericFilters",zn="results";var qn={collection:null,query:"",collections:[],posts:[],users:[],tags:[]};function Vn(e,t,n){var r=e[zn],o={collection:null,query:"",collections:[],posts:[],users:[],tags:[]};return o.query=t,n?(o.collection=n,o.posts=r[0].hits.filter(function(e){return!!e.latestPublishedAt})):(o.users=r[0].hits,o.collections=r[1].hits,o.tags=r[2].hits),o}function Wn(e,t,n){return Gn.apply(this,arguments)}function Gn(){return(Gn=jn()(En.a.mark(function e(t,n,r){var o,i,a,c,s,l,u;return En.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=r&&r.id?r.id:null,i="https://"+t.appId+t.host,a=i+Dn,c={query:n,hitsPerPage:Un,numericFilters:""},o&&(c.facetFilters="collectionId:".concat(o),c.attributesToRetrieve="title,postId,latestPublishedAt"),s=(o?[Hn]:Bn).map(function(e){return e===Mn&&(c[Fn]="postCount>=1,followerCount>=1"),{indexName:t.indexPrefix+e,params:Object.keys(c).map(function(e){return e+"="+c[e]}).join("&").toString()}}),l={requests:s},e.next=10,fetch(a,{method:"POST",headers:{"X-Algolia-API-Key":t.apiKeySearch,"X-Algolia-Application-Id":t.appId},body:JSON.stringify(l)}).then(function(e){return e.json()});case 10:return u=e.sent,e.abrupt("return",Vn(u,n,r));case 12:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Yn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var Kn="16px",Xn="10px",$n="1*dmbNkD5D-u45r44go_cf0g.png";function Qn(e){var t=e.type,n=e.name,r=e.url,o=e.imageId,a=e.query,c=Object(y.c)(),s=Object(Cn.useCx)(),l=i.createElement(i.Fragment,null);if("TAG"===t){l=i.createElement("div",{className:s({fill:"rgba(0, 0, 0, 0.54)",display:"block",marginLeft:"5px",marginRight:"6px"})},i.createElement(Tn,null))}"COLLECTION"===t&&(l=i.createElement(Nn.b,{rules:{borderRadius:"3px"},miroId:o||"",freezeGifs:!1,alt:n||"Publication avatar",width:32,height:32,strategy:Rn.a.Crop})),"USER"===t&&(l=i.createElement(Nn.a,{miroId:o||$n,alt:n||"",diameter:32,freezeGifs:!1}));var u=i.createElement(Lt.a,{color:"DARKER",scale:"M"},i.createElement("div",{className:s({width:"170px",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"})},n));return i.createElement(d.b,{display:"flex",width:"250px",tag:"li",paddingLeft:"20px",paddingRight:"20px"},i.createElement(d.b,{marginBottom:"16px"},i.createElement(d.u,{linkStyle:"SUBTLE",href:r,onClick:function(e){c.event("search.predictiveResultClicked",{type:t.toLowerCase(),query:a,path:e.currentTarget.href,rank:0,total:0})}},i.createElement(Pn.a,{avatar:l,title:u,description:null}))))}function Jn(e){var t=e.collectionOrProductName,n=e.slug,r=e.onQueryChange,o=Object(Cn.useCx)(),a={border:"none",outline:"none",font:"inherit",fontSize:"16px",lineHeight:"20px",opacity:0},c=function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Yn(n,!0).forEach(function(t){Z()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yn(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({position:"relative"},e?{width:"182px",marginRight:"28px",opacity:100}:{width:"0px",opacity:0},{transition:"width 140ms ease-in"})},s=i.useState(""),l=I()(s,2),u=l[0],m=l[1],p=i.useState(!1),g=I()(p,2),h=g[0],b=g[1],v=function(e){m(e.target.value),r(e.target.value)};return h?i.createElement(Sn.a,{to:Object(f.mb)(u,n)}):i.createElement(d.J,null,function(e){var n=e.isVisible,r=e.toggle;return i.createElement(d.b,{display:"flex"},i.createElement(d.u,{onClick:r},i.createElement(d.b,{tag:In.a,marginLeft:Kn,marginRight:Xn,sm:{marginLeft:Xn,marginRight:Xn}})),i.createElement("input",{className:o([a,c(n)]),placeholder:"Search ".concat(t),ref:function(e){return e&&n&&e.focus()},value:u,onChange:v,onKeyDown:function(e){13===e.keyCode&&b(!0)}}))})}function Zn(e){var t=e.title,n=e.url;return i.createElement(d.b,{width:"250px",padding:"0 20px"},i.createElement(d.b,{display:"flex",justifyContent:"space-between",marginBottom:"8px"},i.createElement(Lt.d,null,t),n&&i.createElement(Lt.a,{scale:"S"},i.createElement(d.u,{linkStyle:"SUBTLE",href:n},"More"))),i.createElement(m.c,{width:"100%",paddingTopBottom:"0"}))}function er(e){var t=e.data,n=e.moreUrl,r=t.collections,o=t.query;return i.createElement(i.Fragment,null,i.createElement(Zn,{title:"Publications",url:n}),i.createElement(d.b,{marginTop:"20px",marginBottom:"8px"},r.map(function(e,t){var n=e.collectionId,r=e.imageId,a=e.name;return i.createElement(Qn,{key:t,type:"COLLECTION",name:a,imageId:r,url:Object(f.q)(n),query:o})})))}function tr(e){var t=e.data,n=e.moreUrl,r=t.tags,o=t.query;return i.createElement(i.Fragment,null,i.createElement(Zn,{title:"Tags",url:n}),i.createElement(d.b,{marginTop:"20px",marginBottom:"8px"},r.map(function(e,t){var n=e.displayText,r=e.tagSlug;return i.createElement(Qn,{key:t,type:"TAG",name:n,url:Object(f.Bb)(r),query:o})})))}function nr(e){var t=e.data,n=e.moreUrl,r=t.query,o=t.users;return i.createElement(i.Fragment,null,i.createElement(Zn,{title:"People",url:n}),i.createElement(d.b,{marginTop:"20px",marginBottom:"8px"},o.map(function(e,t){var n=e.imageId,o=e.name,a=e.username;return i.createElement(Qn,{key:t,type:"USER",imageId:n,name:o,url:Object(f.Pb)(a),query:r})})))}function rr(e){var t=e.query,n=e.url,r=e.productName;return i.createElement(d.b,{display:"flex",alignContent:"center",backgroundColor:"BASE_LIGHT",width:"250px",overflow:"hidden",whiteSpace:"pre-line",padding:"10px 20px"},i.createElement(Lt.a,{scale:"S",color:"DARKER"},i.createElement(d.u,{href:n},"Search for '".concat(t,"' on ").concat(r))))}function or(e){var t=e.data,n=Object(Cn.useCx)(),r=Object(y.c)(),o={width:"210px",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"},a=t.posts,c=i.useCallback(function(e){r.event("search.predictiveResultClicked",{type:"post",query:t.query,path:e.currentTarget.href,rank:0,total:0})},[t.query]);return 0!==a.length?i.createElement(i.Fragment,null,i.createElement(Zn,{title:"Stories"}),i.createElement(d.b,{marginTop:"20px",marginBottom:"8px"},a.map(function(e,t){var r=Object(f.gb)({id:e.postId},!0);return i.createElement(d.b,{key:t,display:"flex",width:"250px",tag:"li",paddingLeft:"20px",paddingRight:"20px"},i.createElement(d.b,{marginBottom:"16px"},i.createElement(d.u,{linkStyle:"SUBTLE",href:r,onClick:c},i.createElement(Lt.a,{scale:"S",color:"DARKER"},i.createElement("div",{className:n(o)},e.title)),i.createElement(Lt.a,{scale:"S"},i.createElement(_n.a,{timestamp:e.latestPublishedAt})))))}))):null}var ir=Object(l.c)(function(e){return{productName:e.config.productName,algolia:e.config.algolia}})(function(e){var t=e.collection,n=e.productName,r=e.algolia,o=e.setIsMetabarLocked,a=Object(Cn.useCx)(),c=Object(y.c)(),s=i.useState(qn),l=I()(s,2),u=l[0],p=l[1],g=i.useState(""),h=I()(g,2),b=h[0],v=h[1],x=i.useState(!1),w=I()(x,2),E=w[0],O=w[1],j=t&&!t.domain?t.slug:null,_=t&&t.name?t.name:n,S=function(){O(!1),o(!1)},k=i.useCallback(function(){return c.event("search.predictiveOpened",{})},[]);i.useEffect(function(){if(!b)return S();var e;E||(O(!0),o(!0),k()),(e=jn()(En.a.mark(function e(){return En.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=p,e.next=3,Wn(r,b,t||null);case 3:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 5:case"end":return e.stop()}},e)})),function(){return e.apply(this,arguments)})()},[b]);var P={marginTop:Kn,marginBottom:Kn,display:"inherit",alignItems:"center",maxWidth:"210px",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"},C=i.createElement(m.a,{padding:"0"},i.createElement(d.b,{display:"flex",width:"250px",tag:"li",paddingLeft:"20px",paddingRight:"20px"},i.createElement(d.d,null,i.createElement("div",{className:a(P)},i.createElement(d.b,{display:"inline",tag:In.a,marginRight:Xn,sm:{marginRight:Xn}}),i.createElement(d.u,{href:Object(f.mb)(b,j)},t?"Search ".concat(_):"Search for '".concat(u.query,"'"))))),function(){if(!u)return null;var e=u.collections,r=u.posts,o=u.tags,a=u.users;return t?t&&r?i.createElement(i.Fragment,null,i.createElement(or,{data:u}),i.createElement(rr,{url:Object(f.mb)(b,null),query:b,productName:n})):void 0:i.createElement(i.Fragment,null,a&&!!a.length&&i.createElement(nr,{data:u,moreUrl:Object(f.mb)(b,j,"users")}),e&&!!e.length&&i.createElement(er,{data:u,moreUrl:Object(f.mb)(b,j,"publications")}),o&&!!o.length&&i.createElement(tr,{data:u,moreUrl:Object(f.mb)(b,j,"tags")}))}()),L=i.createElement(Jn,{collectionOrProductName:_,slug:j,onQueryChange:function(e){v(e)}});return i.createElement(kn.a,{name:"enable_inline_search_popover_lite"},function(e){return e?i.createElement(d.J,null,function(e){var t=e.hide;return i.createElement(d.x,{flip:!1,isVisible:E,hide:function(){S(),t()},popoverRenderFn:function(){return C},setMaxHeight:!0},L)}):L})}),ar=n("./src/components/session/RequireFlag.tsx");function cr(){return(cr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var sr=a.a.createElement("path",{d:"M16 6a2 2 0 0 1 2 2v13.66h-.01a.5.5 0 0 1-.12.29.5.5 0 0 1-.7.03l-5.67-4.13-5.66 4.13a.5.5 0 0 1-.7-.03.48.48 0 0 1-.13-.29H5V8c0-1.1.9-2 2-2h9zM6 8v12.64l5.16-3.67a.49.49 0 0 1 .68 0L17 20.64V8a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z"}),lr=a.a.createElement("path",{d:"M21 5v13.66h-.01a.5.5 0 0 1-.12.29.5.5 0 0 1-.7.03l-.17-.12V5a1 1 0 0 0-1-1h-9a1 1 0 0 0-1 1H8c0-1.1.9-2 2-2h9a2 2 0 0 1 2 2z"}),ur=function(e){return a.a.createElement("svg",cr({width:25,height:25,viewBox:"0 0 25 25"},e),sr,lr)};function dr(){var e=o()(["\n  fragment MetabarActionsLI_post on Post {\n    ...MetabarButtonConversionLI_post\n    isLocked\n    pendingCollection {\n      ...MetabarActionsLI_collection_common\n    }\n    ...MetabarPostMenuButton_post\n  }\n  ","\n  ","\n  ","\n"]);return dr=function(){return e},e}function mr(){var e=o()(["\n  fragment MetabarActionsLI_collection on Collection {\n    ...CollectionAvatar_collection\n    ...CollectionMetabarActionsPopover_collection\n    ...MetabarActionsLI_collection_common\n  }\n  ","\n  ","\n  ","\n"]);return mr=function(){return e},e}function fr(){var e=o()(["\n  fragment MetabarActionsLI_collection_common on Collection {\n    creator {\n      id\n    }\n    viewerIsEditor\n  }\n"]);return fr=function(){return e},e}var pr="16px",gr="10px";var hr=s()(fr()),br=s()(mr(),u.b,h,hr),vr=s()(dr(),k,hr,z),yr=Object(l.c)(function(e){return{authDomain:e.config.authDomain}})(function(e){var t=e.authDomain,n=e.collection,r=e.post,o=e.viewer,a=e.setIsMetabarLocked,c=!!o.mediumMemberAt,s=n||r&&r.pendingCollection,l=s&&s.creator&&s.creator.id===o.id,m=s&&s.viewerIsEditor,g=l||m,h=r&&r.creator&&r.creator.id===o.id,y=r&&(g||h);return i.createElement(kn.a,{name:"can_edit_members_only_posts"},function(e){var s=e&&r&&r.isLocked,l=y||s;return i.createElement(d.d,null,i.createElement(d.b,{display:"flex",alignItems:"center",justifyContent:"flex-end"},l&&r&&i.createElement(q,{post:r}),!l&&i.createElement(i.Fragment,null,i.createElement(d.b,{display:"flex",md:{display:"none"}},i.createElement(j.b,{source:{name:"search-popover"}},i.createElement(ir,{collection:n,setIsMetabarLocked:a}))),i.createElement(d.b,{display:"none",md:{display:"flex"}},i.createElement(d.u,{href:Object(f.lb)()},i.createElement(d.b,{tag:In.a,marginLeft:pr,marginRight:pr,sm:{marginLeft:gr,marginRight:gr}})))),!l&&c&&i.createElement(d.u,{href:Object(f.Vb)(t)},i.createElement(d.b,{tag:ur,marginRight:pr,sm:{display:"none"}})),i.createElement(d.b,{marginRight:pr,display:"flex",sm:{marginRight:gr}},i.createElement(p.b,null,i.createElement(vn,{setIsMetabarLocked:a}))),!c&&i.createElement(xn.a,{featureString:"li-post-page-navbar",target:"upsell-button"},i.createElement(d.b,{marginRight:pr,sm:{display:"none"}},i.createElement(P,{post:r}))),i.createElement(w,{viewer:o,setIsMetabarLocked:a},i.createElement(v.d,{user:o,scale:"XS"})),n&&g&&i.createElement(ar.a,{name:"enable_lite_pub_header_menu"},i.createElement(d.b,{marginLeft:pr,sm:{marginLeft:gr}},i.createElement(b,{collection:n},i.createElement(u.a,{collection:n,size:32}))))))})}),xr=n("./src/components/metabar/MetabarActionsLO.tsx");function wr(){var e=o()(["\n  fragment MetabarActions_post on Post {\n    ...MetabarActionsLI_post\n  }\n  ","\n"]);return wr=function(){return e},e}function Er(){var e=o()(["\n  fragment MetabarActions_collection on Collection {\n    ...MetabarActionsLI_collection\n  }\n  ","\n"]);return Er=function(){return e},e}function Or(e){var t=e.post,n=e.collection,r=e.withoutConversionButton,o=void 0!==r&&r,a=e.setIsMetabarLocked;return i.createElement(O.b,null,function(e){return e?i.createElement(yr,{viewer:e,post:t,collection:n,setIsMetabarLocked:a}):i.createElement(xr.b,{withoutConversionButton:o,post:t})})}n.d(t,"c",function(){return Or}),n.d(t,"a",function(){return jr}),n.d(t,"b",function(){return _r});var jr=s()(Er(),br),_r=s()(wr(),vr)},"./src/components/metabar/MetabarActionsLO.tsx":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),o=n.n(r),i=n("./node_modules/react/index.js"),a=n("./node_modules/graphql-tag/src/index.js"),c=n.n(a),s=n("./node_modules/react-redux/es/index.js"),l=n("./src/framework/design-system/components/index.ts"),u=n("./src/components/optimizely/OptimizelyWrapper.tsx"),d=n("./src/components/susi/SusiClickable.tsx"),m=n("./src/framework/source/index.ts"),f=n("./src/components/upsell/UpsellClickable.tsx"),p=n("./src/framework/track/UpsellPresentationTracker.tsx");function g(){var e=o()(["\n  fragment MetabarButtonConversionLO_post on Post {\n    ...UpsellClickable_post\n  }\n  ","\n"]);return g=function(){return e},e}var h=c()(g(),f.b),b=function(e){var t=e.post;return i.createElement(m.b,{source:{name:"upgrade_membership",dimension:"nav_full"}},i.createElement(p.a,null,i.createElement(f.a,{linkStyle:"SUBTLE",post:t},i.createElement(l.d,null,"Become a member"))))};function v(){var e=o()(["\n  fragment MetabarActionsLO_post on Post {\n    ...MetabarButtonConversionLO_post\n    ...SusiClickable_post\n  }\n  ","\n  ","\n"]);return v=function(){return e},e}n.d(t,"a",function(){return y});t.b=Object(s.c)(function(e){return{isAmp:e.config.isAmp}})(function(e){var t=e.withoutConversionButton,n=void 0!==t&&t,r=e.post,o=e.isAmp;return i.createElement(l.b,{display:"flex",alignItems:"center"},!o&&i.createElement(l.b,{display:"flex",sm:{display:"none"}},!n&&i.createElement(u.a,{featureString:"lo-post-page-navbar",target:"upsell-button"},i.createElement(b,{post:r})),i.createElement(u.a,{featureString:"lo-post-page-navbar",target:"sign-in-link"},i.createElement(l.b,{marginLeft:"16px"},i.createElement(l.d,null,i.createElement(d.a,{linkStyle:"OBVIOUS",operation:"login",susiEntry:"nav_reg"},"Sign in"))))),i.createElement(u.a,{featureString:"lo-post-page-navbar",target:"get-started-button"},i.createElement(l.b,{marginLeft:"16px"},i.createElement(d.a,{isButton:!0,buttonStyle:"OBVIOUS",operation:"register",post:r,susiEntry:"nav_reg"},"Get started"))))});var y=c()(v(),h,d.c)},"./src/components/metabar/MetabarLayout.tsx":function(e,t,n){"use strict";n.d(t,"a",function(){return v});var r=n("./node_modules/@babel/runtime/helpers/extends.js"),o=n.n(r),i=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),a=n.n(i),c=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),s=n.n(c),l=n("./node_modules/react/index.js"),u=n("./src/framework/track/index.ts"),d=n("./src/framework/design-system/components/index.ts"),m=n("./src/framework/style/index.ts"),f=n("./src/styles/mediaTypes.ts"),p=n("./src/styles/zIndex.ts"),g=25,h=25,b=function(e,t){return function(n){var r;return r={display:"block",position:e?"fixed":"absolute",top:"0",left:"0",right:"0",backgroundColor:t?"transparent":n.backgroundColor,zIndex:p.a.metabar,boxShadow:"0 4px 12px 0 rgba(0, 0, 0, 0.05)"},s()(r,Object(f.b)("no-preference"),{transition:e?"transform 300ms ease":null,willChange:e?"transform":null}),s()(r,Object(f.c)(n),{display:"none"}),r}},v=function(e){var t=e.behavior,n=void 0===t?"none":t,r=e.children,i=e.height,c=e.heightSm,f=e.isFixed,p=e.isLocked,v=e.isTransparent,y=e.marginBottom,x=void 0===y?64:y,w=e.marginBottomSm,E=void 0===w?24:w,O=e.breakpoint,j=void 0===O?"sm":O,_=Object(m.useCx)(),S=l.useState(!0),k=a()(S,2),P=k[0],C=k[1],I=l.useState(0),L=a()(I,2),A=L[0],T=L[1];return l.useEffect(function(){if("none"!==n&&f)return u.a.on("scroll_down",t),u.a.on("scroll_up",e),function(){u.a.off("scroll_down",t),u.a.off("scroll_up",e)};function e(){window.pageYOffset<=h&&C(!0),"aggressive"===n&&A-window.pageYOffset>=g&&C(!0)}function t(){window.pageYOffset>h&&!p&&C(!1),T(window.pageYOffset)}}),l.createElement(l.Fragment,null,l.createElement("nav",{className:_(b(f,v)),style:{transform:P?null:"translatey(-100%)"}},l.createElement("div",{className:"branch-journeys-top"},r)),l.createElement(d.b,o()({height:"".concat(i,"px"),marginBottom:"".concat(x,"px")},s()({},j,{height:"".concat(c,"px"),marginBottom:"".concat(E,"px")}))))}},"./src/components/metabar/constants.ts":function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"c",function(){return o}),n.d(t,"b",function(){return i});var r=65,o=56,i=54},"./src/components/navigation/Anchor.tsx":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/extends.js"),o=n.n(r),i=n("./node_modules/react/index.js"),a=n("./node_modules/react-router-dom/esm/react-router-dom.js"),c=n("./node_modules/react-redux/es/index.js"),s=n("./src/components/session/useFlag.tsx"),l=n("./src/components/session/WithFlag.tsx"),u=n("./src/framework/source/index.ts"),d=n("./src/routes/getLiteRouteForPath.ts"),m=n("./src/routes/RoutingContext.tsx"),f=n("./src/util/navigation.ts");t.a=function(e){var t=e.href,n=e.children,r=e.disableSourceParam,p=void 0!==r&&r,g=e["aria-label"],h=e.className,b=e.onClick,v=e.target,y=Object(u.d)(),x=Object(m.c)(),w=Object(s.a)("enable_lite_path_matcher"),E=Object(c.e)(function(e){return{currentHostname:e.navigation.hostname,isCustomDomain:e.client.isCustomDomain,tierOneDomainsRegexp:(e.config.tierOneDomains||[]).filter(function(e){return!!e}).map(function(e){return new RegExp("^(.+\\.)?".concat(e,"$"))})}}),O=E.currentHostname,j=E.isCustomDomain,_=E.tierOneDomainsRegexp,S=!!_.find(function(e){return e.test(O)}),k="#"===t[0];y&&!p&&(t=Object(f.a)(t,{source:y}));var P={"aria-label":g,className:h,onClick:b,target:k?void 0:v,rel:"noopener"},C=!Object(f.f)(t,O),I=Object(f.c)(t);I&&C&&S&&!_.find(function(e){return e.test(I)})&&(P.rel="".concat(P.rel," nofollow").trim());var L=i.createElement("a",o()({href:t},P),n);if(C||k||b)return L;var A,T=Object(f.d)(t),N=w?(A=x(T))?{serviceVariantFlag:A.route.serviceVariantFlag}:null:function(e){var t=Object(d.a)(e,{isCustomDomain:j});return t?{serviceVariantFlag:t.flagName}:null}(T);if(!N)return L;var R=i.createElement(a.b,o()({to:T},P),n);return N.serviceVariantFlag?i.createElement(l.a,{name:N.serviceVariantFlag},function(e){return!0===e?R:L}):R}},"./src/components/navigation/Redirect.tsx":function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return a});var r=n("./node_modules/react/index.js"),o=n("./node_modules/react-router/esm/react-router.js"),i=n("./src/screens/LoadingScreen.tsx");function a(t){var n=t.to;return e.window?(e.window.location=n,r.createElement(i.a,null)):r.createElement(o.a,{to:n})}}).call(this,n("./node_modules/webpack/buildin/global.js"))},"./src/components/notifications/notification-types/util/NotificationLayout.tsx":function(e,t,n){"use strict";(function(e){n.d(t,"b",function(){return E}),n.d(t,"a",function(){return O});var r=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),o=n.n(r),i=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),a=n.n(i),c=n("./node_modules/react/index.js"),s=n("./node_modules/graphql-tag/src/index.js"),l=n.n(s),u=n("./node_modules/date-fns/index.js"),d=n("./src/components/format/Date.tsx"),m=n("./src/components/format/TimeAgo.tsx"),f=n("./src/components/notifications/notification-types/util/NotificationStyles.tsx"),p=n("./src/components/user/UserAvatar.tsx"),g=n("./src/framework/design-system/components/index.ts");function h(){var e=o()(["\n  fragment NotificationLayout_notification on Notification {\n    actor {\n      ...UserAvatar_user\n    }\n    rollupItems {\n      actor {\n        id\n      }\n    }\n  }\n  ","\n"]);return h=function(){return e},e}function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(n,!0).forEach(function(t){a()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function y(e){if(!e)return null;var t,n=e.actorName?e.actorName:"Unknown user";if(e.rollupItems){var r=(t=e.rollupItems)?new Set(t.map(function(e){return e.actor})).size:0;if(r>1)return r>2?n+" + "+(r-1)+" others ":n+" + 1 other "}return n+" "}function x(t){var n=t.timestamp;return Object(u.differenceInDays)(e.Date.now(),n)>=5?c.createElement(d.a,{timestamp:n}):c.createElement(m.a,{timestamp:n})}function w(e){var t=e.onClick,n=e.url,r=e.children;return t?c.createElement(g.u,{style:{border:"none"},onClick:t},r):n?c.createElement(g.u,{inheritBorder:!1,href:n},r):c.createElement(g.b,{border:"NONE"},r)}function E(e){var t=e.url,n=e.onClick,r=e.user,o=e.actors,i=e.children,a=e.occurredAt,s=e.isUnread;return c.createElement(g.M,null,function(e){return c.createElement("div",{style:v({display:"flex",flexDirection:"row",padding:"20px",width:"360px",lineHeight:1.4},s?{borderLeftColor:"".concat(e.accentColor.border.normal),borderLeftStyle:"".concat(e.borderStyle),borderLeftWidth:"3px"}:{border:"none"})},c.createElement(g.b,{marginRight:"16px",marginTop:"auto",marginBottom:"auto"},r?c.createElement(p.d,{scale:"XS",user:r,link:!0}):c.createElement(p.a,{scale:"XS"})),c.createElement(w,{url:t,onClick:n},c.createElement(g.b,{textAlign:"left",display:"flex",flexDirection:"column"},c.createElement(g.b,null,o?c.createElement(f.a,null,y(o)):null,i),a&&c.createElement(g.b,null,c.createElement(x,{timestamp:a})))))})}var O=l()(h(),p.b)}).call(this,n("./node_modules/webpack/buildin/global.js"))},"./src/components/notifications/notification-types/util/NotificationStyles.tsx":function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return c}),n.d(t,"c",function(){return u}),n.d(t,"d",function(){return d});var r=n("./node_modules/react/index.js"),o=n("./src/framework/style/index.ts"),i=n("./src/framework/design-system/components/index.ts");function a(e){var t=e.children,n=Object(o.useCx)();return r.createElement(o.WithTheme,null,function(e){var o={color:e.baseColor.text.dark};return r.createElement("span",{className:n(o)},t," ")})}function c(e){var t=e.children,n=Object(o.useCx)();return r.createElement(o.WithTheme,null,function(e){var o={color:e.baseColor.text.dark};return r.createElement("span",{className:n(o)},r.createElement(i.b,null,t))})}function s(e){var t=e.children,n=Object(o.useCx)();return r.createElement(o.WithTheme,null,function(e){var o={color:e.baseColor.text.dark,textOverflow:"ellipsis"};return r.createElement("span",{className:n(o)},r.createElement(i.b,null,t))})}function l(e){var t=e.children,n=Object(o.useCx)();return r.createElement(o.WithTheme,null,function(e){var o={color:e.baseColor.text.dark,backgroundColor:"rgba(12,242,143,.2)",display:"block",width:"fit-content",maxWidth:"250px",padding:"2px 2px 1px",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"};return r.createElement("span",{className:n(o)},t," ")})}function u(e){var t=e.text;return r.createElement(l,null,t.substring(0,50))}function d(e){var t=e.text;return r.createElement(s,null,""+t.substring(0,50)+"")}},"./src/components/optimizely/OptimizelyWrapper.tsx":function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),o=n.n(r),i=n("./node_modules/react/index.js"),a=n("./node_modules/react-redux/es/index.js"),c=n("./src/framework/style/index.ts"),s=n("./src/util/hooks/useIsomorphicLayoutEffect.tsx"),l=function(e){var t=e.children,n=e.featureString,r=e.target,l=e.tag,u=void 0===l?"div":l,d=Object(c.useCx)(),m=Object(a.e)(function(e){return e.config.isAmp}),f=Object(a.e)(function(e){return e.client}).isBot,p=i.useState(!1),g=o()(p,2),h=g[0],b=g[1];return Object(s.a)(function(){return b(!0)}),i.createElement(u,{className:d({visibility:h||m||f?"visible":"hidden"}),id:"".concat(n,"-").concat(r)},t)}},"./src/components/post-listing/PostListingItemBylineWithAvatar.tsx":function(e,t,n){"use strict";n.d(t,"a",function(){return v});var r=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),o=n.n(r),i=n("./node_modules/react/index.js"),a=n("./node_modules/graphql-tag/src/index.js"),c=n.n(a),s=n("./node_modules/react-redux/es/index.js"),l=n("./src/framework/design-system/components/index.ts"),u=n("./src/components/format/Date.tsx"),d=n("./src/components/ui/MiddotContainer.tsx"),m=n("./src/util/routes.ts"),f=n("./src/util/numbers.ts"),p=n("./src/components/user/UserAvatar.tsx"),g=n("./src/svg/star-15px.svg"),h=n("./src/components/session/WithFlag.tsx");function b(){var e=o()(["\n  fragment PostListingItemBylineWithAvatar_post on Post {\n    creator {\n      username\n      name\n      id\n      imageId\n      mediumMemberAt\n    }\n    isLocked\n    readingTime\n    updatedAt\n    statusForCollection\n    collection {\n      id\n      name\n      ...collectionUrl_collection\n    }\n  }\n  ","\n"]);return b=function(){return e},e}var v=c()(b(),m.A);t.b=Object(s.c)(function(e){return{currentLocation:e.navigation.currentLocation}})(function(e){var t=e.currentLocation,n=e.post,r=n.creator,o=n.readingTime;return r?i.createElement(l.b,{display:"flex",alignItems:"center"},i.createElement(p.d,{user:r,scale:"S",link:!0}),i.createElement(l.b,{marginLeft:"16px"},i.createElement(l.d,{strong:!0,clamp:2},i.createElement(l.f,{href:Object(m.Pb)(r.username||"")},r.name),"APPROVED"===n.statusForCollection&&n.collection&&n.collection.name&&i.createElement(l.f,{href:Object(m.z)(n.collection,t)},"in ",n.collection&&n.collection.name)),i.createElement(l.d,null,i.createElement(l.b,{display:"flex",alignItems:"center"},i.createElement(d.a,{middotPadding:"4px",marginTop:"3px",display:"flex",flexWrap:"wrap"},n&&n.updatedAt&&i.createElement(u.a,{timestamp:n.updatedAt}),"".concat(Object(f.f)(o||0)," min read")),i.createElement(h.a,{name:"remove_stars_ui"},function(e){return!n.isLocked||e?null:i.createElement(l.b,{marginLeft:"4px",alignSelf:"center",marginTop:"1px"},i.createElement(g.a,null))}))))):null})},"./src/components/post-listing/PostListingItemImage.tsx":function(e,t,n){"use strict";n.d(t,"a",function(){return y});var r=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),o=n.n(r),i=n("./node_modules/@babel/runtime/helpers/typeof.js"),a=n.n(i),c=n("./node_modules/lodash/isPlainObject.js"),s=n.n(c),l=n("./node_modules/react/index.js"),u=n("./node_modules/graphql-tag/src/index.js"),d=n.n(u),m=n("./src/framework/design-system/components/index.ts"),f=n("./src/framework/style/index.ts"),p=n("./src/styles/breakpoints.ts"),g=n("./src/util/miroImage.ts"),h=n("./src/util/routes.ts");function b(){var e=o()(["\n  fragment PostListingItemImage_post on Post {\n    id\n    mediumUrl\n    previewImage {\n      id\n      focusPercentX\n      focusPercentY\n    }\n  }\n"]);return b=function(){return e},e}var v={display:"block",backgroundOrigin:"border-box",backgroundSize:"cover"};t.b=function(e){var t=e.post,n=e.width,r=e.height,o=e.miroWidth,i=e.miroHeight,c=Object(f.useCx)(),u=n||o,d=r||i,b=t.previewImage;if(!b)return null;var y=Object(g.d)({miroId:b?b.id:"",width:o,height:i,strategy:g.a.Resample}),x=b.focusPercentX||50,w=b.focusPercentY||50,E=u.base||u,O=d.base||d;return l.createElement(m.f,{href:Object(h.gb)(t),className:c([v,function(e){var t={backgroundPosition:"".concat(x,"% ").concat(w,"%"),backgroundImage:"url(".concat(y,")"),height:"number"==typeof O?"".concat(O,"px"):O,width:"number"==typeof E?"".concat(E,"px"):E};return"object"===a()(u)&&s()(u)&&Object.keys(u).forEach(function(n){if("base"!==n){var r=p[n](e);if(u[n]){t[r]=t[r]||{};var o=u[n];t[r].width="number"==typeof o?"".concat(o,"px"):o}}}),"object"===a()(d)&&s()(d)&&Object.keys(d).forEach(function(n){if("base"!==n){var r=p[n](e);if(d[n]){t[r]=t[r]||{};var o=d[n];t[r].height="number"==typeof o?"".concat(o,"px"):o}}}),t}])})};var y=d()(b())},"./src/components/post/helpers/loggedOutHistory.ts":function(e,t,n){"use strict";n.d(t,"b",function(){return g}),n.d(t,"a",function(){return h}),n.d(t,"c",function(){return b});var r,o,i=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),a=n.n(i),c=n("./src/util/LocalStorage.ts"),s="post-view",l="post-read",u="topic-view",d="medium-search",m="external-search",f=(r={},a()(r,s,200),a()(r,l,200),a()(r,u,200),a()(r,d,200),a()(r,m,200),r),p=(o={},a()(o,s,new c.a("pv")),a()(o,l,new c.a("pr")),a()(o,u,new c.a("tv")),a()(o,d,new c.a("ms")),a()(o,m,new c.a("es")),o),g=function(e){v(s,e,Date.now())},h=function(e){v(l,e,Date.now())},b=function(e){v(u,e,Date.now())},v=function(e,t,n){var r=p[e];r.getCount()===f[e]&&r.clean();try{r.set(t,n)}catch(e){r.clean()}}},"./src/components/privacy/EuPrivacyBannerLoader.tsx":function(e,t,n){"use strict";n.d(t,"c",function(){return c}),n.d(t,"a",function(){return s});var r=n("./node_modules/react/index.js"),o=n("./node_modules/react-redux/es/index.js"),i=n("./src/store/actions/navigation.ts"),a=n("./src/util/LocalStorage.ts"),c="accepted",s=new a.a("201805-policy");t.b=Object(o.c)(function(e){return{isEu:e.client.isEu}})(function(e){var t=e.dispatch,n=e.isEu,o=e.loggedIn,a=n&&!s.get(c)&&!o;return r.useEffect(function(){a&&t(Object(i.k)({duration:"FOREVER",message:"",toastStyle:"EU_PRIVACY_BANNER"}))},[]),null})},"./src/components/session/RequireFlag.tsx":function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n("./node_modules/react/index.js"),o=n("./src/components/session/WithFlag.tsx");function i(e){var t=e.name,n=e.children,i=e.requiredValue,a=void 0===i||i;return r.createElement(o.a,{name:t},function(e){return e===a?n:null})}},"./src/components/session/WithFlag.tsx":function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n("./src/components/session/useFlag.tsx");function o(e){var t=e.name,n=e.children,o=e.nonBlocking,i=void 0!==o&&o,a=Object(r.b)(t),c=a.error,s=a.loading,l=a.value;return c||s?i?n(null):null:n(l)}},"./src/components/session/WithViewer.tsx":function(e,t,n){"use strict";n.d(t,"a",function(){return l}),n.d(t,"b",function(){return u});var r=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),o=n.n(r),i=n("./node_modules/react/index.js"),a=n("./node_modules/@apollo/react-components/lib/react-components.esm.js"),c=n("./node_modules/graphql-tag/src/index.js");function s(){var e=o()(["\n  query WithViewerQuery {\n    viewer {\n      id\n      username\n      name\n      imageId\n      mediumMemberAt\n      hasPastMemberships\n      isPartnerProgramEnrolled\n      email\n      unverifiedEmail\n      createdAt\n    }\n  }\n"]);return s=function(){return e},e}var l=n.n(c)()(s());function u(e){var t=e.children,n=e.nonBlocking;return i.createElement(a.b,{query:l},function(e){var r=e.loading,o=e.error,i=e.data,a=void 0===i?{}:i;if(n&&(o||r))return t(null);if(r)return null;if(a)return t(a.viewer);throw new Error(o?o.message:"Generic WithViewer Query Error")})}},"./src/components/session/useFlag.tsx":function(e,t,n){"use strict";n.d(t,"b",function(){return u}),n.d(t,"a",function(){return d});var r=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),o=n.n(r),i=n("./node_modules/@apollo/react-hooks/lib/react-hooks.esm.js"),a=n("./node_modules/graphql-tag/src/index.js");function c(){var e=o()(["\n  query WithFlagQuery {\n    variantFlags {\n      name\n      valueType {\n        __typename\n        ... on VariantFlagBoolean {\n          booleanValue: value\n        }\n        ... on VariantFlagString {\n          stringValue: value\n        }\n      }\n    }\n  }\n"]);return c=function(){return e},e}var s=n.n(a)()(c()),l=function(e,t){var n=e.find(function(e){return e.name===t}),r=null;return n&&"VariantFlagBoolean"===n.valueType.__typename&&void 0!==n.valueType.booleanValue?r=n.valueType.booleanValue:n&&"VariantFlagString"===n.valueType.__typename&&void 0!==n.valueType.stringValue&&(r=n.valueType.stringValue),r},u=function(e){var t=Object(i.d)(s),n=t.data,r=(n=void 0===n?{}:n).variantFlags,o=void 0===r?[]:r,a=t.loading,c=t.error;return a?{loading:a}:c?{error:c}:{value:l(o,e)}},d=function(e){return u(e).value}},"./src/components/social/ShareFriendLink.tsx":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/extends.js"),o=n.n(r),i=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),a=n.n(i),c=n("./node_modules/react/index.js"),s=n.n(c),l=n("./node_modules/graphql-tag/src/index.js"),u=n.n(l),d=n("./src/framework/design-system/components/index.ts"),m=n("./src/framework/design-system/type/Detail.tsx"),f=n("./src/framework/style/index.ts"),p=n("./src/util/CopyUrl.tsx"),g=n("./src/util/routes.ts");function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var b=s.a.createElement("path",{d:"M1.64 6.81l-.34.36.34.35 3.8 3.83.36.36.36-.36L14.36 3l.34-.35-.34-.35-.62-.65-.36-.37-.36.37L5.8 9.02 3 6.17l-.36-.36-.36.36-.64.64z",fill:"#03a87c",stroke:"#fff"}),v=function(e){return s.a.createElement("svg",h({width:19,height:19,fill:"none",viewBox:"0 0 16 13"},e),b)};function y(){var e=a()(["\n  fragment ShareFriendLink_post on Post {\n    id\n    shareKey\n    mediumUrl\n  }\n"]);return y=function(){return e},e}n.d(t,"b",function(){return x}),n.d(t,"a",function(){return O});var x=u()(y()),w=function(e){return{background:"linear-gradient(to right, ".concat(e.baseColor.text.normal,", 90%, white 100%)"),"-webkit-background-clip":"text","-webkit-text-fill-color":"transparent",color:"transparent",fontSize:"15px",lineHeight:"20px",paddingBottom:"3px",fontFamily:e.font.uiRegular.family,marginRight:"20px",borderColor:e.baseColor.border.lighter,borderStyle:"solid",borderBottomWidth:"1px",borderTopWidth:0,borderLeftWidth:0,borderRightWidth:0,whiteSpace:"nowrap",overflow:"hidden",flexGrow:0}},E=function(e){return{position:"relative",display:"flex",justifyContent:"space-between",marginTop:"32px",paddingBottom:"5px",fontFamily:e.font.uiRegular.family}},O=function(e){var t=e.onCopy,n=e.post,r=e.withInlineLearnMore,i=void 0!==r&&r,a=Object(f.useCx)(),s=n&&n.shareKey,l=n&&n.mediumUrl,u="".concat(l,"?source=friends_link&sk=").concat(s),h=c.createElement(d.u,{linkStyle:"OBVIOUS",inline:!0,href:Object(g.L)()},"Learn more."),b={};return t&&(b.onCopy=t),c.createElement(d.b,null,c.createElement(m.a,{scale:"M"},"This link guarantees anyone free access to your story, even if theyve read all of their complimentary stories for this month. ",!i&&c.createElement("br",null),h),c.createElement("div",{className:a(E)},c.createElement("p",{className:a(w)},u),c.createElement(p.a,o()({url:u,flexGrow:"1"},b),function(e){return c.createElement(d.b,{width:"60px",display:"flex",justifyContent:"flex-end"},e?c.createElement(c.Fragment,null,c.createElement(v,null)," Copied"):"Copy")})))}},"./src/components/style/BaseThemeProvider.tsx":function(e,t,n){"use strict";n.d(t,"b",function(){return m}),n.d(t,"a",function(){return f});var r=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),o=n.n(r),i=n("./node_modules/react/index.js"),a=n("./src/styles/theme.ts"),c=n("./src/framework/design-system/components/index.ts"),s=n("./src/components/session/useFlag.tsx");function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(n,!0).forEach(function(t){o()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var d=i.createContext({baseTheme:a.a}),m=function(e){var t=e.children,n=i.useContext(d).baseTheme;return i.createElement(c.G,{theme:n},t)},f=function(e){var t,n=e.children,r=a.a;return Object(s.a)("enable_different_grid")&&(r=u({},t=r,{grid:u({},t.grid,{gutterSteps:{xs:6,sm:6,md:7,lg:8,xl:8},marginSteps:{xs:6,sm:6,md:12,lg:16,xl:16},xlMaxContentWidth:1320}),maxWidths:{inset:680,outset:1192}})),i.createElement(d.Provider,{value:{baseTheme:r}},i.createElement(m,null,n))}},"./src/components/style/RendererContext.tsx":function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n("./node_modules/react/index.js"),o=r.createContext()},"./src/components/style/useRenderer.tsx":function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n("./node_modules/react/index.js"),o=n("./src/components/style/RendererContext.tsx"),i=function(){return r.useContext(o.a)}},"./src/components/susi/GoogleRecaptcha.tsx":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/extends.js"),o=n.n(r),i=n("./node_modules/react/index.js"),a=n("./node_modules/react-redux/es/index.js"),c=n("./src/components/session/WithFlag.tsx"),s=n("./src/util/hooks/useScript.tsx"),l=n("./src/framework/reporter/index.ts"),u="https://www.google.com/recaptcha/api.js";var d=Object(a.c)(function(e){return{recaptchaKey:e.config.recaptchaKey}})(function(e){var t=e.callback,n=e.enable,r=e.recaptchaKey,o=e.shouldExecuteRecaptcha,a=Object(l.c)();return Object(s.a)(u),i.useEffect(function(){o&&(n?window&&window.grecaptcha&&(window.grecaptcha.render("g-recaptcha",{sitekey:r,callback:t,size:"invisible"}),window.grecaptcha.execute(),a.event("site.loginByEmailCaptchaInvoked",{})):t())},[o]),i.createElement("div",{id:"g-recaptcha"})});t.a=function(e){return i.createElement(c.a,{name:"enable_email_sign_in_captcha"},function(t){return i.createElement(d,o()({enable:!!t},e))})}},"./src/components/susi/SusiClickable.tsx":function(e,t,n){"use strict";n.d(t,"a",function(){return j}),n.d(t,"b",function(){return _}),n.d(t,"c",function(){return S}),n.d(t,"d",function(){return k}),n.d(t,"e",function(){return P});var r=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),o=n.n(r),i=n("./node_modules/@babel/runtime/helpers/extends.js"),a=n.n(i),c=n("./node_modules/react/index.js"),s=n("./node_modules/react-redux/es/index.js"),l=n("./node_modules/graphql-tag/src/index.js"),u=n.n(l),d=n("./node_modules/@apollo/react-components/lib/react-components.esm.js"),m=n("./src/components/susi/susi-modal/SusiContainer.tsx"),f=n("./src/framework/design-system/components/index.ts"),p=n("./src/framework/source/index.ts"),g=n("./src/util/navigation.ts"),h=n("./src/util/routes.ts");function b(){var e=o()(["\n  query SusiClickableAccountTokenQuery {\n    ...SusiContainer_query\n  }\n  ","\n"]);return b=function(){return e},e}function v(){var e=o()(["\n  query SusiClickableAccountTokenInlineQuery {\n    accountToken\n  }\n"]);return v=function(){return e},e}function y(){var e=o()(["\n  fragment SusiClickable_user on User {\n    ...SusiContainer_user\n  }\n  ","\n"]);return y=function(){return e},e}function x(){var e=o()(["\n  fragment SusiClickable_topic on Topic {\n    ...SusiContainer_topic\n  }\n  ","\n"]);return x=function(){return e},e}function w(){var e=o()(["\n  fragment SusiClickable_post on Post {\n    id\n    mediumUrl\n    ...SusiContainer_post\n  }\n  ","\n"]);return w=function(){return e},e}function E(){var e=o()(["\n  fragment SusiClickable_collection on Collection {\n    ...SusiContainer_collection\n  }\n  ","\n"]);return E=function(){return e},e}var O=function(e){e.actionUrl;var t=e.additionalClickActions,n=e.authDomain,r=e.buttonSize,o=e.buttonStyle,i=e.children,a=e.currentLocation,s=e.linkStyle,l=e.isAmp,u=e.post,d=e.isButton,m=e.operation,p=e.show,b="http[s]?://[^/]*"+n,v=null==a.match(b),y=l||v,x=o||s||"SUBTLE",w=l&&u?u.mediumUrl||Object(h.hb)(n,u.id):a,E="login"===m?Object(g.a)(Object(h.pb)(n),{redirect:w}):Object(g.a)(Object(h.rb)(n),{redirect:w}),O=function(e){e.preventDefault(),t&&t(),p()};return y?d?c.createElement(f.c,{href:E,buttonStyle:x,size:r},i):c.createElement(f.u,{href:E,linkStyle:x,inline:!1},i):d?c.createElement(f.c,{onClick:O,buttonStyle:x,size:r},i):c.createElement(f.u,{href:E,onClick:function(e){e.metaKey||e.ctrlKey||O(e)},linkStyle:x,inline:!1},i)},j=Object(s.c)(function(e){return{authDomain:e.config.authDomain,currentLocation:e.navigation.currentLocation,isAmp:e.config.isAmp}})(function(e){var t=e.actionUrl,n=e.additionalClickActions,r=e.authDomain,o=e.buttonSize,i=e.buttonStyle,s=e.children,l=e.collection,u=e.currentLocation,g=e.initStep,h=e.isAmp,b=e.isButton,v=e.linkStyle,y=e.operation,x=e.post,w=e.susiEntry,E=e.topic,j=e.user,_=Object(p.g)();void 0===w&&(w=_||void 0);var S={actionUrl:t,authDomain:r,buttonSize:o,buttonStyle:i,children:s,post:x,isAmp:h,currentLocation:u,isButton:b,linkStyle:v,operation:y};return c.createElement(p.b,{source:{susiEntry:w},extendSource:!0},c.createElement(f.J,null,function(e){var r=e.isVisible,o=e.hide,i=e.show;return c.createElement(c.Fragment,null,c.createElement(d.b,{query:C,skip:!t||!r,fetchPolicy:"no-cache"},function(e){var n=e.data,i=void 0===n?{}:n,a=i&&i.accountToken;return c.createElement(m.a,{actionUrl:t,collection:l,hide:o,initOperation:y,initStep:g||("login"===y?"SIGNIN_OPTIONS":"SIGNUP_OPTIONS"),isVisible:r,post:x,topic:E,user:j,token:a})}),c.createElement(O,a()({additionalClickActions:n,show:i},S)))}))}),_=u()(E(),m.b),S=u()(w(),m.c),k=u()(x(),m.e),P=u()(y(),m.f),C=u()(v());u()(b(),m.d)},"./src/components/susi/alternate-user/AlternateUserEmail.tsx":function(e,t,n){"use strict";n.d(t,"a",function(){return O});var r=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),o=n.n(r),i=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),a=n.n(i),c=n("./node_modules/graphql-tag/src/index.js"),s=n.n(c),l=n("./node_modules/react/index.js"),u=n("./node_modules/react-redux/es/index.js"),d=n("./node_modules/@apollo/react-hooks/lib/react-hooks.esm.js"),m=n("./node_modules/@apollo/react-components/lib/react-components.esm.js"),f=n("./src/framework/design-system/components/index.ts"),p=n("./src/framework/design-system/type/index.ts"),g=n("./src/components/susi/GoogleRecaptcha.tsx"),h=n("./src/framework/reporter/index.ts"),b=n("./src/components/susi/helpers/index.ts"),v=n("./src/framework/source/index.ts"),y=n("./src/screens/helpers/visits.ts"),x=n("./src/components/session/WithViewer.tsx");function w(){var e=a()(["\n  mutation SendAcctAuthEmailByUserId(\n    $userId: String!\n    $redirect: String\n    $fullName: String\n    $captchaValue: String\n  ) {\n    sendAcctAuthEmailByUserId(\n      userId: $userId\n      redirect: $redirect\n      fullName: $fullName\n      captchaValue: $captchaValue\n    )\n  }\n"]);return w=function(){return e},e}var E=s()(w()),O=function(e){var t=e.actionUrl,n=e.children,r=e.onSuccess,i=e.redactedEmailAddress,a=e.token,c=e.userId,s=Object(h.c)(),w=l.useState(!1),O=o()(w,2),j=O[0],_=O[1],S=Object(u.e)(function(e){return e.navigation.currentLocation}),k=Object(v.d)(),P=Object(v.g)(),C=t&&a?Object(b.a)(S,k,P,t,a):Object(b.a)(S,k,P),I=Object(d.d)(x.a).data,L=(I=void 0===I?{viewer:void 0}:I).viewer,A=Object(u.e)(function(e){return e.session.user.id});return l.createElement(m.a,{mutation:E,onCompleted:function(e){"Verification failed"===e.sendAcctAuthEmail?s.event("site.loginByEmailCaptchaFailure",{}):(s.event("site.loginLinkSent",{}),r&&r())},onError:function(){_(!1)}},function(e){return l.createElement(l.Fragment,null,l.createElement(g.a,{callback:function(t){var n=L?L.id:A;Object(y.j)(!0,n,c,"Email");s.event("susi.methodClicked",{entryPoint:P,operation:"login",susiMethod:"medium",alternateUserSuggestionShown:!0,alternateUserSuggestionAccountType:"medium",alternateUserSuggestionTargetUserId:c,alternateUserSuggestionSourceUserId:n}),e({variables:{userId:c,redirect:C,captchaValue:t}})},shouldExecuteRecaptcha:j}),l.createElement(f.b,{alignItems:"center",display:"flex",marginRight:"16px"},l.createElement(p.a,{scale:"S",color:"DARKER"},i)),n({handleSubmit:function(){_(!0)}}))})}},"./src/components/susi/alternate-user/AlternateUserSocial.tsx":function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n("./node_modules/react/index.js"),o=n("./src/components/susi/oauth-buttons/FacebookSusiButton.tsx"),i=n("./src/components/susi/oauth-buttons/GoogleSusiButton.tsx"),a=n("./src/components/susi/oauth-buttons/TwitterSusiButton.tsx"),c=function(e){var t=e.actionUrl,n=e.token,c=e.userSocialLogins,s={actionUrl:t||"",operation:"login",token:n||"",targetUserId:c.userId,alternateUserSuggestion:!0};return c.google?r.createElement(i.a,s):c.facebook?r.createElement(o.a,s):c.twitter?r.createElement(a.a,s):r.createElement(r.Fragment,null)}},"./src/components/susi/alternate-user/SusiAlternateUserController.tsx":function(e,t,n){"use strict";n.d(t,"a",function(){return _});var r=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),o=n.n(r),i=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),a=n.n(i),c=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),s=n.n(c),l=n("./node_modules/react/index.js"),u=n("./node_modules/graphql-tag/src/index.js"),d=n.n(u),m=n("./node_modules/@apollo/react-hooks/lib/react-hooks.esm.js"),f=n("./node_modules/@apollo/react-components/lib/react-components.esm.js"),p=n("./node_modules/react-redux/es/index.js"),g=n("./src/components/session/useFlag.tsx"),h=n("./src/components/session/WithViewer.tsx"),b=n("./src/framework/source/SourceContext.tsx"),v=n("./src/screens/helpers/visits.ts"),y=n("./src/framework/reporter/index.ts"),x=n("./src/screens/helpers/users.ts"),w=n("./src/framework/source/index.ts");function E(){var e=o()(["\n  query UserSocialLoginsQuery($userId: String!) {\n    userSocialLogins(userId: $userId) {\n      userId\n      twitter\n      facebook\n      google\n      redactedEmailAddress\n      isMember\n    }\n  }\n"]);return E=function(){return e},e}function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(n,!0).forEach(function(t){a()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var _=function(e){var t=e.children,n=e.postRenderCallback,r=Object(y.c)(),o=Object(w.g)(),i=!!Object(g.a)("enable_suggest_account"),a=!!Object(g.a)("enable_suggest_account_li"),c=Object(p.e)(function(e){return{referrerSource:e.navigation.referrerSource,sessionUserId:e.session.user.id}}),u=c.referrerSource,d=c.sessionUserId,E=Object(b.c)(u||"").userId,O=Object(m.d)(h.a).data,_=(O=void 0===O?{viewer:void 0}:O).viewer,k=l.useState(Object(v.b)().includes(E)),P=s()(k,2),C=P[0],I=P[1],L=l.useState(!1),A=s()(L,2),T=A[0],N=A[1],R=l.useState({shouldRun:!1,showSuggestedAccount:!1,userSocialLogins:{facebook:!1,google:!1,twitter:!1,redactedEmailAddress:""}}),U=s()(R,2),D=U[0],M=U[1],H=!(_&&_.mediumMemberAt||!E||C);return l.useEffect(function(){T&&(_?r.event("experiment.eligible",{experimentId:"84964a5f6eea"}):r.event("experiment.eligible",{experimentId:"bad13f2ace6b"}))},[T]),l.useEffect(function(){var e=D.shouldRun,t=D.showSuggestedAccount,r=D.userSocialLogins;e&&n(_,t,r)},[D.shouldRun]),H?l.createElement(f.b,{query:S,variables:{userId:E}},function(e){var c=e.loading,s=e.error,l=e.data,u=(l=void 0===l?{}:l).userSocialLogins,m=c||s||_&&!u.isMember||!u.facebook&&!u.google&&!u.twitter&&!u.redactedEmailAddress;m||N(!0);var f=_?a:i,p=!m&&f,g=j({loading:c&&f,showSuggestedAccount:p},p&&{userSocialLogins:u,declineSuggestedAccount:function(){var e=Object(x.a)(u);r.event("susi.suggestNotYou",{entryPoint:o,susiMethod:e,alternateUserSuggestionAccountType:e,alternateUserSuggestionTargetUserId:u.userId,alternateUserSuggestionSourceUserId:_?_.id:d}),I(!0),Object(v.k)(E||"")}});return!n||c||D.shouldRun||M({shouldRun:!0,showSuggestedAccount:p,userSocialLogins:u}),t(g)}):(n&&!D.shouldRun&&M(j({},D,{shouldRun:!0})),t({showSuggestedAccount:H,loading:!1}))},S=d()(E())},"./src/components/susi/helpers/index.ts":function(e,t,n){"use strict";n.d(t,"c",function(){return s}),n.d(t,"b",function(){return d}),n.d(t,"a",function(){return f});var r=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),o=n.n(r),i=n("./src/util/navigation.ts"),a=n("./src/screens/helpers/visits.ts");function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var s=function(e,t){switch(e){case"bookmark_footer":case"bookmark_preview":case"bookmark_sidebar":return"bookmark";case"clap_footer":case"clap_preview":case"clap_sidebar":return"clap";case"email_homepage":return"direct_email_signup";case"follow_custom_page":case"follow_pub":case"follow_sidebar":case"follow_header":return"follow_co_brand";case"follow_byline":case"follow_profile":case"follow_list":case"follow_topicgrid":case"follow_topicpage":case"follow_tag":return"follow";case"follow_card":case"follow_footer":case"follow_search":case"follow_topicfeatured":return t&&t.collection?"follow_co_brand":"follow";case"highlight_sidebar":case"highlight_text":return"highlight";case"landing_benefits":return"subscribe";case"landing_creater":return"writer";case"landing_gift":return"gift";case"metered_view_2":return"smart_meter_2";case"metered_view_3":return"smart_meter_3";case"post_custom_domain":case"post_free":return"post_prompt";case"post_paywall":case"post_regwall":return"read_exclusive";case"privatenote_text":case"respond_text":case"respond_box":return"respond";case"homepage_banner":case"nav_reg":case"report_footer":case"smart_meter":default:return"general"}},l=function(e){switch(e){case"bookmark":return function(){return{subheader:"Sign in to save stories to your personalized bookmarks and access them anytime, anywhere."}};case"clap":return function(e){var t=e.user,n=void 0===t?"":t;return{subheader:n?"Sign in to clap for this story and show ".concat(n," how much you appreciated it."):"Sign in to clap for this story"}};case"follow":return function(e){var t=e.user,n=void 0===t?"":t,r=e.topic,o=void 0===r?"":r;return{subheader:"Sign in to follow"+(n?" ".concat(n):o?" ".concat(o):"")+"."}};case"follow_co_brand":return function(e){var t=e.collection,n=void 0===t?"":t,r=e.productName;return{subheader:"Sign in to follow ".concat(n,"."),poweredBy:"".concat(n," is powered by ").concat(r,".")}};case"highlight":return function(){return{subheader:"Sign in to highlight this passage and show the author it resonates with you."}};case"read_exclusive":return function(e){var t=e.productName;return{subheader:"Sign in to read this story and get personalized recommendations from ".concat(t,".")}};case"respond":return function(){return{subheader:"Sign in to keep the conversation moving with a response."}};case"post_prompt":case"smart_meter_2":case"smart_meter_3":default:return function(){return{subheader:"Sign in to get personalized story recommendations, follow authors and topics you love, and interact with stories."}}}},u=function(e){switch(e){case"bookmark":return function(){return{title:"Create an account to bookmark this story.",subheader:"Save stories to your personalized bookmarks and access them anytime, anywhere."}};case"clap":return function(e){var t=e.user,n=void 0===t?"":t;return{title:"Create an account to clap for this story.",subheader:"Applause shows ".concat(n?n+" ":"","how much you appreciated this story.")}};case"follow":return function(e){var t=e.user,n=void 0===t?"":t,r=e.productName,o=e.topic,i=void 0===o?"":o;return{title:"Never miss a story"+(n?" from ".concat(n):i?" about ".concat(i):"")+".",subheader:"Create a ".concat(r," account to follow your favorite authors, publications, and topics.")}};case"follow_co_brand":return function(e){var t=e.user,n=void 0===t?"":t,r=e.collection,o=void 0===r?"":r,i=e.productName,a=e.topic,c=void 0===a?"":a;return{title:"Never miss a story"+(n?" from ".concat(n):c?" about ".concat(c):"")+".",subheader:"Create an account to follow your favorite authors, publications, and topics.",poweredBy:"".concat(o," is powered by ").concat(i,".")}};case"highlight":return function(e){var t=e.productName;return{title:"Create an account to highlight this passage.",subheader:"Highlighting on ".concat(t," shows the author and readers which ideas resonate with you.")}};case"read_exclusive":return function(e){var t=e.productName;return{title:"Create an account to read this story.",subheader:"Signing up for ".concat(t," is quick, easy, and free.")}};case"respond":return function(){return{title:"Create an account to write a response.",subheader:"Build on this storys ideas with your own  responses keep the conversation moving."}};case"post_prompt":return function(e){var t=e.productName,n=e.readCount,r=void 0===n?Object(a.e)()||0:n;return{title:"Pardon the interruption.",subheader:r<3?"We see youve read on ".concat(t," before - theres a personalized experience waiting just a few clicks away. Ready to make ").concat(t," yours?"):"Youve read ".concat(r," stories this month. Theres a lot more where that came from. Ready to make ").concat(t," yours?")}};case"smart_meter_2":return function(e){var t=e.productName;return{title:"Extend your stay.",subheader:"Sign up for a free ".concat(t," account, and youll get one more story in your member preview this month.")}};case"smart_meter_3":return function(e){var t=e.productName;return{title:"Read to your minds desire.",subheader:"Sign up for a free ".concat(t," account, and youll get one more story in your member preview this month.")}};default:return function(e){var t=e.productName;return{title:"Join ".concat(void 0===t?"":t,"."),subheader:"Create an account to receive great stories in your inbox, personalize your homepage, and follow authors and topics that you love."}}}},d=function(e,t,n,r){var o=s(t,n);return("login"===e?l:u)(o)(n,r)},m=["clap_footer","clap_preview","clap_sidebar","landing_benefits","landing_gifts","highlight_sidebar","highlight_text","landing_home_hero","post_free","post_custom_domain","post_paywall","post_regwall","privatenote_text","respond_box","report_footer","report_profile","respond_text"],f=function(e,t,n,r,a){var s=n&&m.includes(n),l=Object(i.a)(e,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(n,!0).forEach(function(t){o()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({source:t},s&&{skipOnboarding:"1"})),u=r&&a?Object(i.a)(r,{token:a,source:t}):"";return u?Object(i.a)(u,{redirectUrl:l}):l}},"./src/components/susi/oauth-buttons/FacebookSusiButton.tsx":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),o=n.n(r),i=n("./node_modules/@babel/runtime/helpers/extends.js"),a=n.n(i),c=n("./node_modules/@babel/runtime/helpers/objectWithoutProperties.js"),s=n.n(c),l=n("./node_modules/react/index.js"),u=n.n(l),d=n("./node_modules/graphql-tag/src/index.js"),m=n.n(d),f=n("./node_modules/react-redux/es/index.js"),p=n("./src/components/susi/oauth-buttons/OAuthButton.tsx");function g(){return(g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var h=u.a.createElement("path",{d:"M20.3 4H4.7a.7.7 0 0 0-.7.7v15.6c0 .38.32.7.7.7h8.33v-6.38h-2.12v-2.65h2.12V9.84c0-2.2 1.4-3.27 3.35-3.27.94 0 1.75.07 1.98.1v2.3H17c-1.06 0-1.31.5-1.31 1.24v1.76h2.65l-.53 2.65H15.7l.04 6.38h4.56a.7.7 0 0 0 .71-.7V4.7a.7.7 0 0 0-.7-.7",fillRule:"evenodd"}),b=function(e){return u.a.createElement("svg",g({width:25,height:25,fill:"#3B5998"},e),h)},v=n("./src/util/routes.ts");function y(){var e=o()(["\n  fragment FacebookSusiButton_query on Query {\n    ...OAuthButton_query\n  }\n  ","\n"]);return y=function(){return e},e}n.d(t,"b",function(){return x}),n.d(t,"a",function(){return w});var x=m()(y(),p.b),w=Object(f.c)(function(e){return{authDomain:e.config.authDomain}})(function(e){var t=e.authDomain,n=s()(e,["authDomain"]);return l.createElement(p.a,a()({},n,{icon:b,service:"Facebook",urlFragment:Object(v.tb)(t)}))})},"./src/components/susi/oauth-buttons/GoogleSusiButton.tsx":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),o=n.n(r),i=n("./node_modules/@babel/runtime/helpers/extends.js"),a=n.n(i),c=n("./node_modules/@babel/runtime/helpers/objectWithoutProperties.js"),s=n.n(c),l=n("./node_modules/react/index.js"),u=n.n(l),d=n("./node_modules/graphql-tag/src/index.js"),m=n.n(d),f=n("./node_modules/react-redux/es/index.js"),p=n("./src/components/susi/oauth-buttons/OAuthButton.tsx");function g(){return(g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var h=u.a.createElement("g",{fill:"none",fillRule:"evenodd"},u.a.createElement("path",{d:"M20.66 12.7c0-.61-.05-1.19-.15-1.74H12.5v3.28h4.58a3.91 3.91 0 0 1-1.7 2.57v2.13h2.74a8.27 8.27 0 0 0 2.54-6.24z",fill:"#4285F4"}),u.a.createElement("path",{d:"M12.5 21a8.1 8.1 0 0 0 5.63-2.06l-2.75-2.13a5.1 5.1 0 0 1-2.88.8 5.06 5.06 0 0 1-4.76-3.5H4.9v2.2A8.5 8.5 0 0 0 12.5 21z",fill:"#34A853"}),u.a.createElement("path",{d:"M7.74 14.12a5.11 5.11 0 0 1 0-3.23v-2.2H4.9A8.49 8.49 0 0 0 4 12.5c0 1.37.33 2.67.9 3.82l2.84-2.2z",fill:"#FBBC05"}),u.a.createElement("path",{d:"M12.5 7.38a4.6 4.6 0 0 1 3.25 1.27l2.44-2.44A8.17 8.17 0 0 0 12.5 4a8.5 8.5 0 0 0-7.6 4.68l2.84 2.2a5.06 5.06 0 0 1 4.76-3.5z",fill:"#EA4335"})),b=function(e){return u.a.createElement("svg",g({width:25,height:25},e),h)},v=n("./src/util/routes.ts");function y(){var e=o()(["\n  fragment GoogleSusiButton_query on Query {\n    ...OAuthButton_query\n  }\n  ","\n"]);return y=function(){return e},e}n.d(t,"b",function(){return x}),n.d(t,"a",function(){return w});var x=m()(y(),p.b),w=Object(f.c)(function(e){return{authDomain:e.config.authDomain}})(function(e){var t=e.authDomain,n=s()(e,["authDomain"]);return l.createElement(p.a,a()({},n,{icon:b,service:"Google",urlFragment:Object(v.ub)(t)}))})},"./src/components/susi/oauth-buttons/OAuthButton.tsx":function(e,t,n){"use strict";n.d(t,"a",function(){return v}),n.d(t,"b",function(){return y});var r=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),o=n.n(r),i=n("./node_modules/react/index.js"),a=n("./node_modules/react-redux/es/index.js"),c=n("./node_modules/graphql-tag/src/index.js"),s=n.n(c),l=n("./node_modules/@apollo/react-hooks/lib/react-hooks.esm.js"),u=n("./src/framework/design-system/components/index.ts"),d=n("./src/framework/source/index.ts"),m=n("./src/framework/reporter/index.ts"),f=n("./src/util/navigation.ts"),p=n("./src/components/susi/helpers/index.ts"),g=n("./src/screens/helpers/visits.ts"),h=n("./src/components/session/WithViewer.tsx");function b(){var e=o()(["\n  fragment OAuthButton_query on Query {\n    accountToken\n  }\n"]);return b=function(){return e},e}var v=function(e){var t=e.actionUrl,n=e.icon,r=e.redirectTo,o=e.operation,c=e.token,s=e.service,b=e.urlFragment,v=e.width,y=void 0===v?"212px":v,x=e.targetUserId,w=e.alternateUserSuggestion,E=Object(m.c)(),O=Object(d.g)(),j=Object(a.e)(function(e){return e.navigation.currentLocation}),_=r||j,S=Object(a.e)(function(e){return e.session.user.id}),k=Object(p.a)(_,Object(d.d)(),O,t,c),P=Object(l.d)(h.a).data,C=(P=void 0===P?{viewer:void 0}:P).viewer,I={state:["",k,o].join("|")},L=Object(f.a)(b,I),A=n;return i.createElement(u.c,{buttonStyle:"SOCIAL",href:L,onClick:function(){Object(g.j)(w,C?C.id:S,x,s),E.event("susi.methodClicked",{entryPoint:O,operation:o,susiMethod:s.toLowerCase(),alternateUserSuggestionShown:w||!1,alternateUserSuggestionAccountType:s,alternateUserSuggestionTargetUserId:x,alternateUserSuggestionSourceUserId:C?C.id:S})},shape:"RECTANGLE",size:"REGULAR",width:y},i.createElement(u.b,{display:"flex",alignItems:"center"},i.createElement(u.b,{marginRight:"8px",marginTop:"-2px",tag:A}),"Sign ","login"===o?"in":"up"," with ",s))},y=s()(b())},"./src/components/susi/oauth-buttons/TwitterSusiButton.tsx":function(e,t,n){"use strict";n.d(t,"b",function(){return x}),n.d(t,"a",function(){return w});var r=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),o=n.n(r),i=n("./node_modules/@babel/runtime/helpers/extends.js"),a=n.n(i),c=n("./node_modules/@babel/runtime/helpers/objectWithoutProperties.js"),s=n.n(c),l=n("./node_modules/react/index.js"),u=n("./node_modules/graphql-tag/src/index.js"),d=n.n(u),m=n("./node_modules/react-redux/es/index.js"),f=n("./src/framework/style/index.ts"),p=n("./src/components/susi/oauth-buttons/OAuthButton.tsx"),g=n("./src/svg/twitter-filled-25px.svg"),h=n("./src/util/routes.ts");function b(){var e=o()(["\n  fragment TwitterSusiButton_query on Query {\n    ...OAuthButton_query\n  }\n  ","\n"]);return b=function(){return e},e}var v={fill:"#55ACEE"},y=function(e){var t=e.className,n=Object(f.useCx)();return l.createElement(g.a,{className:n(v)+(t?" "+t:"")})},x=d()(b(),p.b),w=Object(m.c)(function(e){return{authDomain:e.config.authDomain}})(function(e){var t=e.authDomain,n=s()(e,["authDomain"]);return l.createElement(p.a,a()({},n,{icon:y,service:"Twitter",urlFragment:Object(h.vb)(t)}))})},"./src/components/susi/susi-modal/SusiContainer.tsx":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),o=n.n(r),i=n("./node_modules/@babel/runtime/helpers/extends.js"),a=n.n(i),c=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),s=n.n(c),l=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),u=n.n(l),d=n("./node_modules/react/index.js"),m=n.n(d),f=n("./node_modules/react-redux/es/index.js"),p=n("./node_modules/graphql-tag/src/index.js"),g=n.n(p),h=n("./src/framework/design-system/components/index.ts"),b=n("./src/components/style/BaseThemeProvider.tsx"),v=n("./src/components/susi/alternate-user/SusiAlternateUserController.tsx"),y=n("./src/store/actions/alternateUser.ts"),x=n("./src/components/susi/susi-modal/SusiPanel.tsx");function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var E={bottomImageId:"1*yL5Sos_AmbQS9uHTd8PJVA.png",hideDisclaimer:!0,isSubHeaderResponsive:!1};function O(e){var t=e.hide,n=e.email,r=e.operation,o=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(n,!0).forEach(function(t){s()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},E,{title:"Check your inbox",subheader:"We just emailed a magic link".concat(n?" to ".concat(n):"",". Click the link to ").concat("login"===r?"sign in":"complete your account set-up",".")});return d.createElement(x.a,o,d.createElement(h.b,{marginTop:"12px",marginBottom:"28px"},d.createElement(h.c,{buttonStyle:"BRAND",onClick:function(){t(),Object(y.b)(!1)}},"OK")))}var j=n("./src/components/session/WithFlag.tsx"),_=n("./src/components/susi/alternate-user/AlternateUserEmail.tsx"),S=n("./src/components/susi/alternate-user/AlternateUserSocial.tsx"),k=n("./src/framework/design-system/util/type/toRule.ts"),P=n("./src/framework/design-system/type/index.ts"),C=n("./src/framework/style/index.ts");function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var L=function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(n,!0).forEach(function(t){s()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},Object(k.a)(function(e){return{font:e.font.uiHeavy,fontSize:18,lineHeight:24}})(e))},A=function(e){var t=e.children,n=e.enableSusiFontChanges,r=e.onClick,o=Object(C.useCx)();return d.createElement(h.u,{linkStyle:"OBVIOUS",onClick:r},n?t:d.createElement("div",{className:o(L)},t))},T=function(e){var t=e.actionUrl,n=e.declineSuggestedAccount,r=e.setOperation,o=e.setStep,i=e.token,a=e.userSocialLogins,c=Object(f.e)(function(e){return e.config.productName}),s=a&&(a.facebook||a.google||a.twitter),l=d.createElement(d.Fragment,null,"Welcome back.",d.createElement("br",null)," Sign in to your",a.isMember?" member ":" ".concat(c," "),"account."),u=a.isMember?"Looks like youre a ".concat(c," member. Sign in to read unlimited stories and get personalized recommendations."):"Looks like youre already a ".concat(c," reader. Sign in to get personalized story recommendations and interact with stories."),m=s?"Sign In":"Send login link";return d.createElement(x.a,{ctaText:m,hideDisclaimer:!1,isSubHeaderResponsive:!1,leftImageId:"1*MQH4A5bsyRz4AWh5V4IfvQ.png",rightImageId:"1*lhbp8cxKdkDB-MgmwIPE5w.png",subheader:u,title:l},d.createElement(h.b,{display:"flex",marginTop:"32px"},s?d.createElement(S.a,{actionUrl:t,token:i,userSocialLogins:a}):d.createElement(_.a,{actionUrl:t,onSuccess:function(){return o("CHECK_YOUR_INBOX")},redactedEmailAddress:a.redactedEmailAddress||"",userId:a.userId,token:i},function(e){var t=e.handleSubmit;return d.createElement(h.c,{buttonStyle:"SOCIAL",size:"REGULAR",onClick:t},"Send login link")})),d.createElement(j.a,{name:"enable_susi_font_changes"},function(e){var t=e?"L":"M",i=d.createElement(A,{onClick:function(){n(),o("SIGNIN_OPTIONS")},enableSusiFontChanges:e},"See all login options"),a=d.createElement(d.Fragment,null,"Not you?"," ",d.createElement(A,{onClick:function(){n(),o("SIGNIN_OPTIONS")},enableSusiFontChanges:e},"Sign in")," or ",d.createElement(A,{onClick:function(){n(),r("register"),o("SIGNUP_OPTIONS")},enableSusiFontChanges:e},"create an account"));return d.createElement(h.b,{marginTop:"28px",marginBottom:"60px"},d.createElement(P.a,{color:e?"DARKER":"LIGHTER",scale:{xs:t,sm:t,md:t,lg:"L",xl:"L"}},s?i:a))}))},N=n("./src/components/optimizely/OptimizelyWrapper.tsx"),R=n("./src/components/susi/helpers/index.ts"),U=n("./src/components/susi/oauth-buttons/FacebookSusiButton.tsx"),D=n("./src/components/susi/oauth-buttons/GoogleSusiButton.tsx"),M=n("./src/components/susi/oauth-buttons/TwitterSusiButton.tsx"),H=n("./src/framework/source/index.ts"),B=n("./src/framework/reporter/index.ts");function F(){return(F=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var z=m.a.createElement("path",{d:"M4 6v13h17V6H4zm5.9 7.97l2.6 2.12 2.6-2.12 4.14 4.02H5.76l4.15-4.02zm-4.88 3.32V9.97l4.1 3.35-4.1 3.97zm10.87-3.97l4.1-3.35v7.32l-4.1-3.97zm4.1-6.3v1.64l-7.49 6.12-7.48-6.13V7.01h14.96z"}),q=function(e){return m.a.createElement("svg",F({width:25,height:25},e),z)};function V(){var e=o()(["\n  fragment SignInOptions_query on Query {\n    ...FacebookSusiButton_query\n    ...GoogleSusiButton_query\n    ...TwitterSusiButton_query\n    ...EmailSusiButton_query\n  }\n  ","\n  ","\n  ","\n  ","\n"]);return V=function(){return e},e}function W(){var e=o()(["\n  fragment EmailSusiButton_query on Query {\n    accountToken\n  }\n"]);return W=function(){return e},e}function G(){var e=o()(["\n  fragment SignInOptions_user on User {\n    id\n    name\n  }\n"]);return G=function(){return e},e}function Y(){var e=o()(["\n  fragment SignInOptions_topic on Topic {\n    id\n    name\n  }\n"]);return Y=function(){return e},e}function K(){var e=o()(["\n  fragment SignInOptions_collection on Collection {\n    id\n    name\n  }\n"]);return K=function(){return e},e}function X(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var $=function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?X(n,!0).forEach(function(t){s()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):X(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},Object(k.a)(function(e){return{font:e.font.uiHeavy,fontSize:18,lineHeight:24}})(e))},Q=function(e){var t=e.goToEmailAuthStep,n=Object(B.c)(),r=Object(H.g)();return d.createElement(h.c,{buttonStyle:"SOCIAL",href:"",onClick:function(){n.event("susi.methodClicked",{entryPoint:r,operation:"login",susiMethod:"medium"}),t()},size:"REGULAR",shape:"RECTANGLE",width:"212px"},d.createElement(h.b,{display:"flex",alignItems:"center"},d.createElement(h.b,{marginRight:"8px",marginTop:"-2px",tag:q}),"Sign in with email"))},J=function(e){var t=e.actionUrl,n=e.collection,r=e.goToEmailAuthStep,o=e.toggleOperation,i=e.token,c=e.topic,s=e.user,l={actionUrl:t||"",operation:"login",token:i||""},u=n&&n.name||"",m=c&&c.name||"",p=s&&s.name||"",g=Object(H.g)(),b={collection:u,productName:Object(f.e)(function(e){return e.config.productName}),topic:m,user:p},v=ee(g,b,{}),y=Object(C.useCx)();return d.createElement(N.a,{featureString:"susi-entry-point",target:Object(R.c)(g,b)},d.createElement(N.a,{featureString:"susi-sign-in",target:"modal"},d.createElement(x.a,a()({},v,{actionUrl:t}),d.createElement(N.a,{featureString:"susi-modal",target:"google-button"},d.createElement(D.a,l)),d.createElement(N.a,{featureString:"susi-modal",target:"fb-button"},d.createElement(h.b,{marginTop:"12px",marginBottom:"12px"},d.createElement(U.a,l))),d.createElement(N.a,{featureString:"susi-modal",target:"twitter-button"},d.createElement(h.b,{marginTop:"12px",marginBottom:"12px"},d.createElement(M.a,l))),d.createElement(N.a,{featureString:"susi-modal",target:"email-button"},d.createElement(h.b,{marginBottom:"12px"},d.createElement(Q,{goToEmailAuthStep:r}))),d.createElement(N.a,{featureString:"susi-modal",target:"sign-in-link"},d.createElement(j.a,{name:"enable_susi_font_changes"},function(e){var t=e?"L":"M",n=e?{className:y($)}:{};return d.createElement(h.b,{marginBottom:"28px"},d.createElement(P.a,{color:e?"DARKER":"LIGHTER",scale:{xs:t,sm:t,md:t,lg:"L",xl:"L"}},"No account?"," ",d.createElement(h.u,{onClick:o,linkStyle:"OBVIOUS"},d.createElement("div",n," Create one "))))})))))},Z={ctaText:"Sign In",leftImageId:"1*4A5l12K8ize1400kV83dPw.png",rightImageId:"1*XVLaTKHOGlnXqvnPe2Ahaw.png",title:"Welcome back."},ee=function(e,t,n){var r=Object(R.b)("login",e,t,n);return Object.assign({},Z,r)},te=g()(K()),ne=g()(Y()),re=g()(G()),oe=g()(W()),ie=g()(V(),U.b,D.b,M.b,oe),ae=n("./node_modules/@apollo/react-components/lib/react-components.esm.js"),ce=n("./src/components/susi/GoogleRecaptcha.tsx");function se(){return(se=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var le=m.a.createElement("path",{d:"M13.3 13.9l.14-7.08h-1.78l.15 7.08h1.48zm-.74 1.43c-.68 0-1.13.44-1.13 1.12 0 .67.45 1.12 1.13 1.12.68 0 1.13-.45 1.13-1.12 0-.68-.44-1.12-1.12-1.12"}),ue=m.a.createElement("path",{d:"M12.5 21a8.5 8.5 0 1 0 0-17 8.5 8.5 0 0 0 0 17zm0 1a9.5 9.5 0 1 1 0-19 9.5 9.5 0 0 1 0 19z"}),de=function(e){return m.a.createElement("svg",se({width:25,height:25,viewBox:"0 0 25 25"},e),le,ue)},me=function(e){return{color:e.errorColor}},fe={background:"transparent",border:"none",outline:"none",width:"270px",font:"inherit",paddingLeft:"5px",paddingRight:"5px"},pe=function(e){return{position:"absolute",right:"0px",top:"7px",width:"16px",height:"16px",fill:e.errorColor}},ge=function(){return{"0%":{transform:"translateX(-1%)"},"20%":{transform:"translateX(1%)"},"40%":{transform:"translateX(-1%)"},"60%":{transform:"translateX(1%)"},"80%":{transform:"translateX(-1%)"},"100%":{transform:"translateX(1%)"}}},he=Object(f.c)()(function(e){var t,n=e.email,r=e.errorMessage,o=e.handleEmailChange,i=e.handleSubmit,a=e.isAnimating,c=Object(C.useCx)(),s=d.useState(!1),l=u()(s,2),m=l[0],f=l[1],p=d.useState(!1),g=u()(p,2),b=g[0],v=g[1];return t=r?"ERROR":m?"BASE_DARKER":b?"BASE_DARK":"BASE_NORMAL",d.createElement("div",{className:r&&c(me)},d.createElement(h.b,{display:"flex",alignItems:"center",flexDirection:"column",paddingBottom:"1px",width:"270px",textAlign:"center"},d.createElement(h.b,{marginBottom:"12px"},d.createElement(P.a,{color:"DARKER",scale:"S"},d.createElement("div",{className:r&&c(me)},"Your email"))),d.createElement(h.L,{keyframes:{errorKeyName:ge}},function(e){var s,l=e.errorKeyName;return d.createElement("div",{className:c([{position:"relative"},a?(s=l,{animation:"".concat(s," ").concat(400,"ms")}):{}])},d.createElement(h.b,{borderBottom:t},d.createElement(P.a,{scale:"L"},d.createElement("input",{autoFocus:!0,className:c([fe]),type:"text",onBlur:function(){return f(!1)},onFocus:function(){return f(!0)},onMouseOver:function(){return v(!0)},onMouseLeave:function(){return v(!1)},onChange:o,onKeyDown:function(e){13===e.keyCode&&i()},value:n}),r&&d.createElement(de,{className:c(pe)}))))})),r&&d.createElement(h.b,{marginTop:"8px"},d.createElement(P.a,{scale:"S"},d.createElement("div",{className:c(me)},r))))});function be(){return(be=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var ve=m.a.createElement("path",{d:"M11.47 13.97L6.99 9.48 11.47 5l.55.5-3.99 3.98 4 4z",fillRule:"evenodd"}),ye=function(e){return m.a.createElement("svg",be({className:"arrow-left-19px_svg__svgIcon-use",width:19,height:19,viewBox:"0 0 19 19"},e),ve)},xe=/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i;function we(){var e=o()(["\n  mutation SendAcctAuthEmail(\n    $email: String!\n    $redirect: String\n    $fullName: String\n    $captchaValue: String\n  ) {\n    sendAcctAuthEmail(\n      email: $email\n      redirect: $redirect\n      fullName: $fullName\n      captchaValue: $captchaValue\n    )\n  }\n"]);return we=function(){return e},e}var Ee=g()(we()),Oe={height:"25px",width:"25px",marginBottom:"2px"},je=/@gm/,_e=Object(f.c)(function(e){return{currentLocation:e.navigation.currentLocation}})(function(e){var t=e.actionUrl,n=e.currentLocation,r=e.handleBack,o=e.handleNext,i=e.operation,c=e.token,s=Object(C.useCx)(),l=d.useState(""),m=u()(l,2),f=m[0],p=m[1],g=d.useState(""),b=u()(g,2),v=b[0],y=b[1],w=d.useState(!1),E=u()(w,2),O=E[0],j=E[1],_=d.useState(!1),S=u()(_,2),k=S[0],I=S[1],L=d.useState(!1),A=u()(L,2),T=A[0],N=A[1],U=Object(B.c)(),M=function(e){p(e.target.value),j(je.test(e.target.value))},F=function(e){y(e),I(!0),setTimeout(function(){return I(!1)},400),N(!1)},z=function(){f.trim()&&function(e){return!!e.match(xe)}(f)?N(!0):F("Please enter a valid email address.")},q=Object(H.d)(),V=Object(H.g)(),W=t&&c?Object(R.a)(n,q,V,t,c):Object(R.a)(n,q,V);return d.createElement(ae.a,{mutation:Ee,onCompleted:function(e){var t=e.sendAcctAuthEmail;"login"===t||"register"===t?o(f):("Verification failed"===t&&U.event("site.loginByEmailCaptchaFailure",{}),F(t))},onError:function(){F("Please try again.")}},function(e){var n={title:"Sign ".concat("login"===i?"in":"up"," with email"),subheader:"login"===i?"Enter the email address associated with your account, and well send a magic link to your inbox.":"Enter your email address to create an account."};return d.createElement(x.a,a()({hideDisclaimer:!0},n,{actionUrl:t}),d.createElement(ce.a,{callback:function(t){U.event("site.loginLinkSent",{}),e({variables:{email:f,redirect:W,captchaValue:t}})},shouldExecuteRecaptcha:T}),d.createElement(h.b,{marginTop:"12px",marginBottom:"28px"},d.createElement(he,{email:f,errorMessage:v,isAnimating:k,handleEmailChange:M,handleSubmit:z})),d.createElement(h.b,{marginTop:"12px",marginBottom:"15px"},d.createElement(h.c,{buttonStyle:"BRAND",onClick:z},"Continue")),O&&d.createElement(D.a,{operation:i}),d.createElement(h.b,{marginTop:"12px",marginBottom:"28px",paddingRight:"21px"},d.createElement(P.a,{scale:"M"},d.createElement(h.u,{linkStyle:"OBVIOUS",onClick:r},d.createElement(ye,{className:s(Oe)}),"All sign ".concat("login"===i?"in":"up"," options")))))})}),Se=n("./src/styles/colors.ts"),ke=n("./src/components/session/RequireFlag.tsx");function Pe(){var e=o()(["\n  fragment SignUpOptions_query on Query {\n    ...FacebookSusiButton_query\n    ...GoogleSusiButton_query\n  }\n  ","\n  ","\n"]);return Pe=function(){return e},e}function Ce(){var e=o()(["\n  fragment SignUpOptions_user on User {\n    id\n    name\n  }\n"]);return Ce=function(){return e},e}function Ie(){var e=o()(["\n  fragment SignUpOptions_collection on Collection {\n    id\n    name\n  }\n"]);return Ie=function(){return e},e}function Le(){var e=o()(["\n  fragment SignUpOptions_topic on Topic {\n    id\n    name\n  }\n"]);return Le=function(){return e},e}function Ae(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Te(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ae(n,!0).forEach(function(t){s()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ae(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var Ne=function(e){return Te({},Object(k.a)(function(e){return{font:e.font.uiHeavy,fontSize:18,lineHeight:24}})(e))},Re={leftImageId:"1*MQH4A5bsyRz4AWh5V4IfvQ.png",rightImageId:"1*lhbp8cxKdkDB-MgmwIPE5w.png",ctaText:"Sign Up"},Ue=function(e){var t,n,r,o,i=e.actionUrl,c=e.collection,s=e.goToEmailAuthStep,l=e.toggleOperation,u=e.token,m=e.topic,p=e.user,g={actionUrl:i||"",operation:"register",token:u||""},b=Object(f.e)(function(e){return e.config.productName}),v=c&&c.name||"",y=m&&m.name||"",w=p&&p.name||"",E=Object(H.g)(),O={collection:v,productName:b,topic:y,user:w},_=(t=E,n=O,r={},o=Object(R.b)("register",t,n,r),Te({},Re,{},o)),S=Object(C.useCx)();return d.createElement(N.a,{featureString:"susi-entry-point",target:Object(R.c)(E,O)},d.createElement(N.a,{featureString:"susi-sign-up",target:"modal"},d.createElement(x.a,a()({},_,{actionUrl:i}),d.createElement(N.a,{featureString:"susi-modal",target:"google-button"},d.createElement(D.a,g)),d.createElement(N.a,{featureString:"susi-modal",target:"fb-button"},d.createElement(h.b,{marginTop:"12px"},d.createElement(U.a,g))),d.createElement(ke.a,{name:"enable_sign_up_with_email"},d.createElement(h.b,{marginTop:"20px"},d.createElement(P.a,{scale:"M",color:"DARKER"},d.createElement(h.u,{onClick:s,linkStyle:"SUBTLE"},"Sign up with email")))),d.createElement(N.a,{featureString:"susi-modal",target:"sign-up-link"},d.createElement(j.a,{name:"enable_susi_font_changes"},function(e){var t=e?"L":"M",n=e?{className:S(Ne)}:{};return d.createElement(h.b,{marginTop:"28px",marginBottom:"56px"},d.createElement(P.a,{color:e?"DARKER":"LIGHTER",scale:{xs:t,sm:t,md:t,lg:"L",xl:"L"}},"Already have an account?"," ",d.createElement(h.u,{onClick:l,linkStyle:"OBVIOUS"},d.createElement("div",n," Sign in "))))})))))},De=g()(Le()),Me=g()(Ie()),He=g()(Ce()),Be=g()(Pe(),U.b,D.b),Fe=n("./src/store/actions/branch.ts"),ze=n("./src/store/actions/googleOneTap.ts"),qe=n("./src/store/actions/navigation.ts");function Ve(){var e=o()(["\n  fragment SusiContainer_query on Query {\n    ...SignInOptions_query\n    ...SignUpOptions_query\n  }\n  ","\n  ","\n"]);return Ve=function(){return e},e}function We(){var e=o()(["\n  fragment SusiContainer_user on User {\n    ...SignInOptions_user\n    ...SignUpOptions_user\n  }\n  ","\n  ","\n"]);return We=function(){return e},e}function Ge(){var e=o()(["\n  fragment SusiContainer_topic on Topic {\n    ...SignInOptions_topic\n    ...SignUpOptions_topic\n  }\n  ","\n  ","\n"]);return Ge=function(){return e},e}function Ye(){var e=o()(["\n  fragment SusiContainer_post on Post {\n    id\n  }\n"]);return Ye=function(){return e},e}function Ke(){var e=o()(["\n  fragment SusiContainer_collection on Collection {\n    ...SignInOptions_collection\n    ...SignUpOptions_collection\n  }\n  ","\n  ","\n"]);return Ke=function(){return e},e}function Xe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}n.d(t,"a",function(){return $e}),n.d(t,"b",function(){return Qe}),n.d(t,"c",function(){return Je}),n.d(t,"e",function(){return Ze}),n.d(t,"f",function(){return et}),n.d(t,"d",function(){return tt});var $e=function(e){var t,n,r,o,i,c=e.actionUrl,l=e.alternateUser,m=e.collection,p=e.hide,g=e.initOperation,y=e.initStep,x=e.isGlobalSusiModal,w=e.isVisible,E=e.post,j=e.token,_=e.topic,S=e.user,k=e.reportEventInfo,P=Object(f.d)(),C=Object(B.c)(),I=Object(H.g)(),L=d.useState(g),A=u()(L,2),N=A[0],R=A[1],U=Object(f.e)(function(e){return e.navigation.hideAlternateUser}),D=Object(f.e)(function(e){return e.session.user.id}),M=Object(f.e)(function(e){return e.navigation.susiModal}),F=function(){return o("login"===n?"register":"login")},z=d.useState(y||("login"===N?"SIGNIN_OPTIONS":"SIGNUP_OPTIONS")),q=u()(z,2),V=q[0],W=q[1],G=d.useState(""),Y=u()(G,2),K=Y[0],X=Y[1];d.useEffect(function(){U&&l&&i("CHECK_YOUR_INBOX")},[U]),x?(r=M.step,n=M.operation,i=function(e){return P(Object(qe.o)({step:e,operation:n}))},o=function(e){return P(Object(qe.o)({step:r,operation:e}))},t=function(){P(Object(qe.o)({step:null,operation:g})),P(Object(Fe.g)())}):(r=V,n=N,o=R,i=W,t=function(){R(g),W(y),p(),P(Object(Fe.g)())});return d.createElement(b.b,null,d.createElement(h.j,{isVisible:w,hide:t,withAnimation:!0,withCloseButton:!1},d.createElement(h.b,{background:Se.B,borderRadius:"4px",boxShadow:"0 2px 10px ".concat(Object(Se.w)(.15)),md:{width:"600px",height:"auto"},sm:{width:"95vw !important"},position:"relative",width:"900px"},d.createElement(h.g,{onClick:t,size:"LARGE"}),d.createElement(v.a,{postRenderCallback:function(e,t,n){var r;P(Object(ze.b)()),P(Object(Fe.f)()),r=n.google?"google":n.facebook?"facebook":n.twitter?"twitter":"medium",k&&C.event(k.eventName,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xe(n,!0).forEach(function(t){s()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xe(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({postId:E&&E.id,entryPoint:I,operation:g},k.data,{alternateUserSuggestionShown:t,alternateUserSuggestionAccountType:r,alternateUserSuggestionTargetUserId:n.userId,alternateUserSuggestionSourceUserId:e?e.id:D})),C.event("susi.viewed",{postId:E&&E.id,entryPoint:I,operation:g,alternateUserSuggestionShown:t,alternateUserSuggestionAccountType:r,alternateUserSuggestionTargetUserId:n.userId,alternateUserSuggestionSourceUserId:e?e.id:D}),"post_free"===I&&C.event("signInWall.dialogViewed",{})}},function(e){var s=e.loading,l=e.showSuggestedAccount,u=e.declineSuggestedAccount,f=e.userSocialLogins;return s?d.createElement(d.Fragment,null):(l&&["SIGNIN_OPTIONS","SIGNUP_OPTIONS"].includes(r)&&i("SUGGESTED_ACCOUNT"),function(e){var s=e.declineSuggestedAccount,l=e.userSocialLogins;switch(r){case"SUGGESTED_ACCOUNT":return d.createElement(T,{actionUrl:c,declineSuggestedAccount:s,setOperation:o,setStep:i,token:j,userSocialLogins:l});case"ENTER_EMAIL":return d.createElement(_e,{actionUrl:c,handleBack:function(){return i("login"===n?"SIGNIN_OPTIONS":"SIGNUP_OPTIONS")},handleNext:function(e){i("CHECK_YOUR_INBOX"),X(e)},operation:n,token:j});case"CHECK_YOUR_INBOX":return d.createElement(O,a()({hide:t},{email:K,operation:n}));case"SIGNIN_OPTIONS":case"SIGNUP_OPTIONS":default:var u="login"===n?J:Ue;return d.createElement(u,{actionUrl:c,collection:m,goToEmailAuthStep:function(){return i("ENTER_EMAIL")},toggleOperation:F,token:j,topic:_,user:S})}}({declineSuggestedAccount:u,userSocialLogins:f}))}))))},Qe=g()(Ke(),te,Me),Je=g()(Ye()),Ze=g()(Ge(),ne,De),et=g()(We(),re,He),tt=g()(Ve(),ie,Be)},"./src/components/susi/susi-modal/SusiModal.tsx":function(e,t,n){"use strict";n.d(t,"a",function(){return b}),n.d(t,"b",function(){return v});var r=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),o=n.n(r),i=n("./node_modules/react/index.js"),a=n("./node_modules/graphql-tag/src/index.js"),c=n.n(a),s=n("./node_modules/react-redux/es/index.js"),l=n("./src/components/susi/susi-modal/SusiContainer.tsx"),u=n("./src/framework/design-system/components/index.ts"),d=n("./src/framework/source/index.ts"),m=n("./src/store/actions/navigation.ts");function f(){var e=o()(["\n  fragment SusiModal_user on User {\n    ...SusiContainer_user\n  }\n  ","\n"]);return f=function(){return e},e}function p(){var e=o()(["\n  fragment SusiModal_topic on Topic {\n    ...SusiContainer_topic\n  }\n  ","\n"]);return p=function(){return e},e}function g(){var e=o()(["\n  fragment SusiModal_post on Post {\n    ...SusiContainer_post\n  }\n  ","\n"]);return g=function(){return e},e}function h(){var e=o()(["\n  fragment SusiModal_collection on Collection {\n    ...SusiContainer_collection\n  }\n  ","\n"]);return h=function(){return e},e}var b=function(){var e=Object(s.d)(),t=Object(s.e)(function(e){return e.navigation.susiModal}),n=t.collection,r=t.operation,o=t.post,a=t.step,c=t.susiEntry,f=t.topic,p=t.user,g=t.reportEventInfo;return i.createElement(u.J,{initialVisibility:!!a},function(t){var s=t.hide;return i.createElement(d.b,{source:{susiEntry:c},extendSource:!0},i.createElement(l.a,{collection:n,hide:function(){s(),e(Object(m.o)({step:null,operation:"register"}))},initOperation:r,initStep:a||"SIGNUP_OPTIONS",isGlobalSusiModal:!0,isVisible:!!a,post:o,topic:f,user:p,reportEventInfo:g}))})},v=(c()(h(),l.b),c()(g(),l.c));c()(p(),l.e),c()(f(),l.f)},"./src/components/susi/susi-modal/SusiPanel.tsx":function(e,t,n){"use strict";n.d(t,"b",function(){return f});var r=n("./node_modules/react/index.js"),o=n("./node_modules/react-redux/es/index.js"),i=n("./src/components/optimizely/OptimizelyWrapper.tsx"),a=n("./src/components/session/WithFlag.tsx"),c=n("./src/components/ui/image/index.ts"),s=n("./src/framework/design-system/components/index.ts"),l=n("./src/framework/design-system/type/index.ts"),u=n("./src/util/routes.ts"),d=n("./src/util/miroImage.ts"),m=function(e,t){return e&&r.createElement(i.a,{featureString:"susi-modal",target:"".concat(t,"-image")},r.createElement(s.b,{md:{display:"none"},paddingBottom:"16px"},r.createElement(c.b,{alt:"",height:550,miroId:e,strategy:d.a.Resample,width:214})))},f=function(e,t){return r.createElement(r.Fragment,null,r.createElement(l.a,{scale:"M"},"To make ",t," work, we log user data and share it with service providers. Click ",e," above to accept ",t,"s"," ",r.createElement(s.u,{href:Object(u.Cb)(),linkStyle:"OBVIOUS",inline:!0,target:"blank"},"Terms of Service")," & ",r.createElement(s.u,{href:Object(u.ib)(),linkStyle:"OBVIOUS",inline:!0,target:"blank"},"Privacy Policy"),"."))};t.a=Object(o.c)(function(e){return{productName:e.config.productName}})(function(e){var t=e.children,n=e.ctaText,o=e.hideDisclaimer,c=void 0!==o&&o,u=e.leftImageId,p=e.poweredBy,g=e.productName,h=e.rightImageId,b=e.subheader,v=e.title,y=e.bottomImageId,x=e.isSubHeaderResponsive,w=void 0===x||x;return r.createElement(i.a,{featureString:"susi-modal",target:"background"},r.createElement(s.b,{borderRadius:"4px",display:"flex",flexDirection:y?"column":"row",background:"white",height:"100%",minHeight:"550px",justifyContent:"space-between",md:{display:"flex",justifyContent:"center"},width:"100%"},m(u,"left"),r.createElement(s.b,{alignItems:"center",display:"flex",flexDirection:"column",flexGrow:"1",justifyContent:"center",padding:"44px 56px",textAlign:"center",width:y?"100%":"360px",md:{display:"flex",width:"100%"}},r.createElement(i.a,{featureString:"susi-modal",target:"header"},r.createElement(l.c,{scale:{xs:"M",sm:"M",md:"L",lg:"L",xl:"L"}},v)),!!p&&r.createElement(s.b,{sm:{display:"none"}},r.createElement(i.a,{featureString:"susi-modal",target:"powered-by-line"},r.createElement(l.a,{scale:"M",color:"LIGHTER"},p))),r.createElement(i.a,{featureString:"susi-modal",target:"subheader"},r.createElement(s.b,{maxWidth:"360px",marginTop:p?"20px":"8px",sm:w?{display:"none"}:{}},r.createElement(a.a,{name:"enable_susi_font_changes"},function(e){return r.createElement(l.a,{scale:e?"M":"L",color:"LIGHTER"},b)}))),r.createElement(s.b,{marginTop:"28px"},t),!c&&f(n,g)),m(h,"right"),function(e){if(!e)return null;var t=Object(d.d)({width:1800,height:212,miroId:e,strategy:d.a.Resample}),n="url(".concat(t,")");return e&&r.createElement(i.a,{featureString:"susi-modal",target:"bottom-image"},r.createElement(s.b,{height:"212px",maxWidth:"900px",backgroundImage:n,backgroundPositionX:"center",backgroundPositionY:"center",backgroundSize:"cover"}))}(y)))})},"./src/components/ui/AspectRatioPlaceholder.tsx":function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n("./node_modules/react/index.js"),o=n("./src/framework/design-system/components/index.ts");function i(e){var t=e.height,n=e.width,i=e.backgroundColor,a=void 0===i?"BASE_NORMAL":i,c=e.children,s=n/t;return r.createElement(o.b,{position:"relative",margin:"auto",backgroundColor:a},r.createElement(o.b,{paddingBottom:"".concat(100/s,"%")},c))}},"./src/components/ui/Byline.tsx":function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n("./node_modules/react/index.js"),o=n("./src/framework/style/index.ts"),i=n("./src/framework/design-system/components/index.ts"),a=function(){return{alignItems:"center",display:"flex"}},c=function(e){var t=e.avatar,n=e.button,c=e.description,s=e.title,l=Object(o.useCx)();return r.createElement("div",{className:l(a)},r.createElement("div",null,t),r.createElement(i.b,{marginLeft:"12px",width:"100%"},r.createElement(i.b,{display:"flex"},r.createElement("div",{style:{flex:1}},r.createElement(i.d,{strong:!0},s)),n&&r.createElement("span",null,n)),r.createElement(i.d,null,c)))}},"./src/components/ui/MiddotContainer.tsx":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/objectWithoutProperties.js"),o=n.n(r),i=n("./node_modules/lodash/isArray.js"),a=n.n(i),c=n("./node_modules/react/index.js"),s=n("./src/framework/design-system/components/index.ts");function l(){return c.createElement(s.b,{tag:"span"},c.createElement(s.d,null,""))}function u(e){var t=e.children,n=e.middotPadding,r=o()(e,["children","middotPadding"]),i=(a()(t)?t:[t]).filter(function(e){return!!e}).reduce(function(e,t,r){return 0!==r&&e.push(c.createElement(s.b,{paddingLeft:n,paddingRight:n,key:"middot-".concat(r)},c.createElement(l,null))),e.push(t),e},[]);return c.createElement(s.b,r,i)}n.d(t,"a",function(){return u})},"./src/components/ui/PopoverMenu.tsx":function(e,t,n){"use strict";n.d(t,"b",function(){return a}),n.d(t,"c",function(){return c}),n.d(t,"a",function(){return s});var r=n("./node_modules/react/index.js"),o=n("./src/framework/style/index.ts"),i=n("./src/framework/design-system/components/index.ts");function a(e){var t=e.paddingTopBottom,n=void 0===t?"8px":t,o=e.paddingLeftRight,a=void 0===o?"20px":o;return r.createElement(i.b,{padding:"".concat(n," ").concat(a),tag:"li"},r.createElement(i.d,null,e.children))}function c(e){var t=Object(o.useCx)(),n=e.width,a=void 0===n?"220px":n,c=e.paddingTopBottom,s=void 0===c?"8px":c;return r.createElement(i.b,{paddingTop:s,paddingBottom:s,tag:"li"},r.createElement("div",{className:t([function(e){return{borderTop:"1px solid ".concat(e.baseColor.border.lighter)}},function(){return{width:a}}])}))}function s(e){var t=e.padding,n=e.children;return r.createElement(i.A,{ui:"SMALL"},r.createElement(i.b,{display:"flex",flexDirection:"column",alignItems:"flex-start",paddingTop:t||"8px",paddingBottom:t||"8px",tag:"ul"},n))}},"./src/components/ui/image/Image.tsx":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/extends.js"),o=n.n(r),i=n("./node_modules/react/index.js"),a=n("./node_modules/react-redux/es/index.js"),c=n("./src/framework/style/index.ts");t.a=Object(a.c)(function(e){return{isAmp:e.config.isAmp}})(function(e){var t=e.alt,n=e.src,r=e.height,a=e.width,s=e.isAmp,l=e.rules,u=e.imgRef,d=Object(c.useCx)(),m=r?Math.round(r):void 0,f=a?Math.round(a):void 0,p=null===a,g={alt:t,src:n,width:p?void 0:f,height:p?void 0:m};return t||(g.role="presentation"),s?i.createElement("amp-img",o()({alt:t,class:d(l),layout:"responsive"},g)):i.createElement("img",o()({alt:t,className:d(l),ref:u},g))})},"./src/components/ui/image/MiroImage.tsx":function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),o=n.n(r),i=n("./node_modules/react/index.js"),a=n("./src/components/ui/image/Image.tsx"),c=n("./src/util/miroImage.ts");function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(n,!0).forEach(function(t){o()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function u(e){var t,n=e.alt,r=e.rules,o=e.miroId,s=e.width,u=e.height,d=e.strategy,m={miroId:o,width:s,darken:e.darken,freezeGifs:e.freezeGifs,focusPercentX:e.focusPercentX,focusPercentY:e.focusPercentY};return t=u?Object(c.d)(l({},m,{height:u,strategy:d})):Object(c.d)(l({},m,{strategy:c.a.Resample})),i.createElement(a.a,{src:t,alt:n,rules:r,height:u,width:s})}},"./src/components/ui/image/index.ts":function(e,t,n){"use strict";var r=n("./node_modules/react/index.js"),o=n("./src/components/ui/image/MiroImage.tsx"),i=n("./src/framework/design-system/util/style/converters.ts"),a=n("./src/util/miroImage.ts"),c=function(e){return{display:"block",borderRadius:"50%",height:Object(i.b)(e),width:Object(i.b)(e)}};function s(e){var t=e.alt,n=e.diameter,i=e.miroId,s=e.freezeGifs,l=e.rules,u=[[c(n)],l];return r.createElement(o.a,{rules:u,alt:t,miroId:i,width:n,height:n,strategy:a.a.Crop,freezeGifs:s})}var l=n("./src/components/ui/image/Image.tsx"),u=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),d=n.n(u),m=n("./node_modules/react-redux/es/index.js"),f=n("./src/framework/track/index.ts"),p=n("./src/components/ui/AspectRatioPlaceholder.tsx"),g=n("./src/framework/style/index.ts"),h=n("./src/styles/colors.ts"),b=n("./src/styles/position.ts"),v=function(e){return e?{opacity:1,transition:"opacity ".concat(400,"ms 0ms")}:{opacity:0,transition:"opacity 100ms ".concat(400,"ms")}},y={overflow:"hidden",willChange:"transform",transform:"translateZ(0)"},x=Object(m.c)(function(e){return{isAmp:e.config.isAmp}})(function(e){var t=e.isAmp,n=e.alt,o=e.rules,i=e.miroId,c=e.width,s=e.maxWidth,u=e.height,m=e.strategy,x=e.darken,w=e.freezeGifs,E=e.focusPercentX,O=e.focusPercentY,j=Object(g.useCx)(),_=u?Object(a.e)({miroId:i,height:u,width:c}):void 0,S=Object(a.d)({miroId:i,width:c,height:u,strategy:m,darken:x,freezeGifs:w,focusPercentX:E,focusPercentY:O}),k=r.createElement(l.a,{src:S,alt:n,rules:o,height:u,width:c}),P=function(e){var t=!1,n=r.useState(!1),o=d()(n,2),i=o[0],a=o[1],c=r.useRef(null),s=r.useCallback(function(n){if(e&&n.isIntersecting&&!t){t=!0;var r=new Image;r.src=e;var o=function(){a(!0),t=!1};r.decode?r.decode().then(function(){return o()}).catch(function(){}):r.onload=function(){return o()},r.onerror=function(){}}},[e]);return Object(f.f)({onIntersect:s,disconnect:function(){return!e||i},target:c,threshold:.1,rootMargin:"500px 0px 1000px 0px"},[i,s]),[i,c]}(t?null:S),C=d()(P,2),I=C[0],L=C[1],A=r.useState(!1),T=d()(A,2),N=T[0],R=T[1],U=r.useRef(null);r.useEffect(function(){var e=U.current;if(e){var t=function(){return R(!0)};return e.complete?t():e.addEventListener("load",t),function(){e.removeEventListener("load",t)}}},[]);var D=N&&!I,M=[v(I)];if(o&&(M=M.concat(o).concat({background:h.B})),u)return t?r.createElement(p.a,{height:u,width:c},k):r.createElement(p.a,{height:u,width:c},r.createElement("div",{className:j([v(D),b.a,y])},r.createElement(l.a,{src:_,alt:n,rules:[b.a,(H=!I,{filter:"blur(20px)",transform:"scale(1.1)",visibility:H?"visible":"hidden",transition:H?null:"visibility 0ms ".concat(400,"ms")})],height:u,width:c,imgRef:U})),r.createElement(l.a,{src:I?S:void 0,alt:n,rules:M,height:u,width:c,imgRef:L}),r.createElement("noscript",null,k));var H,B={};return s&&(B.maxWidth=s),r.createElement(l.a,{src:S,alt:n,rules:B,height:u,width:c})});n.d(t,"a",function(){return s}),n.d(t,"b",function(){return o.a}),n.d(t,"c",function(){return x})},"./src/components/upsell/UpsellClickable.tsx":function(e,t,n){"use strict";n.d(t,"b",function(){return p}),n.d(t,"a",function(){return g});var r=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),o=n.n(r),i=n("./node_modules/react/index.js"),a=n("./node_modules/graphql-tag/src/index.js"),c=n.n(a),s=n("./node_modules/react-redux/es/index.js"),l=n("./src/framework/design-system/components/index.ts"),u=n("./src/util/routes.ts"),d=n("./src/framework/reporter/index.ts"),m=n("./src/framework/source/index.ts");function f(){var e=o()(["\n  fragment UpsellClickable_post on Post {\n    id\n    collection {\n      id\n    }\n    sequence {\n      sequenceId\n    }\n    creator {\n      id\n    }\n  }\n"]);return f=function(){return e},e}var p=c()(f()),g=Object(s.c)(function(e){return{authDomain:e.config.authDomain}})(function(e){var t=e.authDomain,n=e.buttonSize,r=e.buttonStyle,o=e.children,a=(e.customTheme,e.inline),c=void 0!==a&&a,s=e.isButton,f=void 0!==s&&s,p=e.linkStyle,g=void 0===p?"SUBTLE":p,h=e.post,b=e.redirectUrl,v=e.width,y=b||Object(u.Y)(t),x=Object(d.c)(),w=Object(m.e)(),E=function(){x.event("upsell.clicked",{dimension:w&&w.dimension,locationId:w&&w.dimension,postId:h&&h.id,authorId:h&&h.creator?h.creator.id:"",sequenceId:h&&h.sequence?h.sequence.sequenceId:""})};return f?i.createElement(l.c,{buttonStyle:r,href:y,onClick:E,size:n,width:v},o):i.createElement(l.u,{onClick:E,href:y,linkStyle:g,inline:c},o)})},"./src/components/user/UserAvatar.tsx":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),o=n.n(r),i=n("./node_modules/react/index.js"),a=n.n(i),c=n("./node_modules/graphql-tag/src/index.js"),s=n.n(c),l=n("./src/components/ui/image/index.ts"),u=n("./src/framework/design-system/components/index.ts"),d=n("./src/framework/design-system/type/Detail.tsx"),m=n("./src/framework/design-system/components/Popover.tsx"),f=n("./src/framework/design-system/util/style/converters.ts"),p=n("./src/framework/style/index.ts"),g=n("./src/util/routes.ts"),h=n("./src/framework/design-system/components/util/VisibilityController.tsx");function b(){return(b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var v=a.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.5 1C11.83 1 5.17 5.75 1.9 12.71L1 12.3C4.4 5.02 11.4 0 19.5 0S34.6 5.02 38 12.29l-.9.42C33.82 5.75 27.16 1 19.5 1zM1.9 26.29C5.18 33.25 11.84 38 19.5 38c7.67 0 14.33-4.75 17.6-11.71l.9.42C34.6 33.98 27.6 39 19.5 39S4.4 33.98 1 26.71l.9-.42z"}),y=function(e){return a.a.createElement("svg",b({width:39,height:39,viewBox:"0 0 39 39"},e),v)};function x(){return(x=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var w=a.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M24.5 1.1c-9.39 0-17.53 5.55-21.51 13.66L2 14.28C6.15 5.82 14.66 0 24.5 0S42.85 5.82 47 14.28l-.99.48C42.03 6.65 33.9 1.1 24.5 1.1zM2.99 34.24C6.97 42.35 15.1 47.9 24.5 47.9c9.39 0 17.53-5.55 21.51-13.66l.99.48C42.85 43.18 34.34 49 24.5 49S6.15 43.18 2 34.72l.99-.48z"}),E=function(e){return a.a.createElement("svg",x({width:49,height:49,viewBox:"0 0 49 49"},e),w)};function O(){return(O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var j=a.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M28.5 1.2A27.45 27.45 0 0 0 4.06 15.82L3 15.27A28.65 28.65 0 0 1 28.5 0C39.64 0 49.29 6.2 54 15.27l-1.06.55A27.45 27.45 0 0 0 28.5 1.2zM4.06 41.18A27.45 27.45 0 0 0 28.5 55.8a27.45 27.45 0 0 0 24.44-14.62l1.06.55A28.65 28.65 0 0 1 28.5 57 28.65 28.65 0 0 1 3 41.73l1.06-.55z"}),_=function(e){return a.a.createElement("svg",O({width:57,height:57,viewBox:"0 0 57 57"},e),j)};function S(){return(S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var k=a.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M36.5 1.3c-13.7 0-25.57 7.56-31.35 18.57L4 19.27C10 7.83 22.3 0 36.5 0S63 7.83 69 19.27l-1.15.6C62.07 8.86 50.21 1.29 36.5 1.29zM5.15 53.12c5.78 11.01 17.64 18.58 31.35 18.58 13.7 0 25.57-7.57 31.35-18.58l1.15.6C63 65.17 50.7 73 36.5 73S10 65.17 4 53.73l1.15-.6z"}),P=function(e){return a.a.createElement("svg",S({width:73,height:73,viewBox:"0 0 73 73"},e),k)};function C(){return(C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var I=a.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M45.5 1.4c-17.14 0-32 9.95-39.25 24.5L5 25.28C12.47 10.28 27.8 0 45.5 0S78.53 10.29 86 25.28l-1.25.62C77.5 11.35 62.65 1.4 45.5 1.4zM6.25 65.1c7.25 14.55 22.1 24.5 39.25 24.5 17.14 0 32-9.95 39.25-24.5l1.25.62C78.53 80.72 63.2 91 45.5 91S12.47 80.71 5 65.72l1.25-.62z"}),L=function(e){return a.a.createElement("svg",C({width:91,height:91,viewBox:"0 0 91 91"},e),I)};function A(){return(A=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var T=a.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M72 1.7c-27.28 0-50.93 16.1-62.47 39.61L8 40.56C19.8 16.51 44.02 0 72 0c27.98 0 52.2 16.5 64 40.56l-1.53.75C122.93 17.8 99.27 1.71 72 1.71zM9.53 102.7c11.54 23.51 35.2 39.6 62.47 39.6 27.28 0 50.93-16.09 62.47-39.6l1.53.75C124.2 127.49 99.98 144 72 144c-27.98 0-52.2-16.5-64-40.56l1.53-.75z"}),N=function(e){return a.a.createElement("svg",A({width:144,height:144,viewBox:"0 0 144 144"},e),T)},R=n("./src/components/style/BaseThemeProvider.tsx"),U=function(e){return{fill:e.accentColor.fill.normal,display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",position:"absolute",width:"calc(100% + 25px)",height:"calc(100% + 25px)",top:"50%",left:"50%",transform:"translateX(-50%) translateY(-50%)",pointerEvents:"none"}},D={XS:y,S:E,M:_,L:P,XL:L,XXL:N};function M(e){var t=e.scale,n=D[t];return i.createElement(R.b,null,i.createElement(u.K,null,function(e){return i.createElement("div",{className:e(U)},i.createElement(n,null))}))}function H(){var e=o()(["\n  fragment UserAvatar_user on User {\n    username\n    id\n    name\n    imageId\n    mediumMemberAt\n  }\n"]);return H=function(){return e},e}n.d(t,"c",function(){return F}),n.d(t,"a",function(){return W}),n.d(t,"b",function(){return G});var B="1*dmbNkD5D-u45r44go_cf0g.png",F={XS:32,S:40,M:48,L:64,XL:80,XXL:128},z=function(e){return{color:e.backgroundColor,display:"inline-block",padding:"12px 16px",whiteSpace:"nowrap"}},q=function(e){var t=e.children,n=e.href;return e.link?i.createElement(u.f,{href:n},t):t},V=function(e){var t=e.children,n=e.hasPopover,r=e.name,o=Object(p.useCx)();return n&&r?i.createElement(h.a,null,function(e){var n,a=e.isVisible,c=e.show,s=e.hide,l=function(){n&&clearTimeout(n),c()},u=function(){n=setTimeout(s,100)};return i.createElement("span",{onMouseOver:l,onMouseOut:u},a&&i.createElement(m.a,{darkTheme:!0,disablePortalOverlay:!0,display:"block",placement:"top",hide:u,isVisible:!0,shouldAnimateOpen:!0,popoverRenderFn:function(){return i.createElement("div",{onMouseOver:l},i.createElement(d.a,{scale:"S"},i.createElement("span",{className:o(z)},r)))}},i.createElement(i.Fragment,null)),t)}):t};function W(e){var t=e.scale;return i.createElement(l.a,{miroId:B,alt:"Unknown user",diameter:F[t],freezeGifs:!1})}t.d=function(e){var t=e.hasPopover,n=void 0!==t&&t,r=e.link,o=void 0!==r&&r,a=e.scale,c=e.user,s=c.username,u=c.imageId,d=c.name,m=c.mediumMemberAt,h=e.withHalo,b=void 0===h||h,v=Object(p.useCx)();if(!s)return null;var y,x=Object(g.Pb)(s),w=!!m&&b,E=i.createElement(l.a,{miroId:u||B,alt:d||"",diameter:F[a],freezeGifs:!1}),O=E;return w&&(O=i.createElement("div",{className:v((y=F[a],{position:"relative",width:Object(f.b)(y),height:Object(f.b)(y)}))},i.createElement(M,{scale:a}),E)),i.createElement(V,{hasPopover:n,name:d},i.createElement(q,{href:x,link:o},O))};var G=s()(H())},"./src/components/user/UserFollowButton.tsx":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),o=n.n(r),i=n("./node_modules/react/index.js"),a=n("./node_modules/graphql-tag/src/index.js"),c=n.n(a),s=n("./node_modules/react-redux/es/index.js"),l=n("./src/components/session/WithViewer.tsx"),u=n("./node_modules/lodash/flowRight.js"),d=n.n(u),m=n("./node_modules/@apollo/react-hoc/lib/react-hoc.esm.js"),f=n("./src/framework/design-system/components/index.ts"),p=n("./src/framework/source/index.ts"),g=n("./src/framework/reporter/index.ts");function h(){var e=o()(["\n  fragment UserFollowButtonSignedIn_user on User {\n    id\n    isFollowing\n  }\n"]);return h=function(){return e},e}function b(){var e=o()(["\n  mutation unfollowUser($targetUserId: ID!) {\n    unfollowUser(targetUserId: $targetUserId) {\n      id\n      isFollowing\n    }\n  }\n"]);return b=function(){return e},e}function v(){var e=o()(["\n  mutation followUser($targetUserId: ID!) {\n    followUser(targetUserId: $targetUserId) {\n      id\n      isFollowing\n    }\n  }\n"]);return v=function(){return e},e}var y=c()(v()),x=c()(b()),w=c()(h()),E=d()(Object(m.a)(y,{name:"followUser",props:function(e){var t=e.ownProps,n=e.followUser;return{followUser:function(){return n({variables:{targetUserId:t.user.id},optimisticResponse:{__typename:"Mutation",followUser:{__typename:"User",id:t.user.id,isFollowing:!0}}})}}}}),Object(m.a)(x,{name:"unfollowUser",props:function(e){var t=e.ownProps,n=e.unfollowUser;return{unfollowUser:function(){return n({variables:{targetUserId:t.user.id},optimisticResponse:{__typename:"Mutation",unfollowUser:{__typename:"User",id:t.user.id,isFollowing:!1}}})}}}}))(function(e){var t=e.user,n=e.followUser,r=e.unfollowUser,o=e.buttonSize,a=void 0===o?"REGULAR":o,c=e.buttonStyleFn,s=void 0===c?function(e){return e?"STRONG":"OBVIOUS"}:c,l=Object(g.c)(),u=Object(p.f)(),d=t.isFollowing,m=s(!!d),h=i.useCallback(function(){return l.event("user.followed",{targetUserId:t.id,followSource:u}),n()}),b=i.useCallback(function(){return l.event("user.unfollowed",{targetUserId:t.id,followSource:u}),r()});return i.createElement(f.c,{onClick:d?b:h,buttonStyle:m,size:a},d?"Following":"Follow")}),O=n("./src/components/susi/SusiClickable.tsx"),j=n("./src/util/routes.ts");function _(){var e=o()(["\n  fragment UserFollowButtonSignedOut_post on Post {\n    ...SusiClickable_post\n  }\n  ","\n"]);return _=function(){return e},e}function S(){var e=o()(["\n  fragment UserFollowButtonSignedOut_user on User {\n    id\n    ...SusiClickable_user\n  }\n  ","\n"]);return S=function(){return e},e}var k=function(e){var t=e.buttonSize,n=void 0===t?"REGULAR":t,r=e.isObvious,o=void 0!==r&&r,a=e.user,c=e.post;return i.createElement(p.b,{source:{userId:a.id},extendSource:!0},i.createElement(O.a,{buttonSize:n,buttonStyle:o?"OBVIOUS":"SUBTLE",isButton:!0,operation:"register",post:c,user:a,actionUrl:c?Object(j.Ab)(a.id,c.id):Object(j.zb)(a.id)},"Follow"))},P=c()(S(),O.e),C=c()(_(),O.c);function I(){var e=o()(["\n  fragment UserFollowButton_post on Post {\n    collection {\n      id\n    }\n    ...UserFollowButtonSignedOut_post\n  }\n  ","\n"]);return I=function(){return e},e}function L(){var e=o()(["\n  fragment UserFollowButton_user on User {\n    ...UserFollowButtonSignedIn_user\n    ...UserFollowButtonSignedOut_user\n  }\n  ","\n  ","\n"]);return L=function(){return e},e}n.d(t,"b",function(){return A}),n.d(t,"a",function(){return T});t.c=Object(s.c)(function(e){return{isAmp:e.config.isAmp}})(function(e){var t=e.user,n=e.buttonSize,r=void 0===n?"REGULAR":n,o=e.buttonStyleFn,a=void 0===o?function(e){return e?"STRONG":"OBVIOUS"}:o,c=e.post;if(e.isAmp)return null;var s=!(!c||!c.collection);return i.createElement(l.b,null,function(e){return e?e.id!==t.id&&i.createElement(E,{user:t,buttonSize:r,buttonStyleFn:a}):i.createElement(k,{isObvious:s,post:c,user:t,buttonSize:r})})});var A=c()(L(),w,P),T=c()(I(),C)},"./src/fragmentTypes.json":function(e){e.exports={__schema:{types:[{kind:"UNION",name:"UserResult",possibleTypes:[{name:"User"},{name:"GraphqlEmptyId"},{name:"NotFound"},{name:"Suspended"},{name:"Blocked"},{name:"AccountSuspended"}]},{kind:"UNION",name:"UserSuggestionReasonType",possibleTypes:[{name:"FolloweesWhoFollow"},{name:"Topic"}]},{kind:"UNION",name:"PostResult",possibleTypes:[{name:"Post"},{name:"GraphqlEmptyId"},{name:"NotFound"},{name:"WithheldInCountry"},{name:"RemovedByUser"},{name:"UnavailableForLegalReasons"},{name:"PostSuspended"},{name:"AccountSuspended"},{name:"AccountDeleted"}]},{kind:"UNION",name:"StreamItemType",possibleTypes:[{name:"StreamItemCompressedPostList"},{name:"StreamItemFullFeatureCard"},{name:"StreamItemHalfFeatureCard"},{name:"StreamItemHeaderCard"},{name:"StreamItemHeading"},{name:"StreamItemPostPreview"},{name:"StreamItemQuoteCard"},{name:"StreamItemQuoteList"},{name:"StreamItemQuotePreview"},{name:"StreamItemSeriesGridCard"},{name:"StreamItemSeriesHeroCarousel"},{name:"StreamItemSequence"},{name:"StreamItemShortStoryCard"},{name:"StreamItemStandardCard"}]},{kind:"UNION",name:"HeadingType",possibleTypes:[{name:"HeadingBasic"},{name:"HeadingWithLink"},{name:"HeadingDismissible"}]},{kind:"UNION",name:"MilestoneType",possibleTypes:[{name:"PostMilestoneDistributionUserDisabled"},{name:"PostMilestoneDistributionUserEnabled"}]},{kind:"UNION",name:"RecircItem",possibleTypes:[{name:"Post"},{name:"SuggestedPost"}]},{kind:"UNION",name:"UserNavItemType",possibleTypes:[{name:"UserNavItemTypeSystemItem"}]},{kind:"UNION",name:"VariantFlagValueType",possibleTypes:[{name:"VariantFlagBoolean"},{name:"VariantFlagString"}]}]}}},"./src/framework/design-system/components/Body.tsx":function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return s});var r=n("./node_modules/react/index.js"),o=n("./src/framework/style/index.ts"),i=n("./src/framework/design-system/util/type/toRule.ts"),a=function(e){var t=e.grid.yStep,n=e.scale.ui,r=6*t;switch(n){case"SMALL":return r-t;case"REGULAR":return r;case"LARGE":return r+t;default:throw new Error("Unknown value for UI scale: ".concat(n))}},c=[function(e){return{color:e.baseColor.text.light,fill:e.baseColor.fill.light}},Object(i.a)(function(e){return{font:e.font.uiRegular,lineHeight:a(e),display:"block"}})];function s(e){var t=e.children,n=e.tag,i=void 0===n?"p":n,a=Object(o.useCx)(),s=i;return r.createElement(s,{className:a(c)},t)}},"./src/framework/design-system/components/Box.tsx":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/objectWithoutProperties.js"),o=n.n(r),i=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),a=n.n(i),c=n("./node_modules/react/index.js"),s=n("./src/framework/style/index.ts"),l=n("./src/log/index.ts"),u=function(e,t,n){t.forEach(function(t){null!=e[t]&&n(t,e[t])})},d=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e){return e},r={};return u(e,t,function(e,t){return r[e]=n(t)}),r},m=function(e){return["".concat(e,"Bottom"),"".concat(e,"Left"),"".concat(e,"Top"),"".concat(e,"Right")]},f=n("./src/styles/breakpoints.ts"),p=n("./src/styles/mediaTypes.ts");function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(n,!0).forEach(function(t){a()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var b=function(e){var t=m("padding");return t.push("padding"),d(e,t)},v=function(e){return function(t){var n=m("border");n.push("border");var r={ACCENT_LIGHT:t.accentColor.border.light,ACCENT_NORMAL:t.accentColor.border.normal,ACCENT_DARK:t.accentColor.border.dark,BASE_LIGHTER:t.baseColor.border.lighter,BASE_LIGHT:t.baseColor.border.light,BASE_NORMAL:t.baseColor.border.normal,BASE_DARK:t.baseColor.border.dark,BASE_DARKER:t.baseColor.border.darker,BACKGROUND:t.backgroundColor,ERROR:t.errorColor,NONE:"none"};return d(e,n,function(e){var n=e&&r[e];return n===r.NONE?r.NONE:n&&"".concat(t.borderWidth,"px ").concat(t.borderStyle," ").concat(n)})}},y=function(e){return d(e,["borderRadius"])},x=function(e){return d(e,["boxShadow"])},w=function(e){var t=m("margin");return t.push("margin"),d(e,t)},E=function(e){return d(e,["height","width","maxHeight","maxWidth","minHeight","minWidth","boxSizing"])},O=function(e){return d(e,["overflow"])},j=function(e){return d(e,["position","top","right","bottom","left"])},_=function(e){return d(e,["zIndex"])},S=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.allowFlexProps,r=t.noDefault,o=e.display,i=void 0===o?r?void 0:"block":o,a={display:i,float:e.float},c=["alignItems","flexDirection","justifyContent","flexWrap"];return"flex"===i||"inline-flex"===i||n?a=h({},a,{},d(e,c)):function(e,t,n){u(e,t,function(e,t){return l.a.warn(n(e))})}(e,c,function(e){return"Cannot set ".concat(e,' without setting `display="flex"`.')}),a},k=function(e){if(void 0===e.alignSelf&&void 0===e.flexGrow&&void 0===e.flexShrink&&void 0===e.flexBasis&&void 0===e.justifySelf&&void 0===e.order)return{};var t=e.alignSelf,n=e.flexGrow,r=void 0===n?0:n,o=e.flexShrink,i=void 0===o?0:o,a=e.flexBasis,c=void 0===a?"auto":a,s=e.justifySelf,l=e.order;return{alignSelf:t,flex:"".concat(r," ").concat(i," ").concat(c),justifySelf:s,order:l}},P=function(e){var t=e.backgroundColor,n=o()(e,["backgroundColor"]);return function(e){return h({},d(n,["background","backgroundImage","backgroundPositionX","backgroundPositionY","backgroundRepeat","backgroundSize"]),{},function(e){return function(t){var n={ACCENT_LIGHT:t.accentColor.fill.light,ACCENT_NORMAL:t.accentColor.fill.normal,ACCENT_DARK:t.accentColor.fill.dark,BASE_LIGHT:t.baseColor.background.light,BASE_NORMAL:t.baseColor.background.normal,BASE_DARK:t.baseColor.background.dark,SAGE_LIGHT:t.brandColor.sage.light,SAGE_NORMAL:t.brandColor.sage.normal,SAGE_DARK:t.brandColor.sage.dark,ROSE_LIGHT:t.brandColor.rose.light,ROSE_NORMAL:t.brandColor.rose.normal,ROSE_DARK:t.brandColor.rose.dark,BACKGROUND:t.backgroundColor,NONE:void 0};return d(e,["backgroundColor"],function(e){return e&&n[e]})}}({backgroundColor:t})(e))}},C=function(e){return d(e,["textAlign"])},I=function(e){return d(e,["whiteSpace"])},L=function(e){var t=e.xs;return t?function(e){return a()({},f.xs(e),h({},b(t),{},v(t)(e),{},w(t),{},E(t),{},O(t),{},S(t,{allowFlexProps:!0,noDefault:!0}),{},k(t),{},j(t),{},_(t),{},C(t),{},P(t)(e),{},I(t)))}:{}},A=function(e){var t=e.sm;return t?function(e){return a()({},f.sm(e),h({},b(t),{},v(t)(e),{},y(t),{},w(t),{},E(t),{},O(t),{},S(t,{allowFlexProps:!0,noDefault:!0}),{},k(t),{},j(t),{},_(t),{},C(t),{},P(t)(e),{},I(t)))}:{}},T=function(e){var t=e.md;return t?function(e){return a()({},f.md(e),h({},b(t),{},v(t)(e),{},y(t),{},w(t),{},E(t),{},O(t),{},S(t,{allowFlexProps:!0,noDefault:!0}),{},k(t),{},j(t),{},_(t),{},C(t),{},P(t)(e),{},I(t)))}:{}},N=function(e){var t=e.lg;return t?function(e){return a()({},f.lg(e),h({},b(t),{},v(t)(e),{},y(t),{},w(t),{},E(t),{},O(t),{},S(t,{allowFlexProps:!0,noDefault:!0}),{},k(t),{},j(t),{},_(t),{},C(t),{},P(t)(e),{},I(t)))}:{}},R=function(e){var t=e.xl;return t?function(e){return a()({},f.xl(e),h({},b(t),{},v(t)(e),{},y(t),{},w(t),{},E(t),{},O(t),{},S(t,{allowFlexProps:!0,noDefault:!0}),{},k(t),{},j(t),{},_(t),{},C(t),{},P(t)(e),{},I(t)))}:{}},U=function(e){var t=e.print;return t?function(e){return a()({},p.c(e),h({},S(t,{allowFlexProps:!0,noDefault:!0})))}:{}};t.a=c.forwardRef(function(e,t){var n=e.children,r=e.tag,i=void 0===r?"div":r,a=o()(e,["children","tag"]),l=Object(s.useCx)(),u=i,d=[b(a),v(a),y(a),x(a),w(a),E(a),O(a),S(a),k(a),j(a),_(a),P(a),C(a),I(a),L(a),A(a),T(a),N(a),R(a),U(a)];return c.createElement(u,{className:l(d),ref:t},n)})},"./src/framework/design-system/components/Popover.tsx":function(e,t,n){"use strict";n.d(t,"a",function(){return j});var r=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),o=n.n(r),i=n("./node_modules/react/index.js"),a=n("./node_modules/react-popper/lib/esm/index.js"),c=n("./src/styles/zIndex.ts"),s=n("./src/framework/design-system/components/index.ts"),l=n("./src/framework/design-system/components/portal/PopoverPortal.tsx"),u=n("./src/framework/design-system/util/events.ts"),d=n("./src/framework/style/index.ts"),m=n("./src/util/dom.ts"),f=n("./src/styles/mediaTypes.ts");function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var g={bottom:"top center",top:"bottom center"},h=function(){return{"0%":{transform:"matrix(0.97, 0, 0, 1, 0, 12)",opacity:0},"20%":{transform:"matrix(0.99, 0, 0, 1, 0, 2)",opacity:.7},"40%":{transform:"matrix(1, 0, 0, 1, 0, -1)",opacity:1},"70%":{transform:"matrix(1, 0, 0, 1, 0, 0)",opacity:1},"100%":{transform:"matrix(1, 0, 0, 1, 0, 0)",opacity:1}}},b=function(e,t,n,r){return function(o){return{boxSizing:"border-box",border:t?void 0:"".concat(o.borderWidth,"px solid ").concat(o.baseColor.border.lighter),borderRadius:"".concat(o.borderRadius.regular,"px"),boxShadow:"0 1px 4px ".concat(o.baseColor.border.lighter),color:t?"#fff":void 0,marginBottom:"top"===e?"".concat(n,"px"):"inherit",marginLeft:"right"===e?"".concat(n,"px"):"inherit",marginRight:"left"===e?"".concat(n,"px"):"inherit",marginTop:"bottom"===e?"".concat(n,"px"):"inherit",zIndex:r||c.a.popover}}},v=function(e,t){return function(n){return o()({},Object(f.b)("no-preference"),function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(n,!0).forEach(function(t){o()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({animation:"".concat(e," 100ms forwards linear"),transformOrigin:g[t],willChange:"transform"},x(n)))}},y=function(e){return function(t){return{background:e?t.baseColor.fill.normal:t.backgroundColor,borderRadius:"".concat(t.borderRadius.regular,"px")}}},x=function(e){return{background:e.backgroundColor,borderRadius:"".concat(e.borderRadius.regular,"px")}},w=function(e,t){return function(n){return{position:"absolute",pointerEvents:"none",top:"bottom"===e?"-14px":"top"===e?void 0:"50%",right:"left"===e?"-14px":void 0,bottom:"top"===e?"-14px":void 0,left:"right"===e?"-14px":"left"===e?void 0:"50%",clip:{top:"rect(0px 18px 18px -4px)",right:"rect(-4px 14px 18px 0px)",bottom:"rect(0px 18px 14px -4px)",left:"rect(-4px 14px 18px 0px)"}[e],":after":{content:"''",display:"block",width:"14px",height:"14px",background:t?n.baseColor.fill.normal:n.backgroundColor,transform:{top:"rotate(45deg) translate(-6px, -6px)",right:"rotate(45deg) translate(6px, -6px)",bottom:"rotate(45deg) translate(6px, 6px)",left:"rotate(45deg) translate(-6px, 6px)"}[e],boxShadow:{top:"1px 1px 1px -1px ".concat(n.baseColor.border.dark),right:"-1px 1px 1px -1px ".concat(n.baseColor.border.dark),bottom:"-1px -1px 1px -1px ".concat(n.baseColor.border.dark),left:"1px -1px 1px -1px ".concat(n.baseColor.border.dark)}[e]}}}};function E(e){var t=e.children,n=e.shouldAnimateOpen,r=e.placement,o=Object(d.useCx)();return n?i.createElement(s.L,{keyframes:{scaleUpKeyframes:h}},function(e){var n=e.scaleUpKeyframes;return i.createElement("div",{className:o(v(n,r))},t)}):i.createElement("div",{className:o(x)},t)}var O=function(e){var t=e.instance.popper;if(t){var n=parseInt(t.style.top);if(0===n)return t.style.top="".concat(n-parseInt(window.getComputedStyle(document.body).getPropertyValue("margin-top")),"px"),e}};function j(e){var t=e.children,n=e.darkTheme,r=void 0!==n&&n,o=e.disablePortalOverlay,c=void 0!==o&&o,s=e.display,f=e.flip,p=void 0===f||f,g=e.hide,h=e.isVisible,v=e.noArrow,x=void 0!==v&&v,j=e.noPortal,_=void 0!==j&&j,S=e.overflowPadding,k=void 0===S?5:S,P=e.placement,C=void 0===P?"bottom":P,I=e.popoverRenderFn,L=e.popoverTheme,A=e.referenceHeight,T=e.refTag,N=void 0===T?"div":T,R=e.setMaxHeight,U=void 0!==R&&R,D=e.shouldAnimateOpen,M=void 0!==D&&D,H=e.targetDistance,B=void 0===H?5:H,F=e.customZIndex,z=Object(d.useCx)(),q={display:s||"inline-block",height:A},V=N,W=Object(d.useTheme)().borderWidth,G=i.useCallback(function(e){var t=e.instance.popper.children[0];if(t&&"bottom"===C&&!p){var n=window.innerHeight-(e.offsets.reference.top+e.offsets.reference.height-Object(m.c)().top)-B-2*W-k;return t.style.overflowY="auto",t.style.maxHeight="".concat(n,"px"),e}},[W,p,m.c,C,k,B]),Y=i.createElement(a.b,{modifiers:{flip:{enabled:p},preventOverflow:{enabled:!0,padding:k},setMaxHeight:{enabled:U,fn:G,order:1e3},accountForBodyMargin:{enabled:!0,fn:O,order:1050}},placement:C},function(e){var t=e.placement,n=e.ref,o=e.style,a=e.arrowProps,c=e.scheduleUpdate;return i.createElement(d.WithCx,null,function(e){return i.createElement("div",{ref:n,style:o,className:e(b(t,r,B,F))},i.createElement(E,{placement:t,shouldAnimateOpen:M},i.createElement("div",{className:e(y(r))},I(c)),!x&&i.createElement("div",{className:e(w(t,r)),ref:a.ref,style:a.style})))})});return L&&(Y=i.createElement(d.ThemeProvider,{theme:L},Y)),_||(Y=i.createElement(l.a,{disableOverlay:c,onClick:function(e){return Object(u.a)(g,e)},onKeyDown:function(e){return Object(u.b)(g,e)},customZIndex:F},Y)),i.createElement(a.a,null,i.createElement(a.c,null,function(e){var n=e.ref;return i.createElement(V,{ref:n,className:z(q)},t)}),h?Y:null)}},"./src/framework/design-system/components/SvgButton.tsx":function(e,t,n){"use strict";n.d(t,"a",function(){return d});var r=n("./node_modules/@babel/runtime/helpers/extends.js"),o=n.n(r),i=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),a=n.n(i),c=n("./node_modules/react/index.js"),s=n("./src/framework/style/index.ts");function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var u=function(e){return function(t){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(n,!0).forEach(function(t){a()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({color:"inherit",fill:t.baseColor.fill.lighter,fontSize:"inherit",border:"inherit",fontFamily:"inherit",letterSpacing:"inherit",fontWeight:"inherit",padding:0,margin:0,outline:"none",":hover":{cursor:"pointer"}},e)}};function d(e){var t=e.ariaLabel,n=void 0===t?"":t,r=e.children,i=e.onClick,a=e.onTouchStart,l=e.onTouchEnd,d=e.rules,m=void 0===d?{}:d,f=Object(s.useCx)(),p={onClick:i,onTouchEnd:l,onTouchStart:a};return n&&(p["aria-label"]=n),c.createElement("button",o()({},p,{className:f(u(m))}),r)}},"./src/framework/design-system/components/buttons/CloseButton.tsx":function(e,t,n){"use strict";var r=n("./node_modules/react/index.js"),o=n.n(r),i=n("./src/framework/design-system/components/index.ts");function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var c=o.a.createElement("path",{d:"M13.8 4.6L9.5 8.89 5.21 4.6l-.61.61 4.29 4.3-4.29 4.28.61.62 4.3-4.3 4.28 4.3.62-.62-4.3-4.29 4.3-4.29",fillRule:"evenodd"}),s=function(e){return o.a.createElement("svg",a({width:19,height:19,viewBox:"0 0 19 19"},e),c)},l=n("./src/svg/x-25px.svg");function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var d=o.a.createElement("path",{d:"M20.13 8.11l-5.61 5.61-5.6-5.61-.81.8 5.61 5.61-5.61 5.61.8.8 5.61-5.6 5.61 5.6.8-.8-5.6-5.6 5.6-5.62",fillRule:"evenodd"}),m=function(e){return o.a.createElement("svg",u({className:"x-29px_svg__svgIcon-use",width:29,height:29},e),d)};n.d(t,"a",function(){return p});var f={SMALL:s,REGULAR:l.a,LARGE:m};function p(e){var t=e.onClick,n=e.size,o=void 0===n?"SMALL":n,a=e.isPositionAbsolute,c=void 0===a||a,s=f[o];return r.createElement(i.b,{position:!0===c?"absolute":"relative",right:"0",margin:!0===c?"12px":"0"},r.createElement(i.d,null,r.createElement(i.u,{onClick:t},r.createElement(s,null))))}},"./src/framework/design-system/components/form/TextField.tsx":function(e,t,n){"use strict";n.d(t,"b",function(){return f}),n.d(t,"a",function(){return h});var r=n("./node_modules/react/index.js"),o=n("./src/framework/design-system/components/index.ts"),i=n("./src/framework/design-system/type/index.ts"),a=n("./src/framework/style/index.ts"),c=function(e){var t=e.value,n=e.uneditablePrefix,o=void 0===n?"":n,i=Object(a.useCx)();return r.createElement("p",{key:t,className:i([u,p])},o,t)},s=function(e){var t=e.value,n=e.onChange,i=e.placeholder,c=e.uneditablePrefix,s=e.addIconPadding,l=e.omitBorder,d=e.autoFocus,m=Object(a.useCx)();return r.createElement(o.b,{display:"flex",width:"100%"},!!c&&r.createElement("p",{className:m([u,g])},c),r.createElement("input",{className:m(f(s,l)),type:"text",placeholder:i,value:t,onChange:n,autoFocus:d}))},l=function(e){var t=e.value,n=e.onChange,o=e.placeholder,i=e.rows,c=Object(a.useCx)();return r.createElement("textarea",{className:c([u,d]),placeholder:o,onChange:n,rows:i,value:t})},u=function(e){return{padding:"4px 0",fontFamily:"inherit",fontSize:"inherit",lineHeight:"inherit",outline:"0",borderStyle:"solid",borderWidth:"0px 0px 1px 0px",borderColor:"".concat(e.baseColor.border.light),":focus":{borderColor:e.baseColor.border.dark}}},d={borderWidth:"1px",padding:"4px",width:"100%"},m=function(e,t){return{paddingLeft:e?"25px":void 0,borderWidth:"0px 0px ".concat(t?0:1,"px 0px"),flexGrow:"1"}},f=function(e,t){return[u,m(e,t)]},p=function(e){return{borderWidth:"0px 0px 1px 0px",background:"linear-gradient(to right, ".concat(e.baseColor.text.normal,", 90%, white 100%)"),"-webkit-background-clip":"text","-webkit-text-fill-color":"transparent",color:"transparent",whiteSpace:"nowrap",overflow:"hidden",width:"100%"}},g={opacity:"0.6"};function h(e){var t=e.rows,n=e.isEditable,o=void 0===n||n;return r.createElement(i.a,{scale:"M"},o?t&&t>1?r.createElement(l,e):r.createElement(s,e):r.createElement(c,e))}},"./src/framework/design-system/components/grid-system/index.ts":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),o=n.n(r),i=n("./node_modules/react/index.js"),a=n("./src/framework/design-system/util/style/responsiveStyles.ts"),c=n("./src/framework/style/index.ts"),s={display:"flex",justifyContent:"center"},l=function(e){return function(t){return Object(a.a)(t,{margin:Object(a.c)([e,t.grid.marginSteps],function(e){var n=o()(e,2),r=n[0],i=n[1];return"full"===r?"0":"0 ".concat(i*t.grid.xStep,"px")}),maxWidth:Object(a.b)(e,function(e){return"full"===e?"100%":"".concat(t.maxWidths[e],"px")}),minWidth:"0",width:"100%"})}},u=function(e){var t=e.children,n=e.size,r=void 0===n?"outset":n,o=Object(c.useCx)();return i.createElement("div",{className:o(s)},i.createElement("div",{className:o(l(r))},t))},d=i.createContext({gutters:!0}),m=function(e){var t=e.alignItems,n=void 0===t?"center":t,r=e.children,o=e.direction,s=void 0===o?"row":o,l=e.gutters,u=void 0===l||l,m=e.tag,f=void 0===m?"div":m,p=Object(c.useCx)(),g=function(e){var t=e.alignItems,n=e.direction,r=e.gutters;return function(e){var o={xs:e.grid.gutterSteps.xs*e.grid.xStep,sm:e.grid.gutterSteps.sm*e.grid.xStep,md:e.grid.gutterSteps.md*e.grid.xStep,lg:e.grid.gutterSteps.lg*e.grid.xStep,xl:e.grid.gutterSteps.xl*e.grid.xStep},i=r?Object(a.b)(o,function(e){return"-".concat(e/2,"px")}):0;return Object(a.a)(e,{alignItems:t&&Object(a.b)(t,function(e){return e}),display:"flex",flexDirection:n&&Object(a.b)(n,function(e){return e}),flexWrap:"wrap",width:r?Object(a.b)(o,function(e){return"calc(100% + ".concat(e,"px)")}):"100%",marginLeft:i,marginRight:i})}}({alignItems:n,direction:s,gutters:u});return i.createElement(d.Provider,{value:{gutters:u}},i.createElement(f,{className:p(g)},r))},f=function(e){return"".concat(Math.round(e/12*1e8)/1e6,"%")},p=function(e){return function(t){var n=Object(a.b)(e,function(e){return f(e)}),r=Object(a.b)(e,function(e){return f(e)});return Object(a.a)(t,{flexBasis:n,flexGrow:0,maxWidth:r})}},g=function(e){return function(t){var n={xs:t.grid.gutterSteps.xs*t.grid.xStep,sm:t.grid.gutterSteps.sm*t.grid.xStep,md:t.grid.gutterSteps.md*t.grid.xStep,lg:t.grid.gutterSteps.lg*t.grid.xStep,xl:t.grid.gutterSteps.xl*t.grid.xStep},r=e?Object(a.b)(n,function(e){return"".concat(e/2,"px")}):"0px";return Object(a.a)(t,{paddingLeft:r,paddingRight:r})}},h=function(e){var t=e.children,n=e.size,r=e.tag,o=void 0===r?"div":r,a=i.useContext(d).gutters,s=Object(c.useCx)(),l=[g(a),p(n)];return i.createElement(o,{className:s(l)},t)};n.d(t,"c",function(){return u}),n.d(t,"a",function(){return m}),n.d(t,"b",function(){return h})},"./src/framework/design-system/components/heading/HeadingUI.tsx":function(e,t,n){"use strict";var r=n("./node_modules/react/index.js"),o=n("./src/framework/style/index.ts"),i=n("./src/framework/design-system/util/type/headingSizeRule.ts"),a=function(e){return function(t){return e?{color:t.baseColor.text.dark,fill:t.baseColor.fill.dark}:{color:t.baseColor.text.normal,fill:t.baseColor.fill.normal}}};t.a=function(e){var t=e.children,n=e.size,c=e.tag,s=void 0===c?n:c,l=e.textAlign,u=e.clamp,d=e.dark,m=Object(o.useCx)(),f=s,p={textAlign:l||"inherit"};return r.createElement(f,{className:m([a(d),p,Object(i.c)(n,function(e){return e.font.uiHeavy},u)])},t)}},"./src/framework/design-system/components/index.ts":function(e,t,n){"use strict";var r=n("./src/framework/style/index.ts"),o=n("./src/framework/design-system/components/Body.tsx"),i=n("./src/framework/design-system/components/Box.tsx"),a=n("./node_modules/@babel/runtime/helpers/extends.js"),c=n.n(a),s=n("./node_modules/@babel/runtime/helpers/objectWithoutProperties.js"),l=n.n(s),u=n("./node_modules/react/index.js"),d=n.n(u),m=n("./src/components/navigation/Anchor.tsx"),f=function(e){return u.createElement("button",e)},p=function(e){return u.createElement(m.a,e,e.children)};function g(e){return"href"in e&&e.href?u.createElement(p,e):e.onClick?u.createElement(f,e):null}var h=n("./src/framework/design-system/util/type/toRule.ts"),b=n("./src/styles/colors.ts"),v=function(){return{borderWidth:"1px",borderStyle:"solid",boxSizing:"border-box",display:"inline-block",textDecoration:"none",":hover":{cursor:"pointer"},":focus":{outline:"none"}}},y=function(e){return function(){return e?{width:e}:{}}},x={SUBTLE:function(e){return{color:e.baseColor.text.normal,fill:e.baseColor.fill.normal,background:0,borderColor:e.baseColor.border.dark,":hover":{color:e.baseColor.text.darker,fill:e.baseColor.fill.darker,borderColor:e.baseColor.border.darker},":disabled":{color:e.baseColor.text.lighter,fill:e.baseColor.fill.light,borderColor:e.baseColor.border.light,cursor:"inherit",":hover":{color:e.baseColor.text.lighter,fill:e.baseColor.fill.light,borderColor:e.baseColor.border.light}}}},OBVIOUS:function(e){return{background:0,color:e.accentColor.text.normal,fill:e.accentColor.fill.normal,borderColor:e.accentColor.border.normal,":hover":{color:e.accentColor.text.dark,fill:e.accentColor.fill.dark,borderColor:e.accentColor.border.dark}}},STRONG:function(e){return{color:e.backgroundColor,fill:e.backgroundColor,background:e.accentColor.fill.normal,borderColor:e.accentColor.fill.normal,":hover":{background:e.accentColor.fill.dark,borderColor:e.accentColor.fill.dark},":disabled":{cursor:"inherit",opacity:.3,":hover":{background:e.accentColor.fill.normal,borderColor:e.accentColor.fill.normal}}}},BRAND:function(e){return{color:e.backgroundColor,fill:e.backgroundColor,background:e.baseColor.fill.dark,borderColor:e.baseColor.fill.dark}},ERROR:function(e){return{color:e.backgroundColor,fill:e.backgroundColor,background:e.errorColor,borderColor:e.errorColor}},WARN:function(e){return{color:e.baseColor.text.lighter,fill:e.baseColor.fill.lighter,background:0,borderColor:e.baseColor.border.normal,":hover":{borderColor:e.warnColor,color:e.warnColor}}},FACEBOOK:function(e){return{color:e.backgroundColor,fill:e.backgroundColor,background:b.n,borderColor:b.n,":hover":{background:b.o,borderColor:b.o}}},SOCIAL:function(e){return{color:e.baseColor.text.normal,background:0,textAlign:"left",borderColor:e.baseColor.border.normal,":hover":{color:e.baseColor.text.normal,borderColor:e.baseColor.border.dark}}}},w={COMPACT:function(){return{padding:"0px 8px"}},SMALL:function(){return{padding:"4px 12px"}},REGULAR:function(){return{padding:"8px 16px"}},LARGE:function(){return{padding:"8px 20px"}},FULL:function(){return{padding:"12px"}},BADGE:function(){return{padding:"4px 0px",margin:"auto"}}},E={RECTANGLE:function(){return{borderRadius:"4px"}},CIRCLE:function(){return{borderRadius:"99em"}}};function O(e){return{font:e.font.uiRegular,lineHeight:20}}var j={COMPACT:Object(h.a)(function(e){return{font:e.font.uiRegular,fontSize:15,lineHeight:18}}),BADGE:Object(h.a)(function(e){return O(e)}),SMALL:Object(h.a)(function(e){return O(e)}),REGULAR:Object(h.a)(function(e){return{font:e.font.uiRegular,lineHeight:20}}),LARGE:Object(h.a)(function(e){return{font:e.font.uiRegular,lineHeight:24}})},_=function(e){var t=Object(r.useCx)(),n=e.buttonStyle,o=void 0===n?"SUBTLE":n,i=e.size,a=void 0===i?"REGULAR":i,s=e.shape,d=void 0===s?"RECTANGLE":s,m=e.width,f=l()(e,["buttonStyle","size","shape","width"]),p=[w[a],x[o],E[d],j[a],y(m),v];return u.createElement(g,c()({className:t(p)},f))},S=n("./src/framework/design-system/components/buttons/CloseButton.tsx"),k=n("./node_modules/@babel/runtime/helpers/classCallCheck.js"),P=n.n(k),C=n("./node_modules/@babel/runtime/helpers/createClass.js"),I=n.n(C),L=n("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"),A=n.n(L),T=n("./node_modules/@babel/runtime/helpers/getPrototypeOf.js"),N=n.n(T),R=n("./node_modules/@babel/runtime/helpers/assertThisInitialized.js"),U=n.n(R),D=n("./node_modules/@babel/runtime/helpers/inherits.js"),M=n.n(D),H=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),B=n.n(H),F=n("./src/styles/font.ts"),z=function(){return{padding:"8px 12px",textAlign:"center"}},q=(u.Component,function(e){return Object(h.a)(function(t){return{font:t.font.uiRegular,lineHeight:20,display:"block",clamp:e}})}),V=function(e){return function(t){return{color:e?t.baseColor.text.normal:t.baseColor.text.lighter,fill:e?t.baseColor.fill.normal:t.baseColor.fill.lighter}}};function W(e){var t=e.children,n=e.tag,o=void 0===n?"span":n,i=e.strong,a=void 0!==i&&i,c=e.clamp,s=Object(r.useCx)(),l=[q(c),V(a)],d=o;return u.createElement(d,{className:s(l)},t)}var G=function(e){var t=e.containerWidth;return{position:"relative",width:"".concat(t,"px"),height:"".concat(t,"px")}},Y=function(e){var t=e.radius;return{"100%":{strokeDashoffset:"".concat(6.28*t,"px")}}},K=function(e){var t=e.animationDelay,n=e.animationDuration,r=e.animationName,o=e.radius,i=e.strokeWidth;return function(e){return{r:o,cx:"50%",cy:"50%",fill:"none",stroke:e.baseColor.border.light,strokeWidth:i,strokeDasharray:"".concat(6.28*o,"px ").concat(6.28*o,"px"),strokeDashoffset:"0",transformOrigin:"50% 50%",transform:"rotate(-90deg)",animation:"".concat(r," ").concat(n,"ms linear forwards"),animationDelay:"".concat(t,"ms")}}};function X(e){var t=e.delay,n=e.duration,o=e.radius,i=void 0===o?8:o,a=e.strokeWidth,c=void 0===a?4:a,s=Object(r.useCx)(),l=2*(i+c);return u.createElement(r.WithKeyframes,{keyframes:{countdownCircleKeyframe:Y({radius:i})}},function(e){var r=e.countdownCircleKeyframe;return u.createElement("figure",{className:s(G({containerWidth:l}))},u.createElement("svg",{role:"img",xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%"},u.createElement("circle",{className:s(K({animationDelay:t,animationDuration:n,animationName:r,radius:i,strokeWidth:c})),cx:"50%",cy:"50%",r:"8px"})))})}function $(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$(n,!0).forEach(function(t){B()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var J=new Map([[6,"xs"],[8,"sm"],[10,"md"],[12,"lg"]]),Z=function(e){var t,n=e.centered,r=e.columns,o=e.gutter,i=e.theme,a=r?J.get(r):null,c={xs:"".concat(i.breakpoints.sm,"px"),sm:"".concat(i.breakpoints.md,"px"),md:"".concat(i.breakpoints.lg,"px"),lg:"".concat(i.breakpoints.xl,"px"),xl:"".concat(i.grid.xlMaxContentWidth,"px")},s={xs:"".concat(i.grid.marginSteps.xs*i.grid.xStep,"px"),sm:"".concat(i.grid.marginSteps.sm*i.grid.xStep,"px"),md:"".concat(i.grid.marginSteps.md*i.grid.xStep,"px"),lg:"".concat(i.grid.marginSteps.lg*i.grid.xStep,"px"),xl:"".concat(i.grid.marginSteps.xl*i.grid.xStep,"px")};return t=a?Q({maxWidth:c[a]},o?{paddingLeft:s[a],paddingRight:s[a]}:{}):{xs:Q({maxWidth:c.xs},o?{paddingLeft:s.xs,paddingRight:s.xs}:{}),sm:Q({maxWidth:c.sm},o?{paddingLeft:s.sm,paddingRight:s.sm}:{}),md:Q({maxWidth:c.md},o?{paddingLeft:s.md,paddingRight:s.md}:{}),lg:Q({maxWidth:c.lg},o?{paddingLeft:s.lg,paddingRight:s.lg}:{}),xl:Q({maxWidth:c.xl},o?{paddingLeft:s.xl,paddingRight:s.xl}:{})},Q({boxSizing:"border-box"},n?{marginLeft:"auto",marginRight:"auto"}:{},{},t,{width:"100%"})};function ee(e){var t=e.tag,n=void 0===t?"section":t,o=e.columns,a=e.gutter,s=void 0===a||a,d=e.centered,m=void 0===d||d,f=l()(e,["tag","columns","gutter","centered"]),p=Object(r.useTheme)(),g=Z({centered:m,columns:o,gutter:s,theme:p});return u.createElement(i.a,c()({tag:n},Q({},g,{},f)))}var te=n("./src/framework/design-system/components/grid-system/index.ts"),ne=function(e,t,n){return Object(h.a)(function(r){return{font:e?r.font.uiHeavy:r.font.uiRegular,lineHeight:18,letterSpacing:n,display:"block",clamp:t}})},re=function(e,t,n){return function(r){var o="light";return n&&(o="normal"),t&&(o="lighter"),e&&!t&&(o="light"),{color:r.baseColor.text[o],fill:r.baseColor.fill[o]}}},oe={textTransform:"uppercase"};function ie(e){var t=e.children,n=e.tag,o=void 0===n?"span":n,i=e.strong,a=void 0!==i&&i,c=e.lighter,s=void 0!==c&&c,l=e.darker,d=void 0!==l&&l,m=e.clamp,f=e.letterSpacing,p=Object(r.useCx)(),g=[ne(a,m,f),re(a,s,d),oe],h=o;return u.createElement(h,{className:p(g)},t)}var ae=Object(h.a)(function(e){return{font:e.font.uiHeavy,fontSize:15,lineHeight:16}}),ce=function(e){return{color:e.baseColor.text.normal,fill:e.baseColor.fill.normal,borderBottom:"1px solid ".concat(e.baseColor.border.light),paddingBottom:"8px",textTransform:"uppercase"}},se=function(e){var t=e.tag,n=void 0===t?"h1":t,o=e.children,i=Object(r.useCx)(),a=n,c=[ae,ce];return u.createElement(a,{className:i(c)},o)},le=n("./src/framework/design-system/util/type/headingSizeRule.ts"),ue=n("./src/styles/breakpoints.ts"),de=function(e){return{color:e.baseColor.text.normal,fill:e.baseColor.fill.normal}},me=function(e,t,n){if(!t)return{};var r={};return r[e(n)]=Object(le.a)(t),r},fe=function(e){var t=e.children,n=e.size,o=e.lgSize,i=e.mdSize,a=e.smSize,c=e.tag,s=void 0===c?n:c,l=Object(r.useCx)(),d=s;return u.createElement(r.WithTheme,null,function(e){return u.createElement(d,{className:l([de,Object(le.a)(n),me(ue.lg,o,e),me(ue.md,i,e),me(ue.sm,a,e)])},t)})},pe=n("./src/framework/design-system/components/heading/HeadingUI.tsx");function ge(e){var t=e.tag,n=e.children,r=e.textAlign,o=e.clamp;return u.createElement(pe.a,{tag:t,size:"h1",textAlign:r,clamp:o},n)}function he(e){var t=e.tag,n=e.children,r=e.textAlign,o=e.clamp;return u.createElement(pe.a,{tag:t,size:"h2",textAlign:r,clamp:o},n)}function be(e){var t=e.tag,n=e.children,r=e.textAlign,o=e.clamp;return u.createElement(pe.a,{tag:t,size:"h3",textAlign:r,clamp:o},n)}function ve(e){var t=e.tag,n=e.children,r=e.textAlign,o=e.clamp,i=e.dark;return u.createElement(pe.a,{tag:t,size:"h4",textAlign:r,clamp:o,dark:i},n)}var ye=function(e){function t(e){var n;return P()(this,t),n=A()(this,N()(t).call(this,e)),B()(U()(n),"timeout",void 0),B()(U()(n),"mouseEnter",function(e){n.timeout&&clearTimeout(n.timeout),n.props.onMouseEnter(e)}),B()(U()(n),"mouseLeave",function(e){n.timeout=setTimeout(function(){return n.props.onMouseLeave(e)},n.props.mouseLeaveDelay)}),n.mouseEnter=n.mouseEnter.bind(U()(n)),n.mouseLeave=n.mouseLeave.bind(U()(n)),n}return M()(t,e),I()(t,[{key:"render",value:function(){return u.createElement("div",{onMouseEnter:this.mouseEnter,onMouseLeave:this.mouseLeave},this.props.children)}}]),t}(u.Component);function xe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}B()(ye,"defaultProps",{mouseLeaveDelay:0});var we=function(e){return function(t){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xe(n,!0).forEach(function(t){B()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xe(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({color:"inherit",fill:"inherit",fontSize:"inherit"},e?{border:"inherit"}:{},{fontFamily:"inherit",letterSpacing:"inherit",fontWeight:"inherit",padding:0,margin:0,":hover":{cursor:"pointer"},":focus":{outline:"none"},":disabled":{cursor:"default",color:t.baseColor.text.lighter,fill:t.baseColor.fill.lighter}})}},Ee=function(e){return e?{display:e}:{}},Oe={INLINE:{SUBTLE:function(e){return{":hover":{textDecoration:"underline"}}},OBVIOUS:function(e){return{textDecoration:"underline"}}},STANDALONE:{SUBTLE:function(e){return{":hover":{color:e.baseColor.text.dark,fill:e.baseColor.fill.dark}}},OBVIOUS:function(e){return{color:e.accentColor.text.normal,fill:e.accentColor.fill.normal,":hover":{color:e.accentColor.text.dark,fill:e.accentColor.fill.dark},":disabled":{color:e.accentColor.fillTransparent.light,fill:e.accentColor.fillTransparent.light}}}}},je=function(e){var t=Object(r.useCx)(),n=e.display,o=e.inline,i=void 0!==o&&o,a=e.linkStyle,s=void 0===a?"SUBTLE":a,d=e.inheritBorder,m=void 0===d||d,f=l()(e,["display","inline","linkStyle","inheritBorder"]),p=i?"INLINE":"STANDALONE",h=[we(m),Oe[p][s],Ee(n)];return u.createElement(g,c()({className:t(h)},f))},_e=n("./src/framework/design-system/components/Popover.tsx"),Se=function(e){function t(e){var n;return P()(this,t),n=A()(this,N()(t).call(this,e)),B()(U()(n),"onMouseEnter",function(e){n.props.onMouseEnter&&n.props.onMouseEnter(e),n.setState({isHovered:!0})}),B()(U()(n),"onMouseLeave",function(e){n.props.onMouseLeave&&n.props.onMouseLeave(e),n.setState({isHovered:!1})}),n.onMouseEnter=n.onMouseEnter.bind(U()(n)),n.onMouseLeave=n.onMouseLeave.bind(U()(n)),n.state={isHovered:!1},n}return M()(t,e),I()(t,[{key:"render",value:function(){var e=this.props,t=e.isVisible,n=e.darkTheme,r=e.hide,o=e.noArrow,i=e.placement,a=e.targetDistance,c=e.popoverRenderFn,s=e.mouseLeaveDelay,l=e.customZIndex,d=e.children,m=this.state.isHovered;return u.createElement(ye,{onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,mouseLeaveDelay:s},u.createElement(_e.a,{isVisible:t&&m,darkTheme:n,hide:r,noArrow:o,noPortal:!0,placement:i,popoverRenderFn:c,targetDistance:a,customZIndex:l},d))}}]),t}(u.Component);B()(Se,"defaultProps",{isVisible:!0,hide:function(){},noArrow:!1,onMouseEnter:function(){},onMouseLeave:function(){},mouseLeaveDelay:1e3});var ke=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),Pe=n.n(ke),Ce=n("./node_modules/@babel/runtime/helpers/typeof.js"),Ie=n.n(Ce),Le=n("./src/framework/design-system/util/events.ts"),Ae=n("./src/framework/design-system/components/portal/Portal.tsx"),Te=function(e){return!function(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&document.activeElement===e||e.contains(document.activeElement)}(e,!0)&&(e.focus(),!0)},Ne=n("./src/styles/mediaTypes.ts"),Re=n("./src/styles/zIndex.ts"),Ue=function(e){return{position:"fixed",top:"0",bottom:"0",left:"0",right:"0",zIndex:Re.a.modal}},De={"0%":{opacity:1},"100%":{opacity:0}},Me={"0%":{opacity:0},"100%":{opacity:1}},He=function(e){function t(){var e,n;P()(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=A()(this,(e=N()(t)).call.apply(e,[this].concat(o))),B()(U()(n),"ref",void 0),n}return M()(t,e),I()(t,[{key:"componentDidUpdate",value:function(){this.focusRef()}},{key:"componentDidMount",value:function(){this.focusRef()}},{key:"focusRef",value:function(){this.ref&&Te(this.ref)}},{key:"render",value:function(){var e=this,t=this.props,n=t.children,o=t.container,i=t.isVisible,a=t.onClick,c=t.onKeyDown,s=t.rules,l=t.withAnimation;return u.createElement(Ae.a,{container:o},u.createElement(r.WithCx,null,function(t){return u.createElement(r.WithKeyframes,{keyframes:{animation:i?Me:De}},function(r){var o,i=r.animation;return u.createElement("div",{className:t(l?[s,Ue,(o=i,B()({},Object(Ne.b)("no-preference"),{animation:"".concat(o," 300ms forwards cubic-bezier(.25, .1, .25, 1)")}))]:[s,Ue]),onClick:a,onKeyDown:c,tabIndex:"-1",ref:function(t){return e.ref=t},"aria-modal":"true"},n)})}))}}]),t}(u.Component);B()(He,"defaultProps",{onClick:function(){return null},onKeyDown:function(){return null}});var Be=function(e){return function(t){return B()({display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:e?"transparent":t.baseColor.overlay.dark,overflowX:"hidden",overflowY:"auto"},Object(Ne.b)("no-preference"),{"-webkit-overflow-scrolling":"touch",scrollBehavior:"smooth"})}},Fe=function(e){return function(t){return{padding:"".concat(void 0!==e?e:t.grid.columnWidth,"px"),marginTop:"auto",marginBottom:"auto"}}},ze={"0%":{opacity:0},"25%":{transform:"scale(.9)"},"100%":{opacity:1,transform:"scale(1)"}},qe={"0%":{opacity:1,transform:"scale(1)"},"25%":{opacity:0},"100%":{opacity:0,transform:"scale(.9)"}};function Ve(e){"undefined"!==!("undefined"==typeof document||Ie()(document))&&(document.documentElement&&document.documentElement.style&&(document.documentElement.style.overflowY=e?"hidden":""))}var We=function(e){var t=e.padding,n=e.children,o=e.hide,a=e.isVisible,c=e.withCloseButton,s=void 0===c||c,l=e.withAnimation,d=void 0!==l&&l,m=e.withPageScroll,f=void 0!==m&&m,p=e.withTransparentOverlay,g=void 0!==p&&p,h=Object(r.useCx)(),b=u.useState(!1),v=Pe()(b,2),y=v[0],x=v[1];return u.useEffect(function(){a&&d&&x(!0)},[a,d]),u.useEffect(function(){return Ve(a&&!f),function(){Ve(!1)}},[a]),a||y?u.createElement(He,{rules:Be(g),isVisible:a,onClick:function(e){return Object(Le.a)(o,e)},onKeyDown:function(e){return Object(Le.b)(o,e)},withAnimation:d},d?u.createElement(r.WithKeyframes,{keyframes:{animation:a?ze:qe}},function(e){var r,o=e.animation;return u.createElement("div",{className:h([Fe(t),(r=o,function(e){return B()({animation:"".concat(r," 300ms forwards cubic-bezier(.25, .1, .25, 1)"),transformOrigin:"bottom center"},Object(Ne.b)("reduce"),{animationDuration:"0.1ms"})})]),onAnimationEnd:function(){a||x(!1)}},n)}):u.createElement("div",{className:h(Fe(t))},n),s&&u.createElement(i.a,{display:"flex",alignSelf:"flex-start"},u.createElement(i.a,{position:"absolute",top:"100px",right:"200px",sm:{top:"0px",right:"0px"},md:{top:"100px",right:"40px"},lg:{right:"100px"}},u.createElement(S.a,{onClick:o,size:"LARGE"})))):null},Ge=n("./src/framework/design-system/components/SvgButton.tsx");function Ye(){return(Ye=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Ke=d.a.createElement("g",{fillRule:"evenodd"},d.a.createElement("path",{d:"M13 7.5a5.5 5.5 0 1 0-11 0 5.5 5.5 0 0 0 11 0zm-12 0a6.5 6.5 0 1 1 13 0 6.5 6.5 0 0 1-13 0z"}),d.a.createElement("path",{d:"M4.81 5.74h1.6c.03-.65.47-1.07 1.15-1.07.66 0 1.11.4 1.11.94s-.23.82-.98 1.27c-.81.48-1.14 1-1.06 1.94l.01.33H8.2v-.31c0-.57.22-.85 1-1.3.83-.5 1.26-1.1 1.26-1.99 0-1.35-1.11-2.28-2.79-2.28-1.8 0-2.82 1-2.85 2.47zm2.67 6.24c.66 0 1.06-.39 1.06-1 0-.62-.4-1-1.06-1s-1.07.38-1.07 1c0 .61.41 1 1.07 1z"})),Xe=function(e){return d.a.createElement("svg",Ye({width:15,height:15,viewBox:"0 0 15 15"},e),Ke)},$e=function(e){function t(e){var n;return P()(this,t),n=A()(this,N()(t).call(this,e)),B()(U()(n),"onTouchStart",function(e){n.setState({isClicked:!0})}),B()(U()(n),"hideDialog",function(){n.setState({isClicked:!1})}),n.onTouchStart=n.onTouchStart.bind(U()(n)),n.hideDialog=n.hideDialog.bind(U()(n)),n.state={isClicked:!1},n}return M()(t,e),I()(t,[{key:"render",value:function(){var e=this.props,t=e.mouseLeaveDelay,n=e.placement,r=e.tooltipContents,o=e.customZIndex;return u.createElement(i.a,{display:"inline"},u.createElement(Se,{mouseLeaveDelay:t,placement:n,popoverRenderFn:function(){return u.createElement(i.a,{maxWidth:"250px",padding:"18px"},r())},customZIndex:o,noArrow:!0},u.createElement(Ge.a,{onTouchStart:this.onTouchStart},u.createElement(Xe,null))),u.createElement(We,{isVisible:this.state.isClicked,hide:this.hideDialog},u.createElement(i.a,{height:"100vh",padding:"102px 82px",sm:{padding:"64px 0",margin:"0 -32px"}},r())))}}]),t}(u.Component);function Qe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Je(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qe(n,!0).forEach(function(t){B()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qe(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}B()($e,"defaultProps",{mouseLeaveDelay:250});var Ze=function(e,t){return Je({},e,{scale:Je({},e.scale,{},t)})};function et(e){var t=e.children,n=l()(e,["children"]);return u.createElement(r.WithTheme,null,function(e){return u.createElement(r.ThemeProvider,{theme:Ze(e,n)},t)})}function tt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function nt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tt(n,!0).forEach(function(t){B()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tt(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var rt=function(e){var t=e.columns,n=e.spacing,o=e.bordered,i=Object(r.useCx)(),a=[st[n]];return o&&a.push(lt),u.createElement("thead",{className:i(at)},u.createElement("tr",null,t.map(function(e,t){return u.createElement("th",{key:t,className:i(a)},e.name)})))},ot=function(e){var t=e.columns,n=e.data,o=e.spacing,i=e.bordered,a=e.striped,c=e.hoverable,s=Object(r.useCx)(),l=[ct];c&&l.push(dt),a&&l.push(ut);var d=[st[o]];return i&&d.push(lt),u.createElement("tr",{className:s(l)},t&&t.length?t.map(function(e,t){return u.createElement("td",{key:t,className:s(d)},n[e.accessor])}):Object.keys(n).map(function(e,t){return u.createElement("td",{key:t,className:s(d)},n[e])}))},it=function(e){return nt({},Object(h.a)(function(e){return{font:e.font.uiRegular,fontSize:20,lineHeight:22}})(e),{color:e.baseColor.text.lighter,display:"table",width:"100%",borderCollapse:"collapse"})},at=function(e){return nt({},Object(h.a)(function(e){return{font:e.font.uiHeavy,fontSize:20,lineHeight:22}})(e),{color:e.baseColor.text.normal,display:"table-header-group",textAlign:"left",borderBottom:"2px ".concat(e.borderStyle," ").concat(e.baseColor.border.light)})},ct=function(e){return{borderBottom:"".concat(e.borderWidth,"px ").concat(e.borderStyle," ").concat(e.baseColor.border.light)}},st={DEFAULT:function(e){return{padding:"10px"}},COMPACT:function(e){return{padding:"4px"}},COMFORTABLE:function(e){return{padding:"16px"}}},lt=function(e){return{border:"".concat(e.borderWidth,"px ").concat(e.borderStyle," ").concat(e.baseColor.border.light)}},ut=function(e){return{":nth-child(odd)":{backgroundColor:e.baseColor.background.light}}},dt=function(e){return{":hover":{backgroundColor:e.baseColor.background.normal},":nth-child(odd):hover":{backgroundColor:e.baseColor.background.normal}}},mt=function(e){var t=e.data,n=e.columns,o=e.spacing,i=void 0===o?"DEFAULT":o,a=e.bordered,c=void 0!==a&&a,s=e.striped,l=void 0!==s&&s,d=e.hoverable,m=void 0!==d&&d,f=Object(r.useCx)(),p=[it];return c&&p.push(lt),u.createElement("table",{className:f(p)},n&&n.length&&u.createElement(rt,{spacing:i,columns:n,bordered:c}),u.createElement("tbody",null,t.map(function(e,t){return u.createElement(ot,{key:t,columns:n,data:e,spacing:i,bordered:c,striped:l,hoverable:m})})))},ft=n("./node_modules/@reach/tabs/es/index.js"),pt=n("./src/framework/design-system/type/index.ts"),gt=n("./node_modules/react-router/esm/react-router.js"),ht=n("./node_modules/react-redux/es/index.js"),bt=n("./src/util/navigation.ts"),vt=function(e){return{borderBottom:"1px solid ".concat(e.baseColor.border.lighter)}},yt={listStyleType:"none",margin:0,whiteSpace:"nowrap",overflowX:"auto",marginBottom:"-1px"},xt=function(e){return function(t){return{display:"inline-block",lineHeight:"40px",marginRight:"20px",paddingBottom:"8px",borderBottom:e?"1px solid ".concat(t.baseColor.border.dark):"none",outline:"none"}}},wt=function(e){var t,n,o=e.items,i=Object(r.useCx)(),a=(t=Object(gt.h)(),n=Object(ht.e)(function(e){return{currentHostname:e.navigation.hostname}}).currentHostname,function(e){return Object(bt.e)(e,n,t)});return u.createElement(ft.c,{className:i(vt)},u.createElement(ft.b,{as:"ul",className:i(yt)},o.map(function(e,t){var n=e.title,r=e.href,o=a(r);return u.createElement(ft.a,{as:"li",className:i(xt(o)),key:t},u.createElement(pt.a,{scale:"M",color:o?"DARKER":"LIGHTER"},u.createElement(je,{href:r},n)))})))};function Et(){return(Et=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Ot=d.a.createElement("path",{d:"M1.64 6.81l-.34.36.34.35 3.8 3.83.36.36.36-.36L14.36 3l.34-.35-.34-.35-.62-.65-.36-.37-.36.37L5.8 9.02 3 6.17l-.36-.36-.36.36-.64.64z",fill:"#fff",stroke:"#fff"}),jt=function(e){return d.a.createElement("svg",Et({width:19,height:19,fill:"none",viewBox:"0 0 16 13"},e),Ot)},_t={"-webkit-appearance":"none","-moz-appearance":"none",appearance:"none"},St=function(e){var t,n=e.children,o=e.checked,a=e.onChange,c=e.textColor,s=void 0===c?"LIGHTER":c,l=e.textScale,d=void 0===l?"M":l,m=Object(r.useCx)(),f=u.useCallback(function(e){a&&a(e)},[a]);return u.createElement(i.a,{tag:"label",display:"flex",alignItems:"center"},u.createElement(i.a,{marginRight:"10px",height:"19px",width:"19px",display:"flex",alignItems:"center"},u.createElement(jt,{className:m((t=o,function(e){return{background:t?e.accentColor.fill.normal:e.backgroundColor,border:"1px solid ".concat(t?e.accentColor.fill.normal:e.baseColor.border.light),borderRadius:"2px",boxSizing:"border-box",color:e.backgroundColor,cursor:"pointer",fill:e.backgroundColor}}))}),u.createElement("input",{className:m(_t),type:"checkbox",checked:o,onChange:f})),u.createElement(pt.a,{color:s,scale:d},n))},kt={"-webkit-appearance":"none","-moz-appearance":"none",appearance:"none"},Pt=function(e){var t,n=e.checked,o=e.name,a=e.onChange,c=e.value,s=e.content,l=e.subContent,d=Object(r.useCx)();return u.createElement(i.a,null,u.createElement(i.a,{tag:"label",display:"flex",paddingBottom:"10px",alignItems:"center"},u.createElement("input",{type:"radio",className:d(kt),checked:n,onChange:a,name:o,value:c}),u.createElement("span",{className:d((t=n,function(e){return{border:"solid 1px ".concat(e.baseColor.border.light),borderRadius:"100%",display:"flex",alignItems:"center",justifyContent:"center",width:"17px",height:"17px",boxSizing:"border-box",marginRight:"10px",":after":{content:"''",height:"11px",width:"11px",background:e.accentColor.fill.normal,borderRadius:"100%",display:t?"block":"none"}}}))}),u.createElement(i.a,{paddingTop:"2px"},s||u.createElement(pt.a,{scale:"M"},c))),n&&l?u.createElement(i.a,null,l):null)},Ct=function(e){var t=e.options,n=e.onChange,r=e.value,o=t.find(function(e){return e.value===r}),i=o?t.indexOf(o):0;return u.createElement("div",null,t.map(function(e,t){return u.createElement(Pt,{checked:i===t,onChange:(r=e.name,o=e.value,function(){n(r,o)}),name:e.name,value:e.value,content:e.content,key:t,subContent:e.subContent});var r,o}))},It=n("./src/framework/design-system/components/form/TextField.tsx"),Lt=function(e){function t(){var e,n;P()(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=A()(this,(e=N()(t)).call.apply(e,[this].concat(o))),B()(U()(n),"handleConfirm",function(){n.props.onConfirm(),n.props.hide()}),n}return M()(t,e),I()(t,[{key:"render",value:function(){var e=this.props,t=e.buttonStyle,n=e.children,r=e.isVisible,o=e.hide,a=e.titleText,c=e.cancelText,s=e.confirmText,l=e.footer;return u.createElement(We,{isVisible:r,hide:o},u.createElement(i.a,{display:"flex",flexDirection:"column",alignItems:"center"},u.createElement(ge,null,a),u.createElement(i.a,{paddingTop:"8px",paddingBottom:"24px"},u.createElement(pt.f,{scale:"M"},n)),u.createElement(i.a,null,u.createElement(_,{buttonStyle:t,onClick:this.handleConfirm},s),u.createElement(i.a,{paddingLeft:"8px",display:"inline-block"},u.createElement(_,{buttonStyle:"SUBTLE",onClick:o},c))),l?u.createElement(i.a,{paddingTop:"48px"},u.createElement(W,null,l)):null))}}]),t}(u.Component);B()(Lt,"defaultProps",{footer:null,buttonStyle:"OBVIOUS"});var At=n("./src/framework/design-system/components/portal/FloatingPortal.tsx"),Tt=function(){return{"0%":{transform:"translateX(-100%)"},"40%":{transform:"translateX(0%)"},"60%":{transform:"translateX(0%)"},"100%":{transform:"translateX(100%)"}}},Nt=function(e){function t(){return P()(this,t),A()(this,N()(t).apply(this,arguments))}return M()(t,e),I()(t,[{key:"render",value:function(){return u.createElement(r.WithKeyframes,{keyframes:{translateRight:Tt}},function(e){var t,n=e.translateRight;return u.createElement(At.a,{rules:(t=n,function(e){return{position:"fixed",top:"0",left:"0",right:"0",height:"2px",backgroundColor:e.accentColor.border.light,transform:"translateX(100%)",animation:"".concat(t," 1s ease-in-out infinite"),animationDelay:".8s"}}),zIndex:Re.a.loading})})}}]),t}(u.Component),Rt=n("./src/framework/design-system/components/portal/ui/Toast.tsx"),Ut=n("./src/framework/design-system/components/util/VisibilityController.tsx");n.d(t,"G",function(){return r.ThemeProvider}),n.d(t,"K",function(){return r.WithCx}),n.d(t,"L",function(){return r.WithKeyframes}),n.d(t,"M",function(){return r.WithTheme}),n.d(t,"a",function(){return o.b}),n.d(t,"b",function(){return i.a}),n.d(t,"c",function(){return _}),n.d(t,"g",function(){return S.a}),n.d(t,"d",function(){return W}),n.d(t,"f",function(){return g}),n.d(t,"i",function(){return X}),n.d(t,"B",function(){return ee}),n.d(t,"k",function(){return te.a}),n.d(t,"l",function(){return te.b}),n.d(t,"w",function(){return te.c}),n.d(t,"q",function(){return ie}),n.d(t,"r",function(){return se}),n.d(t,"s",function(){return fe}),n.d(t,"m",function(){return ge}),n.d(t,"n",function(){return he}),n.d(t,"o",function(){return be}),n.d(t,"p",function(){return ve}),n.d(t,"t",function(){return ye}),n.d(t,"u",function(){return je}),n.d(t,"x",function(){return _e.a}),n.d(t,"I",function(){return Se}),n.d(t,"y",function(){return $e}),n.d(t,"A",function(){return et}),n.d(t,"C",function(){return Ge.a}),n.d(t,"E",function(){return mt}),n.d(t,"D",function(){return wt}),n.d(t,"e",function(){return St}),n.d(t,"z",function(){return Ct}),n.d(t,"F",function(){return It.a}),n.d(t,"h",function(){return Lt}),n.d(t,"j",function(){return We}),n.d(t,"v",function(){return Nt}),n.d(t,"H",function(){return Rt.a}),n.d(t,"J",function(){return Ut.a})},"./src/framework/design-system/components/portal/FloatingPortal.tsx":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/classCallCheck.js"),o=n.n(r),i=n("./node_modules/@babel/runtime/helpers/createClass.js"),a=n.n(i),c=n("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"),s=n.n(c),l=n("./node_modules/@babel/runtime/helpers/getPrototypeOf.js"),u=n.n(l),d=n("./node_modules/@babel/runtime/helpers/assertThisInitialized.js"),m=n.n(d),f=n("./node_modules/@babel/runtime/helpers/inherits.js"),p=n.n(f),g=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),h=n.n(g),b=n("./node_modules/react/index.js"),v=n("./src/framework/design-system/components/index.ts"),y=n("./src/framework/design-system/components/portal/Portal.tsx"),x=function e(t,n){var r=this;o()(this,e),h()(this,"timeoutId",void 0),h()(this,"resumedAt",void 0),h()(this,"duration",void 0),h()(this,"elapsed",void 0),h()(this,"completed",void 0),h()(this,"onComplete",void 0),h()(this,"complete",function(){r.pause(),r.completed=!0,r.onComplete()}),h()(this,"resume",function(){if(!(r.resumedAt||r.timeoutId||r.completed)){var e=r.duration-r.elapsed;e<=0?r.complete():(r.resumedAt=Date.now(),r.timeoutId=setTimeout(r.complete,e))}}),h()(this,"pause",function(){r.timeoutId&&!r.completed&&(r.elapsed+=Date.now()-r.resumedAt,clearTimeout(r.timeoutId),r.resumedAt=0,delete r.timeoutId)}),h()(this,"setDuration",function(e){e!==r.duration&&(r.duration=e,r.timeoutId&&(r.pause(),r.resume()))}),this.resumedAt=0,this.elapsed=0,this.duration=t,this.completed=!1,this.onComplete=n},w=function(e){function t(e){var n;return o()(this,t),n=s()(this,u()(t).call(this,e)),h()(m()(n),"timer",void 0),h()(m()(n),"onComplete",function(){n.props.onComplete()}),n.timer=new x(e.duration,n.onComplete),n}return p()(t,e),a()(t,[{key:"componentDidMount",value:function(){this.timer.resume()}},{key:"componentWillUnmount",value:function(){this.timer.pause()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.duration!==this.props.duration&&this.timer.setDuration(e.duration)}},{key:"render",value:function(){var e=this.timer,t=this.props.children,n=t&&t(e);return n||null}}]),t}(b.Component),E=n("./src/styles/zIndex.ts");n.d(t,"a",function(){return O});var O=function(e){function t(){var e,n;o()(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=s()(this,(e=u()(t)).call.apply(e,[this].concat(i))),h()(m()(n),"ref",void 0),h()(m()(n),"timer",void 0),h()(m()(n),"onMouseEnter",function(){n.timer&&n.timer.pause()}),h()(m()(n),"onMouseLeave",function(){n.timer&&n.timer.resume()}),n}return p()(t,e),a()(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.children,r=t.container,o=t.duration,i=t.onComplete,a=t.rules,c=t.zIndex,s=b.createElement(y.a,{container:r},b.createElement(v.K,null,function(t){return b.createElement("div",{className:t([a,{zIndex:c}]),ref:function(t){return e.ref=t},onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave},n)}));return o&&i?b.createElement(w,{duration:o,onComplete:i},function(t){return e.timer=t,s}):s}}]),t}(b.Component);h()(O,"defaultProps",{zIndex:E.a.floating})},"./src/framework/design-system/components/portal/PopoverPortal.tsx":function(e,t,n){"use strict";n.d(t,"a",function(){return E});var r=n("./node_modules/@babel/runtime/helpers/classCallCheck.js"),o=n.n(r),i=n("./node_modules/@babel/runtime/helpers/createClass.js"),a=n.n(i),c=n("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"),s=n.n(c),l=n("./node_modules/@babel/runtime/helpers/getPrototypeOf.js"),u=n.n(l),d=n("./node_modules/@babel/runtime/helpers/assertThisInitialized.js"),m=n.n(d),f=n("./node_modules/@babel/runtime/helpers/inherits.js"),p=n.n(f),g=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),h=n.n(g),b=n("./node_modules/react/index.js"),v=n("./src/framework/design-system/components/index.ts"),y=n("./src/framework/design-system/components/portal/Portal.tsx"),x=n("./src/styles/zIndex.ts"),w=function(e,t){return function(n){return{position:"absolute",top:"0",bottom:e?"unset":"0",left:"0",right:e?"unset":"0",zIndex:t||x.a.metabar,":focus":{outline:"none"}}}},E=function(e){function t(){var e,n;o()(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=s()(this,(e=u()(t)).call.apply(e,[this].concat(i))),h()(m()(n),"ref",void 0),n}return p()(t,e),a()(t,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.customZIndex,r=e.disableOverlay,o=e.onClick,i=e.onKeyDown;return b.createElement(y.a,null,b.createElement(v.K,null,function(e){return b.createElement("div",{className:e(w(r,n)),onClick:o,onKeyDown:i,tabIndex:"-1"},t)}))}}]),t}(b.Component);h()(E,"defaultProps",{onClick:function(){return null},onKeyDown:function(){return null}})},"./src/framework/design-system/components/portal/Portal.tsx":function(e,t,n){"use strict";n.d(t,"a",function(){return x});var r=n("./node_modules/@babel/runtime/helpers/classCallCheck.js"),o=n.n(r),i=n("./node_modules/@babel/runtime/helpers/createClass.js"),a=n.n(i),c=n("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"),s=n.n(c),l=n("./node_modules/@babel/runtime/helpers/getPrototypeOf.js"),u=n.n(l),d=n("./node_modules/@babel/runtime/helpers/assertThisInitialized.js"),m=n.n(d),f=n("./node_modules/@babel/runtime/helpers/inherits.js"),p=n.n(f),g=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),h=n.n(g),b=n("./node_modules/react/index.js"),v=n("./node_modules/@hot-loader/react-dom/index.js"),y=n.n(v),x=(n("./src/log/index.ts"),function(e){function t(e){var n;return o()(this,t),n=s()(this,u()(t).call(this,e)),h()(m()(n),"portalEl",void 0),n.portalEl=document.createElement("div"),n}return p()(t,e),a()(t,[{key:"componentDidMount",value:function(){var e=this.props.container;e&&e.appendChild(this.portalEl)}},{key:"componentWillUnmount",value:function(){var e=this.props.container;e&&e.removeChild(this.portalEl)}},{key:"componentDidUpdate",value:function(e){0}},{key:"render",value:function(){return y.a.createPortal(this.props.children,this.portalEl)}}]),t}(b.Component));h()(x,"defaultProps",{container:"undefined"==typeof document?null:document.body})},"./src/framework/design-system/components/portal/ui/Toast.tsx":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/classCallCheck.js"),o=n.n(r),i=n("./node_modules/@babel/runtime/helpers/createClass.js"),a=n.n(i),c=n("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"),s=n.n(c),l=n("./node_modules/@babel/runtime/helpers/getPrototypeOf.js"),u=n.n(l),d=n("./node_modules/@babel/runtime/helpers/assertThisInitialized.js"),m=n.n(d),f=n("./node_modules/@babel/runtime/helpers/inherits.js"),p=n.n(f),g=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),h=n.n(g),b=n("./node_modules/react/index.js"),v=n("./src/framework/design-system/components/index.ts"),y=n("./src/framework/design-system/components/portal/FloatingPortal.tsx"),x=n("./src/svg/x-25px.svg");function w(e){var t=e.children,n=e.hide;return b.createElement(v.b,{display:"flex",alignItems:"center"},b.createElement(v.b,{flexGrow:"1",flexBasis:"0",paddingLeft:"4px",paddingRight:"4px"},t),b.createElement(v.b,{paddingLeft:"16px"},b.createElement(v.d,null,b.createElement(v.u,{onClick:n,display:"block"},b.createElement(v.b,{tag:x.a})))))}var E=n("./node_modules/react-redux/es/index.js"),O=n("./src/components/privacy/EuPrivacyBannerLoader.tsx"),j=n("./src/framework/design-system/util/style/responsiveStyles.ts"),_=n("./src/framework/reporter/index.ts"),S=n("./src/util/routes.ts"),k=function(e){return Object(j.a)(e,{maxWidth:"none",width:{xs:"auto",sm:"auto",md:"640px",lg:"640px",xl:"640px"},left:{xs:"initial",sm:"initial",md:"50%",lg:"50%",xl:"50%"},transform:{xs:"none",sm:"none",md:"translateX(-50%)",lg:"translateX(-50%)",xl:"translateX(-50%)"},margin:{xs:"0 8px",sm:"0 8px",md:"0",lg:"0",xl:"0"},backgroundColor:e.baseColor.overlay.dark,padding:{xs:"8px 0 8px 12px",sm:"8px 0 8px 12px",md:"12px 0 12px 24px",lg:"12px 0 12px 24px",xl:"12px 0 12px 24px"}})},P=Object(E.c)(function(e){return{productName:e.config.productName}})(function(e){e.children;var t=e.hide,n=e.productName,r=Object(_.c)();return b.useEffect(function(){r.event("privacyBanner.shown",{})},[]),b.createElement(v.b,{display:"flex",justifyContent:"space-between"},b.createElement(v.A,{ui:"SMALL"},b.createElement(v.a,null,"To make ",n," work, we log user data. By using ",n,", you agree to our"," ",b.createElement(v.u,{href:Object(S.ib)(),inline:!0,linkStyle:"OBVIOUS",target:"_blank"},"Privacy Policy"),", including cookie policy.")),b.createElement(v.b,{padding:"0 12px 12px",sm:{padding:"0 8px 8px"}},b.createElement(v.g,{onClick:function(){t(),O.a.set(O.c,1),r.event("privacyBanner.accepted",{})},isPositionAbsolute:!1,size:"SMALL"})))}),C=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),I=n.n(C),L=n("./node_modules/@apollo/react-components/lib/react-components.esm.js"),A=n("./node_modules/graphql-tag/src/index.js"),T=n.n(A),N=n("./src/store/actions/navigation.ts"),R=n("./src/components/session/WithViewer.tsx");function U(){var e=I()(["\n  mutation SendVerificationEmailMutation {\n    sendVerificationEmail\n  }\n"]);return U=function(){return e},e}var D=T()(U()),M=Object(E.c)()(function(e){var t=e.children,n=e.dispatch;return b.createElement(R.b,null,function(e){return b.createElement(L.a,{mutation:D,onCompleted:function(e){n(Object(N.k)({duration:"FOREVER",message:"",toastStyle:"SENT_VERIFICATION_EMAIL"}))}},function(e){return t({mutate:e})})})}),H=n("./src/framework/design-system/type/Detail.tsx"),B=function(e){return Object(j.a)(e,{margin:{xs:"0",sm:"0",md:"0",lg:"0",xl:"0"},left:{xs:"50%",sm:"50%",md:"50%",lg:"50%",xl:"50%"},maxWidth:"none",minWidth:"300px",padding:"12px 20px",transform:{xs:"translateX(-50%)",sm:"translateX(-50%)",md:"translateX(-50%)",lg:"translateX(-50%)",xl:"translateX(-50%)"},width:{xs:"auto",sm:"420px",md:"420px",lg:"420px",xl:"420px"}})},F=function(){var e=Object(_.c)();return b.useEffect(function(){e.event("user.sendVerificationEmailButterShown",{})},[]),b.createElement(v.b,{display:"flex",alignItems:"center",xs:{flexDirection:"column"}},b.createElement(v.b,{marginRight:"5px",xs:{marginRight:"0"}},b.createElement(H.a,{scale:"M"},"Complete your account registration.")),b.createElement(H.a,{scale:"M"},b.createElement(M,null,function(t){var n=t.mutate;return b.createElement(v.u,{onClick:function(){e.event("user.sendVerificationEmailButterClicked",{}),n()},linkStyle:"OBVIOUS"},"Send verification email")})))},z={whiteSpace:"nowrap",minWidth:"93px"},q=function(e){return Object(j.a)(e,{width:{xs:"auto",sm:"auto",md:"auto",lg:"auto",xl:"auto"}})},V=function(){return b.createElement(R.b,null,function(e){return b.createElement(v.b,{textAlign:"center"},b.createElement(v.b,{marginRight:"5px",xs:{marginRight:"0"},display:"inline-block"},b.createElement(H.a,{scale:"M"},"Verification email sent to ",e&&e.unverifiedEmail,".")),b.createElement(v.b,{display:"inline-block"},b.createElement(H.a,{scale:"M"},b.createElement(v.u,{href:Object(S.Xb)(),linkStyle:"OBVIOUS",target:"_blank"},b.createElement("span",{style:z},"Change email")))))})},W=function(e){return Object(j.a)(e,{maxWidth:"none",width:{xs:"auto",sm:"auto",md:"640px",lg:"640px",xl:"640px"},left:{xs:"initial",sm:"initial",md:"50%",lg:"50%",xl:"50%"},transform:{xs:"none",sm:"none",md:"translateX(-50%)",lg:"translateX(-50%)",xl:"translateX(-50%)"},margin:{xs:"0 8px",sm:"0 8px",md:"0",lg:"0",xl:"0"},backgroundColor:e.baseColor.overlay.dark,padding:{xs:"8px 0 8px 12px",sm:"8px 0 8px 12px",md:"12px 0 12px 24px",lg:"12px 0 12px 24px",xl:"12px 0 12px 24px"}})},G=Object(E.c)()(function(){return b.createElement(v.b,{display:"flex",justifyContent:"space-between"},b.createElement(v.A,{ui:"SMALL"},b.createElement(v.a,null,"The following content is under review as a potential violation of our"," ",b.createElement(v.u,{href:"https://medium.com/policy/medium-rules-30e5502c4eb4",inline:!0,linkStyle:"OBVIOUS",target:"_blank"},"rules."))))}),Y=n("./src/framework/design-system/util/style/converters.ts"),K=n("./src/styles/zIndex.ts"),X=n("./src/util/theme.ts");n.d(t,"a",function(){return Z});var $=function(e){return{position:"fixed",top:"0",left:"50%",transform:"translateX(-50%)",width:"100%",maxWidth:"".concat(Object(Y.a)(e,8),"px"),padding:"12px 24px",borderRadius:"0 0 ".concat(e.borderRadius.regular,"px ").concat(e.borderRadius.regular,"px"),backgroundColor:e.backgroundColor,boxShadow:"0 0 2px ".concat(e.baseColor.border.light)}},Q=function(e,t){switch(t){case"ERROR":return Object(X.f)(e);case"MESSAGE":case"EU_PRIVACY_BANNER":default:return e}},J=function(e){switch(e){case"EU_PRIVACY_BANNER":return[$,k];case"VERIFY_EMAIL":return[$,B];case"SENT_VERIFICATION_EMAIL":return[$,B,q];case"LIMITED_STATE_BANNER":return[$,W];default:return[$]}},Z=function(e){function t(){var e,n;o()(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=s()(this,(e=u()(t)).call.apply(e,[this].concat(i))),h()(m()(n),"ref",void 0),n}return p()(t,e),a()(t,[{key:"render",value:function(){var e,t=this.props,n=t.children,r=t.duration,o=t.hide,i=t.isVisible,a=t.toastStyle;if(!i)return null;switch(a){case"EU_PRIVACY_BANNER":e=P;break;case"VERIFY_EMAIL":e=F;break;case"SENT_VERIFICATION_EMAIL":e=V;break;case"LIMITED_STATE_BANNER":e=G;break;case"ERROR":case"MESSAGE":default:e=w}return b.createElement(v.M,null,function(t){return b.createElement(v.G,{theme:Q(t,a)},b.createElement(y.a,{duration:r,onComplete:o,rules:J(a),zIndex:K.a.toast},b.createElement("div",null,b.createElement("div",{className:"branch-journeys-top"},b.createElement(e,{hide:o},n||null)))))})}}]),t}(b.Component);h()(Z,"defaultProps",{toastStyle:"MESSAGE"})},"./src/framework/design-system/components/util/VisibilityController.tsx":function(e,t,n){"use strict";n.d(t,"a",function(){return v});var r=n("./node_modules/@babel/runtime/helpers/classCallCheck.js"),o=n.n(r),i=n("./node_modules/@babel/runtime/helpers/createClass.js"),a=n.n(i),c=n("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"),s=n.n(c),l=n("./node_modules/@babel/runtime/helpers/getPrototypeOf.js"),u=n.n(l),d=n("./node_modules/@babel/runtime/helpers/assertThisInitialized.js"),m=n.n(d),f=n("./node_modules/@babel/runtime/helpers/inherits.js"),p=n.n(f),g=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),h=n.n(g),b=n("./node_modules/react/index.js"),v=function(e){function t(e){var n;return o()(this,t),n=s()(this,u()(t).call(this,e)),h()(m()(n),"show",function(){n.setState({isVisible:!0})}),h()(m()(n),"hide",function(){n.setState({isVisible:!1})}),h()(m()(n),"toggle",function(){return n.state.isVisible?n.hide():n.show()}),n.state={isVisible:e.initialVisibility||!1},n}return p()(t,e),a()(t,[{key:"render",value:function(){var e=this.show,t=this.hide,n=this.toggle,r=this.state.isVisible;return this.props.children({isVisible:r,show:e,hide:t,toggle:n})}}]),t}(b.Component)},"./src/framework/design-system/type/Detail.tsx":function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n("./node_modules/react/index.js"),o=n("./src/framework/design-system/type/Type.tsx"),i=n("./src/framework/style/index.ts"),a=function(e){return function(t){return{color:{DARKER:t.baseColor.text.normal,LIGHTER:t.baseColor.text.lighter,ACCENT:t.accentColor.text.normal,ERROR:t.errorColor}[e]}}},c=function(e){var t=e.scale,n=e.color,c=void 0===n?"LIGHTER":n,s=e.children,l=e.tag,u=e.clamp,d=Object(i.useTheme)().newFonts.detail;return l||(l="h4"),r.createElement(o.a,{fontConfig:d,scale:t,tag:l,additionalRules:a(c),clamp:u},s)}},"./src/framework/design-system/type/Heading.tsx":function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n("./node_modules/react/index.js"),o=n("./src/framework/design-system/type/Type.tsx"),i=n("./src/framework/style/index.ts"),a=function(e){return{color:e.baseColor.text.normal}},c=function(e){var t=e.scale,n=e.children,c=e.tag,s=Object(i.useTheme)().newFonts.heading;return c||(c="h2"),r.createElement(o.a,{fontConfig:s,scale:t,tag:c,additionalRules:a},n)}},"./src/framework/design-system/type/Overline.tsx":function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n("./node_modules/react/index.js"),o=n("./src/framework/design-system/type/Type.tsx"),i=n("./src/framework/style/index.ts"),a=function(e){return function(t){return{color:{LIGHTER:t.baseColor.text.lighter,ACCENT:t.accentColor.text.normal}[e],textTransform:"uppercase",letterSpacing:"0.05em"}}},c=function(e){var t=e.children,n=e.color,c=void 0===n?"LIGHTER":n,s=e.scale,l=void 0===s?"M":s,u=e.tag,d=Object(i.useTheme)().newFonts.overline;return u||(u="p"),r.createElement(o.a,{fontConfig:d,scale:l,tag:u,additionalRules:a(c)},t)}},"./src/framework/design-system/type/Title.tsx":function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),o=n.n(r),i=n("./node_modules/react/index.js"),a=n("./src/framework/design-system/type/Type.tsx"),c=n("./src/framework/style/index.ts");function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var l=function(e){var t=e.newFonts.title.letterSpacing;return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(n,!0).forEach(function(t){o()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({color:e.baseColor.text.normal},t?{letterSpacing:"".concat(t,"px")}:{})},u=function(e){var t=e.scale,n=e.children,r=e.tag,o=Object(c.useTheme)().newFonts.title;return r||(r="h2"),i.createElement(a.a,{fontConfig:o,scale:t,tag:r,additionalRules:l},n)}},"./src/framework/design-system/type/Type.tsx":function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n("./node_modules/react/index.js"),o=n("./src/framework/style/index.ts"),i=n("./src/framework/design-system/util/style/responsiveStyles.ts"),a=n("./src/framework/design-system/util/type/createClampRule.ts"),c=function(e){var t=e.fontConfig,n=e.scale,c=e.tag,s=e.children,l=e.additionalRules,u=e.clamp,d=Object(o.useCx)(),m=c,f={fontFamily:t.family,fontWeight:t.weight},p=function(e){var t=e.scale,n=e.fontConfig;return function(e){return Object(i.a)(e,{fontSize:Object(i.b)(t,function(e){return"".concat(n.fontSize[e],"px")}),lineHeight:Object(i.b)(t,function(e){return"".concat(n.lineHeight[e],"px")})})}}({fontConfig:t,scale:n}),g=Object(i.d)(n,function(e){return t.lineHeight[e]}),h=u?Object(a.a)({clamp:u,lineHeight:g}):void 0;return r.createElement(m,{className:d([f,p,h,l])},s)}},"./src/framework/design-system/type/index.ts":function(e,t,n){"use strict";var r=n("./node_modules/react/index.js"),o=n("./src/framework/design-system/type/Type.tsx"),i=n("./src/framework/style/index.ts"),a=n("./src/framework/design-system/type/Detail.tsx"),c=n("./src/framework/design-system/type/Heading.tsx"),s=function(e){return{color:e.baseColor.text.normal}},l=function(e){var t=e.scale,n=e.children,a=e.tag,c=Object(i.useTheme)().newFonts.marketing;return a||(a="h2"),r.createElement(o.a,{fontConfig:c,scale:t,tag:a,additionalRules:s},n)},u=n("./src/framework/design-system/type/Overline.tsx"),d=function(e){return{color:e.baseColor.text.lighter}},m=function(e){var t=e.scale,n=e.children,a=e.tag,c=Object(i.useTheme)().newFonts.pullQuote;return a||(a="blockquote"),r.createElement(o.a,{fontConfig:c,scale:t,tag:a,additionalRules:d},n)},f=function(e){return function(t){return{color:{DARKER:t.baseColor.text.normal,LIGHTER:t.baseColor.text.lighter}[e]}}},p=function(e){var t=e.scale,n=e.children,a=e.color,c=void 0===a?"LIGHTER":a,s=e.tag,l=e.clamp,u=Object(i.useTheme)().newFonts.subtitle;return s||(s="h3"),r.createElement(o.a,{fontConfig:u,scale:t,tag:s,additionalRules:f(c),clamp:l},n)},g=n("./src/framework/design-system/type/Title.tsx");n.d(t,"a",function(){return a.a}),n.d(t,"b",function(){return c.a}),n.d(t,"c",function(){return l}),n.d(t,"d",function(){return u.a}),n.d(t,"e",function(){return m}),n.d(t,"f",function(){return p}),n.d(t,"g",function(){return g.a})},"./src/framework/design-system/util/events.ts":function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return o});var r=function(e,t){t.target===t.currentTarget&&e(t)},o=function(e,t){27===t.keyCode&&e(t)}},"./src/framework/design-system/util/fonts.ts":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/classCallCheck.js"),o=n.n(r),i=n("./node_modules/@babel/runtime/helpers/createClass.js"),a=n.n(i),c=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),s=n.n(c),l=function(){function e(t){var n=this,r=t.family,i=t.style,a=t.weight,c=t.metrics,l=t.lineHeightToFontSize,u=t.fontSizeToLetterSpacing,d=void 0===u?function(){return 0}:u;o()(this,e),s()(this,"family",void 0),s()(this,"style",void 0),s()(this,"weight",void 0),s()(this,"metrics",void 0),s()(this,"lineHeightToFontSize",void 0),s()(this,"fontSizeToLetterSpacing",void 0),this.family=r,this.style=i,this.weight=a,this.metrics=c,this.lineHeightToFontSize=l||function(e){return e/(n.ascender()-n.descender())},this.fontSizeToLetterSpacing=d}return a()(e,[{key:"xHeight",value:function(){var e=this.metrics,t=e.xHeight;return t/e.unitsPerEm}},{key:"capHeight",value:function(){var e=this.metrics,t=e.capHeight;return t/e.unitsPerEm}},{key:"ascender",value:function(){var e=this.metrics,t=e.ascender;return t/e.unitsPerEm}},{key:"descender",value:function(){var e=this.metrics,t=e.descender;return t/e.unitsPerEm}}]),e}();function u(e){var t=e.initialRatio,n=e.finalRatio,r=e.lowerBound,o=e.upperBound,i=e.easing,a=void 0===i?function(e){return e}:i;return function(e){var i=a(Math.min(1,Math.max(0,e-r)/(o-r)));return e*(t+(n-t)*i)}}var d=n("./src/styles/font.ts");n.d(t,"a",function(){return m}),n.d(t,"b",function(){return f}),n.d(t,"c",function(){return p}),n.d(t,"d",function(){return g});var m=new l({family:d.p,weight:500,style:"normal",metrics:{unitsPerEm:1e3,xHeight:453,capHeight:625,ascender:900,descender:-300}}),f=new l({family:d.e,weight:600,style:"normal",metrics:{unitsPerEm:1e3,xHeight:453,capHeight:625,ascender:900,descender:-300},lineHeightToFontSize:u({initialRatio:.9,finalRatio:1,lowerBound:32,upperBound:128}),fontSizeToLetterSpacing:function(e){return Math.min(-1*(e-14)/24,0)}}),p=new l({family:d.e,weight:400,style:"normal",metrics:{unitsPerEm:1e3,xHeight:453,capHeight:625,ascender:900,descender:-300},lineHeightToFontSize:u({initialRatio:.79,finalRatio:.85,lowerBound:28,upperBound:96})}),g=new l({family:d.q,weight:500,style:"normal",metrics:{unitsPerEm:1e3,xHeight:453,capHeight:625,ascender:900,descender:-300}})},"./src/framework/design-system/util/style/converters.ts":function(e,t,n){"use strict";n.d(t,"b",function(){return i}),n.d(t,"a",function(){return a});var r=n("./node_modules/lodash/round.js"),o=n.n(r),i=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return"".concat(o()(e,t),"px")},a=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=(e.grid.columnWidth+e.grid.gutterWidth)*t-e.grid.gutterWidth;return n&&(r+=2*e.grid.gutterWidth),r}},"./src/framework/design-system/util/style/responsiveStyles.ts":function(e,t,n){"use strict";n.d(t,"a",function(){return m}),n.d(t,"d",function(){return f}),n.d(t,"b",function(){return p}),n.d(t,"c",function(){return g});var r=n("./node_modules/@babel/runtime/helpers/typeof.js"),o=n.n(r),i=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),a=n.n(i),c=n("./node_modules/lodash/isPlainObject.js"),s=n.n(c),l=n("./src/styles/newBreakpoints.ts"),u=new Set(["xs","sm","md","lg","xl"]),d=function(e){if(!s()(e))return!1;var t=Object.keys(e);return t.length===u.size&&t.every(function(e){return u.has(e)})},m=function(e,t){for(var n={},r=0,i=Object.entries(t);r<i.length;r++){var c=a()(i[r],2),s=c[0],u=c[1];if(d(u))for(var m=0,f=Object.entries(u);m<f.length;m++){var p=a()(f[m],2),g=p[0],h=p[1],b=l[g](e);if(n[b]=n[b]||{},"object"===o()(n[b])&&n[b])n[b][s]=h}else n[s]=u}return n},f=function(e,t){if(!d(e))return t(e);for(var n={},r=0,o=Object.entries(e);r<o.length;r++){var i=a()(o[r],2),c=i[0],s=i[1];n[c]=t(s)}return n},p=function(e,t){return f(e,t)};function g(e,t){if(e.some(d)){var n={};return u.forEach(function(r){var o=e.map(function(e){return d(e)?e[r]:e});n[r]=t(o)}),n}return t(e)}},"./src/framework/design-system/util/type/createClampRule.ts":function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),o=n.n(r),i=n("./src/framework/design-system/util/style/responsiveStyles.ts"),a=function(e){var t=e.clamp,n=e.lineHeight;return function(e){return Object(i.a)(e,{overflow:"hidden",maxHeight:Object(i.c)([t,n],function(e){var t=o()(e,2),n=t[0],r=t[1];return"".concat(r*n,"px")}),textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:Object(i.b)(t,function(e){return e}),WebkitBoxOrient:"vertical"})}}},"./src/framework/design-system/util/type/headingSizeRule.ts":function(e,t,n){"use strict";n.d(t,"c",function(){return s}),n.d(t,"b",function(){return l}),n.d(t,"a",function(){return u});var r=n("./node_modules/lodash/assign.js"),o=n.n(r),i=n("./src/framework/design-system/util/type/toRule.ts"),a=n("./src/framework/design-system/components/Body.tsx"),c=n("./src/framework/design-system/util/fonts.ts"),s=function(e,t,n){return Object(i.a)(function(r){return{font:t(r),lineHeight:"h1"===e?Object(a.a)(r)+r.grid.yStep*("LARGE"===r.scale.ui?5:4):"h2"===e?Object(a.a)(r)+2*r.grid.yStep:"h3"===e?Object(a.a)(r)+r.grid.yStep:Object(a.a)(r),clamp:n,display:"block"}})},l=function(e){var t=c.d,n={fontFamily:t.family,fontWeight:t.weight,fontStyle:t.style};return o()(n,function(e){switch(e){case"h1":return{fontSize:"52px",lineHeight:"60px",letterSpacing:"0em"};case"h2":return{fontSize:"42px",lineHeight:"48px",letterSpacing:"0em"};case"h3":return{fontSize:"32px",lineHeight:"36px",letterSpacing:"0em"};case"h4":default:return{fontSize:"24px",lineHeight:"28px",letterSpacing:"0em"}}}(e))},u=function(e){var t=c.a,n={fontFamily:t.family,fontWeight:t.weight,fontStyle:t.style};return o()(n,function(e){switch(e){case"h1":return{fontSize:"56px",lineHeight:"64px",letterSpacing:"0em"};case"h2":return{fontSize:"44px",lineHeight:"49px",letterSpacing:"0em"};case"h3":return{fontSize:"32px",lineHeight:"36px",letterSpacing:"0em"};case"h4":default:return{fontSize:"24px",lineHeight:"32px",letterSpacing:"0em"}}}(e))}},"./src/framework/design-system/util/type/toRule.ts":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),o=n.n(r),i=n("./node_modules/lodash/round.js"),a=n.n(i),c=n("./src/framework/design-system/util/type/createClampRule.ts");function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function l(e){return function(t){var n=e(t),r=n.clamp,i=n.breakWord,l=n.font,u=n.display,d=function(e,t){var n=t.lineHeight,r=t.fontSize,o=t.letterSpacing;return{lineHeight:n,fontSize:r=void 0===r?e.lineHeightToFontSize(n):r,letterSpacing:o=void 0===o?e.fontSizeToLetterSpacing(r):o}}(l,n),m=d.lineHeight,f=d.fontSize,p=d.letterSpacing,g=r?Object(c.a)({clamp:r,lineHeight:m})(t):{},h={};return i&&(h={wordBreak:"break-word",overflowWrap:"break-word"}),function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(n,!0).forEach(function(t){o()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({fontFamily:l.family,fontWeight:l.weight,fontStyle:l.style,lineHeight:"".concat(a()(m,2),"px"),fontSize:"".concat(a()(f,2),"px"),letterSpacing:"".concat(a()(p,2),"px")},u&&{display:u},{},g,{},h)}}n.d(t,"a",function(){return l})},"./src/framework/reporter/ReporterContext.tsx":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/extends.js"),o=n.n(r),i=n("./node_modules/react/index.js");n.d(t,"a",function(){return c}),n.d(t,"c",function(){return s}),n.d(t,"b",function(){return l});var a=i.createContext(null),c=function(e){return i.createElement(a.Provider,{value:e.reporter},e.children)},s=function(e){return function(t){return i.createElement(a.Consumer,null,function(n){return i.createElement(e,o()({},t,{reporter:n}),t.children)})}},l=function(){var e=i.useContext(a);return function(e,t){var n;if(!e)throw void 0===t?n=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings."):(n=new Error(t)).name="Invariant Violation",n.framesToPop=1,n}(!!e,"Expected reporter not to be null"),e}},"./src/framework/reporter/index.ts":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/classCallCheck.js"),o=n.n(r),i=n("./node_modules/@babel/runtime/helpers/createClass.js"),a=n.n(i),c=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),s=n.n(c),l=n("./node_modules/isomorphic-fetch/fetch-npm-browserify.js"),u=n.n(l),d=n("./src/util/routes.ts"),m=function(){return Date.now().toString(36)+Math.round(1e16*Math.random()).toString(36)};var f=n("./node_modules/@babel/runtime/regenerator/index.js"),p=n.n(f),g=n("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"),h=n.n(g),b=n("./src/util/LocalStorage.ts");function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(n,!0).forEach(function(t){s()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var x="Lite_BatchReporter",w=function(){function e(t){var n=this,r=t.userId,i=t.authDomain,a=t.reduxStore;o()(this,e),s()(this,"_localStorage",void 0),s()(this,"_fetchPromise",void 0),s()(this,"_sending",void 0),s()(this,"_userId",void 0),s()(this,"_authDomain",void 0),s()(this,"_reduxStore",void 0),this._localStorage=new b.a(x),this._userId=r,this._authDomain=i,this._reduxStore=a,window.addEventListener("beforeunload",function(){n.flush()})}return a()(e,[{key:"event",value:function(e,t){return this._send({key:e,data:t,type:"e"})}},{key:"flush",value:function(){return this._sendNow({beforeUnload:!0})}},{key:"_send",value:function(){var e=h()(p.a.mark(function e(t){var n,r,o=this;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this._getCommonData(),t.data=y({},t.data||{},{},n),r=m(),this._localStorage.set(r,y({},t,{timestamp:Date.now(),eventId:r,userId:this._userId})),!this._sending){e.next=7;break}return e.next=7,this._fetchPromise;case 7:return void 0===this._fetchPromise&&(this._fetchPromise=new Promise(function(e){return setTimeout(function(){return o._sendNow().then(e)},5e3)})),e.abrupt("return",this._fetchPromise);case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"_sendNow",value:function(){var e=this,t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{beforeUnload:!1}).beforeUnload,n=this._localStorage.getItems(),r=Object.values(n);if(!r)return Promise.resolve();var o="".concat(this._authDomain||"").concat(Object(d.k)());return this._sending=!0,u()(o,y({credentials:"same-origin",method:"POST",headers:{"x-xsrf-token":"1","content-type":"application/json"},body:JSON.stringify(r)},t?{mode:"same-origin",keepalive:!0}:{})).then(function(t){t.ok&&Object.keys(n).forEach(function(t){return e._localStorage.remove(t)}),delete e._fetchPromise,e._sending=!1})}},{key:"_getCommonData",value:function(){var e=this._reduxStore.getState().navigation,t=e.referrer,n=e.referrerSource,r=window?window.location.href:void 0,o=window?window.innerWidth:void 0;return{userId:this._userId,service:"lite",location:r,browserWidth:o,referrer:t&&encodeURI(t),referrerSource:n}}}]),e}(),E=n("./src/framework/reporter/ReporterContext.tsx");n("./src/framework/reporter/performance.tsx");n.d(t,"b",function(){return E.a}),n.d(t,"d",function(){return E.c}),n.d(t,"c",function(){return E.b}),n.d(t,"a",function(){return w})},"./src/framework/reporter/performance.tsx":function(e,t,n){"use strict";n.d(t,"b",function(){return w}),n.d(t,"a",function(){return E}),n.d(t,"c",function(){return O});var r=n("./node_modules/@babel/runtime/helpers/extends.js"),o=n.n(r),i=n("./node_modules/@babel/runtime/helpers/classCallCheck.js"),a=n.n(i),c=n("./node_modules/@babel/runtime/helpers/createClass.js"),s=n.n(c),l=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),u=n.n(l),d=n("./node_modules/isomorphic-fetch/fetch-npm-browserify.js"),m=n.n(d),f=n("./node_modules/opentracing/lib/index.js"),p=n("./node_modules/react/index.js"),g=n("./src/log/index.ts"),h=n("./src/util/routes.ts");function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(n,!0).forEach(function(t){u()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var y=p.createContext(null),x=function(e){for(var t={},n=0,r=Object.keys(e);n<r.length;n++){var o=r[n],i=e[o];null!=i&&(t[o]=i.duration)}return t},w=function(){function e(t){var n=t.host,r=t.version;a()(this,e),u()(this,"baseURL",void 0),u()(this,"version",void 0),u()(this,"parentSpan",void 0),this.baseURL=n?"".concat(window.location.protocol,"//").concat(n):"",this.version=r,this.parentSpan=null}return s()(e,[{key:"reportRender",value:function(e,t){this._send("render",v({},e,{version:this.version,service:"lite",metrics:x(t)}))}},{key:"reportInput",value:function(e,t){this._send("input",v({},e,{version:this.version,service:"lite",metrics:x(t)}))}},{key:"reportClientReady",value:function(e,t){this._send("client-ready",v({},e,{version:this.version,service:"lite",metrics:x(t)}))}},{key:"setParentSpan",value:function(e){this.parentSpan=e}},{key:"_send",value:function(e,t){var n={tags:u()({report:e,"component.version":t.version,"req.route_name":t.route},f.Tags.SPAN_KIND,f.Tags.SPAN_KIND_RPC_CLIENT)};null!=this.parentSpan&&(n.childOf=this.parentSpan);var r=Object(f.globalTracer)().startSpan("client.performance.report",n),o="".concat(this.baseURL).concat(Object(h.db)(e));m()(o,{credentials:"same-origin",method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then(function(e){r.setTag(f.Tags.HTTP_STATUS_CODE,e.status),200!==e.status&&r.setTag(f.Tags.ERROR,"true"),r.finish()}).catch(function(e){g.a.warn({err:e},"Error submitting performance report"),r.setTag(f.Tags.ERROR,"true"),r.log({error:String(e)}),r.finish()})}}]),e}(),E=function(e){return p.createElement(y.Provider,{value:e.reporter},e.children)},O=function(e){return function(t){return p.createElement(y.Consumer,null,function(n){return p.createElement(e,o()({},t,{perf:n}),t.children)})}}},"./src/framework/source/SourceContext.tsx":function(e,t,n){"use strict";n.d(t,"a",function(){return d}),n.d(t,"d",function(){return f}),n.d(t,"c",function(){return p}),n.d(t,"b",function(){return h}),n.d(t,"f",function(){return b}),n.d(t,"e",function(){return v}),n.d(t,"g",function(){return y}),n.d(t,"h",function(){return x});n("./node_modules/@babel/runtime/helpers/extends.js");var r=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),o=n.n(r),i=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),a=n.n(i),c=n("./node_modules/lodash/forIn.js"),s=n.n(c),l=n("./node_modules/react/index.js");function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var d={NONE:1,FEATURED_STORIES:20,FEATURED_WRITER:21,MOST_POPULAR_STORIES_IN_TOPIC:23,READ_NEXT_SIDEBAR:25,READ_NEXT_HEADER:26},m={name:1,userId:2,dimension:4,postId:6,index:10,postFeedReason:11,topicId:21,susiEntry:27,sectionType:28};function f(e){var t=[];return s()(m,function(n,r){var o=e[r];null!=o&&(o=o.toString().replace(/-/g,"_")),t[n-1]=o}),t.join("-")}function p(e){var t=e.split("-");return Object.entries(m).reduce(function(e,n){var r=a()(n,2),o=r[0],i=r[1],c=t[Number(i)-1];return c&&(e[o]=function(e,t){switch(t){case"index":case"sectionType":return Number(e);default:return e}}(c,o)),e},{})}var g=l.createContext(null),h=function(e){var t=e.source,n=e.extendSource,r=void 0!==n&&n,i=e.children,a=b();return r&&a&&(t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(n,!0).forEach(function(t){o()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},a,{},t)),l.createElement(g.Provider,{value:t},i)},b=function(){return l.useContext(g)},v=function(){var e=l.useContext(g);return e?f(e):""},y=function(){var e=l.useContext(g);return e&&e.name?e.name:""},x=function(){var e=l.useContext(g);return e&&e.susiEntry}},"./src/framework/source/index.ts":function(e,t,n){"use strict";var r=n("./src/framework/source/SourceContext.tsx");n.d(t,"a",function(){return r.a}),n.d(t,"b",function(){return r.b}),n.d(t,"e",function(){return r.f}),n.d(t,"d",function(){return r.e}),n.d(t,"f",function(){return r.g}),n.d(t,"g",function(){return r.h}),n.d(t,"c",function(){return r.d})},"./src/framework/style/components/ThemeContext.tsx":function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n("./node_modules/react/index.js"),o=n("./src/styles/theme.ts"),i=r.createContext(o.a)},"./src/framework/style/components/ThemeProvider.tsx":function(e,t,n){"use strict";var r=n("./node_modules/react/index.js"),o=n("./src/framework/style/components/ThemeContext.tsx");t.a=function(e){var t=e.theme,n=e.children;return r.createElement(o.a.Provider,{value:t},n)}},"./src/framework/style/components/WithCx.tsx":function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n("./src/framework/style/index.ts");function o(e){return(0,e.children)(Object(r.useCx)())}},"./src/framework/style/components/WithKeyframes.tsx":function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n("./src/framework/style/index.ts");function o(e){var t=e.children,n=e.keyframes;return t(Object(r.useKeyframes)(n))}},"./src/framework/style/components/WithTheme.ts":function(e,t,n){"use strict";var r=n("./src/framework/style/components/ThemeContext.tsx").a.Consumer;t.a=r},"./src/framework/style/flow/index.ts":function(e,t){},"./src/framework/style/index.ts":function(e,t,n){"use strict";var r=n("./src/framework/style/useCx.ts");n.d(t,"useCx",function(){return r.a});var o=n("./src/framework/style/useKeyframes.ts");n.d(t,"useKeyframes",function(){return o.a});var i=n("./src/framework/style/useTheme.tsx");n.d(t,"useTheme",function(){return i.a});n("./src/framework/style/components/ThemeContext.tsx");var a=n("./src/framework/style/components/ThemeProvider.tsx");n.d(t,"ThemeProvider",function(){return a.a});var c=n("./src/framework/style/components/WithCx.tsx");n.d(t,"WithCx",function(){return c.a});var s=n("./src/framework/style/components/WithKeyframes.tsx");n.d(t,"WithKeyframes",function(){return s.a});var l=n("./src/framework/style/components/WithTheme.ts");n.d(t,"WithTheme",function(){return l.a});n("./src/framework/style/flow/index.ts")},"./src/framework/style/useCx.ts":function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n("./node_modules/@babel/runtime/helpers/toConsumableArray.js"),o=n.n(r),i=n("./node_modules/lodash/flattenDeep.js"),a=n.n(i),c=n("./node_modules/fela/es/index.js"),s=n("./src/components/style/useRenderer.tsx"),l=n("./src/framework/style/index.ts"),u=function(){var e=Object(l.useTheme)(),t=Object(s.a)();return function(n){var r=a()([n]).filter(Boolean).map(function(e){return"function"==typeof e?e:function(){return e}}),i=c.a.apply(void 0,o()(r));return t.renderRule(i,e)}}},"./src/framework/style/useKeyframes.ts":function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n("./node_modules/lodash/mapValues.js"),o=n.n(r),i=n("./src/components/style/useRenderer.tsx"),a=n("./src/framework/style/index.ts");function c(e){var t=Object(a.useTheme)(),n=Object(i.a)();return o()(e,function(e){var r="function"==typeof e?e:function(){return e};return n.renderKeyframe(r,t)})}},"./src/framework/style/useTheme.tsx":function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n("./node_modules/react/index.js"),o=n("./src/framework/style/components/ThemeContext.tsx"),i=function(){return r.useContext(o.a)}},"./src/framework/track/IntersectionObserver.tsx":function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n("./node_modules/@babel/runtime/helpers/toConsumableArray.js"),o=n.n(r),i=n("./node_modules/react/index.js"),a=function(e,t){var n=e.onIntersect,r=e.root,a=e.disconnect,c=e.target,s=e.threshold,l=e.rootMargin;i.useEffect(function(){if((!a||!a())&&c.current){var e={root:r?r.current:null,rootMargin:l,threshold:s},t=new IntersectionObserver(function(e){n(e[0])},e);return t.observe(c.current),function(){t.unobserve(c.current)}}},[].concat(o()(t),[r,s,l]))}},"./src/framework/track/PresentationTracker.tsx":function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),o=n.n(r),i=n("./node_modules/react/index.js"),a=n("./src/framework/track/IntersectionObserver.tsx"),c=function(e){var t=e.onPresentedFn,n=i.useState(!1),r=o()(n,2),c=r[0],s=r[1],l=i.useRef(null),u=i.useCallback(function(e){!c&&e.isIntersecting&&(s(!0),t())},[t,c]);return Object(a.a)({onIntersect:u,target:l,disconnect:function(){return c},threshold:.25},[c,u]),l}},"./src/framework/track/UpsellPresentationTracker.tsx":function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n("./node_modules/react/index.js"),o=n("./src/framework/source/index.ts"),i=n("./src/framework/reporter/ReporterContext.tsx"),a=n("./src/framework/track/PresentationTracker.tsx");function c(e){if(!function(e){if(!e)return!1;if(e.name&&"upgrade_membership"!==e.name)throw new Error("Unstandardized upsell source, source_name: ".concat(e.name));if(!e.dimension)throw new Error("Upsell source without source location.");return!0}(e))return{};var t={};return e&&(t.dimension=e.dimension,t.locationId=e.dimension),t}function s(e){var t=e.children,n=Object(i.b)(),s=c(Object(o.e)()),l=Object(a.a)({onPresentedFn:function(){n.event("upsell.viewed",s)}});return r.createElement("div",{ref:l},t)}},"./src/framework/track/index.ts":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),o=n.n(r),i=n("./node_modules/@babel/runtime/helpers/classCallCheck.js"),a=n.n(i),c=n("./node_modules/@babel/runtime/helpers/createClass.js"),s=n.n(c),l=n("./node_modules/lodash/throttle.js"),u=n.n(l),d=n("./node_modules/lodash/debounce.js"),m=n.n(d),f=n("./node_modules/exenv/index.js"),p=n.n(f),g=n("./node_modules/mitt/dist/mitt.es.js"),h=100,b=function(){function e(){a()(this,e)}return s()(e,[{key:"on",value:function(){}},{key:"off",value:function(){}}]),e}(),v=function(){function e(){var t=this;a()(this,e),o()(this,"_emitter",void 0),o()(this,"_onScrollEnd",void 0),o()(this,"_onScrollThrottled",void 0),o()(this,"_onResizeThrottled",void 0),o()(this,"_lastKnownPageYOffset",void 0),this._emitter=new g.a,this._onScrollEnd=m()(function(){t._emitter.emit("scroll_end")},h),this._onScrollThrottled=u()(function(){t._emitter.emit("scroll_throttled")},h),this._onResizeThrottled=u()(function(){t._emitter.emit("resize_throttled")},h),window.addEventListener("scroll",this._onScroll.bind(this)),window.addEventListener("resize",this._onResize.bind(this),{passive:!0})}return s()(e,[{key:"on",value:function(e,t){this._emitter.on(e,t)}},{key:"off",value:function(e,t){this._emitter.off(e,t)}},{key:"_onScroll",value:function(){this._emitter.emit("scroll"),this._onScrollThrottled(),this._onScrollEnd(),"number"==typeof this._lastKnownPageYOffset&&(this._lastKnownPageYOffset>window.pageYOffset?this._emitter.emit("scroll_up"):this._emitter.emit("scroll_down")),this._lastKnownPageYOffset=window.pageYOffset}},{key:"_onResize",value:function(){this._emitter.emit("resize"),this._onResizeThrottled()}}]),e}(),y=p.a.canUseDOM?new v:new b,x=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),w=n.n(x),E=n("./node_modules/react/index.js"),O=n("./node_modules/graphql-tag/src/index.js"),j=n.n(O),_=n("./src/framework/reporter/ReporterContext.tsx"),S=n("./src/framework/source/index.ts"),k=n("./src/util/dom.ts");function P(){var e=w()(["\n  fragment PostScrollTracker_post on Post {\n    id\n    collection {\n      id\n    }\n    sequence {\n      sequenceId\n    }\n  }\n"]);return P=function(){return e},e}var C=1e3;function I(e,t){var n=Object(_.b)(),r=Object(S.f)(),o=null,i=null,a=E.useCallback(u()(function(){if(e.current){var a=Object(k.a)(e.current);if(Object(k.g)(a)){var c=Date.now(),s=Object(k.d)(a),l=Object(k.c)(),u=Object(k.e)(),d=Math.round(s.top),m=Math.round(s.top+s.height),f=l.top,p=l.top+u.height,g=l.height;n.event("post.streamScrolled",{postIds:[t.id],collectionIds:[t.collection?t.collection.id:""],sequenceIds:[t.sequence?t.sequence.sequenceId:""],sources:[r],tops:[d],bottoms:[m],areFullPosts:[!0],loggedAt:c,timeDiff:null!==i?Math.round(c-i):0,scrollTop:f,scrollBottom:p,scrollableHeight:g,viewStartedAt:o}),i=c}}},C),[t]);E.useEffect(function(){return o=Date.now(),a(),y.on("scroll_end",a),function(){y.off("scroll_end",a)}},[a])}var L=j()(P()),A=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),T=n.n(A),N=n("./src/components/post/helpers/loggedOutHistory.ts"),R=n("./src/framework/reporter/index.ts");function U(){var e=w()(["\n  fragment PostReadTracker_post on Post {\n    id\n    collection {\n      slug\n    }\n    sequence {\n      sequenceId\n    }\n  }\n"]);return U=function(){return e},e}var D=100;function M(e,t,n){var r=Object(R.c)(),o=E.useState(!1),i=T()(o,2),a=i[0],c=i[1];E.useEffect(function(){if(!a){var o=function(){if(t.current&&!a){var o=Object(k.a)(t.current),i=Object(k.d)(o),s=i.top+i.height,l=Object(k.d)(Object(k.e)());l.top+l.height>=s-D&&(c(!0),r.event("post.clientRead",{postId:n.id,collectionSlug:n.collection?n.collection.slug:"",sequenceId:n.sequence?n.sequence.sequenceId:""}),e||Object(N.a)(n.id))}};return y.on("scroll_end",o),function(){y.off("scroll_end",o)}}},[a,n])}var H=j()(U()),B=n("./src/framework/track/IntersectionObserver.tsx"),F=n("./src/framework/style/index.ts"),z=n("./src/framework/track/PresentationTracker.tsx");function q(){var e=w()(["\n  fragment PostPresentationTracker_post on Post {\n    id\n    visibility\n    previewContent {\n      isFullContent\n    }\n    collection {\n      id\n    }\n  }\n"]);return q=function(){return e},e}var V={width:"100%",height:"100%"},W=0,G=1,Y=2;function K(e){var t=e.post,n=e.presentationContext,r=e.suppressEvents,o=e.children,i=Object(F.useCx)(),a=Object(_.b)(),c=Object(S.d)(),s=E.useCallback(function(){if(t&&!r){var e,o=t.visibility,i=t.previewContent,s=t.collection,l=i&&i.isFullContent;switch(o){case"PUBLIC":e=W;break;case"UNLISTED":e=G;break;case"LOCKED":e=Y}a.event("post.clientPresented",{postId:t.id,source:c,collectionId:s?s.id:null,isFullPost:l,postVisibility:e,context:"POST_PREVIEW"!==n?n.toLowerCase():null})}},[t,r,n]),l=Object(z.a)({onPresentedFn:s});return E.createElement("div",{className:i(V),ref:l},o)}var X=j()(q());n.d(t,"a",function(){return y}),n.d(t,"h",function(){return I}),n.d(t,"e",function(){return L}),n.d(t,"g",function(){return M}),n.d(t,"d",function(){return H}),n.d(t,"f",function(){return B.a}),n.d(t,"b",function(){return K}),n.d(t,"c",function(){return X})},"./src/index.tsx":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/react/index.js"),o=n("./node_modules/react-helmet-async/lib/index.module.js"),i=n("./node_modules/react-loadable/lib/index.js"),a=n.n(i),c=n("./node_modules/react-redux/es/index.js"),s=n("./node_modules/react-router-dom/esm/react-router-dom.js"),l=n("./node_modules/@sentry/browser/esm/sdk.js"),u=n("./node_modules/@sentry/minimal/esm/index.js"),d=n("./node_modules/@hot-loader/react-dom/index.js"),m=n.n(d),f=n("./node_modules/@babel/runtime/regenerator/index.js"),p=n.n(f),g=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),h=n.n(g),b=n("./node_modules/@babel/runtime/helpers/classCallCheck.js"),v=n.n(b),y=n("./node_modules/@babel/runtime/helpers/createClass.js"),x=n.n(y),w=n("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"),E=n.n(w),O=n("./node_modules/@babel/runtime/helpers/getPrototypeOf.js"),j=n.n(O),_=n("./node_modules/@babel/runtime/helpers/inherits.js"),S=n.n(_),k=n("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"),P=n.n(k),C=n("./node_modules/react-router/esm/react-router.js"),I=n("./node_modules/react-hot-loader/root.js"),L=n("./src/components/debug/GoogleAnalytics.tsx"),A=n("./src/components/session/RequireFlag.tsx"),T=a()({loader:function(){return n.e(8).then(n.bind(null,"./src/components/debug/DebugInfo.tsx"))},modules:["src/components/debug/DebugInfo"],webpack:function(){return["./src/components/debug/DebugInfo.tsx"]},loading:function(){return null}});function N(){return r.createElement(A.a,{name:"trace_ui"},r.createElement(T,null))}var R=n("./src/components/session/WithFlag.tsx"),U=n("./src/components/session/WithViewer.tsx"),D=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),M=n.n(D),H=n("./src/framework/style/index.ts"),B=n("./src/styles/breakpoints.ts"),F=n("./src/styles/newBreakpoints.ts"),z=function(e){var t;return t={},M()(t,B.xl(e),{display:"none"}),M()(t,B.lg(e),{display:"none"}),M()(t,B.md(e),{display:"none"}),M()(t,B.sm(e),{display:"none"}),M()(t,B.xs(e),{display:"none"}),M()(t,F.xl(e),{display:"none"}),M()(t,F.lg(e),{display:"none"}),M()(t,F.md(e),{display:"none"}),M()(t,F.sm(e),{display:"none"}),M()(t,F.xs(e),{display:"none"}),t};function q(){var e=Object(H.useCx)();return r.createElement("div",{className:e(z)})}var V=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),W=n.n(V),G=n("./node_modules/graphql-tag/src/index.js"),Y=n.n(G),K=n("./node_modules/@apollo/react-components/lib/react-components.esm.js"),X=n("./src/components/navigation/Redirect.tsx"),$=n("./src/components/susi/susi-modal/SusiPanel.tsx"),Q=n("./src/components/susi/helpers/index.ts"),J=n("./src/framework/design-system/components/index.ts"),Z=n("./src/framework/design-system/type/index.ts"),ee=n("./src/framework/source/index.ts"),te=n("./src/styles/zIndex.ts"),ne=n("./src/util/navigation.ts"),re=n("./src/util/routes.ts"),oe=Object(c.c)(function(e){return{authDomain:e.config.authDomain,currentLocation:e.navigation.currentLocation,isCustomDomain:e.client.isCustomDomain,productName:e.config.productName}})(function(e){var t=e.authDomain,n=e.currentLocation,o=e.idToken,i=e.isCustomDomain,a=e.onClose,c=void 0===a?function(){}:a,s=e.openSignIn,l=e.productName,u=e.signInHref,d={state:["",Object(Q.a)(n,Object(ee.d)(),i?"google_one_tap_cd":"google_one_tap"),"register"].join("|")},m=Object(re.N)(t),f=Object(ne.a)(m,d);return f="".concat(f,"#id_token=").concat(o),r.createElement(J.b,{border:"BASE_LIGHT",backgroundColor:"BACKGROUND",borderRadius:"4px",height:"183px",padding:"12px 26px 12px 16px",position:"fixed",top:"34px",right:"22px",width:"378px",zIndex:te.a.floating,sm:{top:"initial",bottom:"0px",right:"initial",left:"0px",width:"100%"}},r.createElement(J.b,{display:"flex",justifyContent:"space-between",marginRight:"-16px"},r.createElement(Z.b,{scale:"S"},"Continue to ",l),r.createElement(J.g,{isPositionAbsolute:!1,onClick:c,size:"LARGE"})),r.createElement(J.b,{marginTop:"15px",display:"flex",alignItems:"center",justifyContent:"flex-start"},r.createElement(J.b,{marginRight:"12px"},r.createElement(J.c,{buttonStyle:"STRONG",href:f},"Sign up")),r.createElement(Z.a,{scale:"M"},"Already have an account?"," ",r.createElement(J.b,{display:"inline",marginLeft:"6px"},r.createElement(J.u,{href:u,linkStyle:"OBVIOUS",onClick:function(e){e.preventDefault(),s()}},"Sign in")))),r.createElement(J.b,{marginTop:"16px"},Object($.b)("Sign Up",l)))}),ie=n("./src/framework/reporter/index.ts"),ae=n("./src/routes/getLiteRouteForPath.ts"),ce=n("./src/screens/ErrorScreen.tsx"),se=n("./src/screens/helpers/visits.ts"),le=n("./src/store/actions/navigation.ts"),ue=n("./src/util/referrers.ts"),de=n("./src/util/hooks/useScript.tsx"),me=n("./src/util/constants.ts");function fe(){var e=W()(["\n  query EmailAvailability($email: String) {\n    emailAvailability(email: $email)\n  }\n"]);return fe=function(){return e},e}var pe="https://smartlock.google.com/client",ge=function(e){return{supportedAuthMethods:["https://accounts.google.com"],supportedIdTokenProviders:[{uri:"https://accounts.google.com",clientId:e}]}},he=new Set(["lo-homepage","post","profile","sequence-library","sequence-post"]),be=5*me.c;function ve(e){var t=e.authGoogleClientId,n=e.setCredential,r=e.verifyEmail;return window.onGoogleYoloLoad=function(e){return window.onGoogleYoloHide=e.cancelLastOperation,e.setTimeouts(be),e.hint(ge(t)).then(function(e){n(e),r()}).catch(function(e){switch(e.type){case"userCanceled":Object(se.h)();break;case"noCredentialsAvailable":case"unsupportedBrowser":case"requestFailed":case"operationCanceled":break;default:throw new Error("Google One-tap hint error: ".concat(e.type))}})},Object(de.a)(pe),null}var ye=Y()(fe()),xe=Object(c.c)(function(e){var t=e.client.isCustomDomain,n=e.config,r=n.authDomain,o=n.authGoogleClientId,i=e.navigation,a=i.currentLocation,c=i.hideGoogleOneTap;return{authDomain:r,authGoogleClientId:o,currentLocation:a,referrer:i.referrer,hideGoogleOneTap:c,isCustomDomain:t}})(function(e){var t=e.authDomain,n=e.authGoogleClientId,o=e.currentLocation,i=e.initialPageLoaded,a=e.isLoggedIn,s=e.hideGoogleOneTap,l=e.referrer,u=e.isCustomDomain,d=Object(c.d)(),m=Object(ie.c)(),f=r.useState(!1),p=h()(f,2),g=p[0],b=p[1],v=r.useState("SHOW_GOOGLE_ONE_TAP"),y=h()(v,2),x=y[0],w=y[1],E=r.useState({id:"",idToken:""}),O=h()(E,2),j=O[0],_=O[1],S=Object(H.useTheme)();if(r.useEffect(function(){var e,t;a||(t=Object(se.c)())&&t>Date.now()-me.d||u||Object(ue.c)(l)&&window.innerWidth<S.breakpoints.md||!(e=Object(ae.a)(window.location.pathname))||!he.has(e.name)||b(!0)},[]),r.useEffect(function(){s&&g&&i&&window&&window.onGoogleYoloHide&&window.onGoogleYoloHide()},[s,g,i]),r.useEffect(function(){g&&!s&&"SHOW_GOOGLE_ONE_TAP"===x&&m.event("susi.viewed",{entryPoint:"google_one_tap",operation:"connect"})},[x,g,s]),!g||s&&"SHOW_SIGN_IN"!==x)return null;switch(x){case"SHOW_GOOGLE_ONE_TAP":return r.createElement(A.a,{name:"enable_google_one_tap"},r.createElement(ve,{authGoogleClientId:n,setCredential:_,verifyEmail:function(){return w("VERIFY_EMAIL")}}));case"VERIFY_EMAIL":return r.createElement(K.b,{query:ye,variables:{email:j.id}},function(e){var t=e.loading,n=e.error,o=e.data,i=(o=void 0===o?{}:o).emailAvailability;return t?null:n?r.createElement(ce.a,{error:n}):(w(i?"CONFIRM_SIGNUP":"SUCCESSFUL_SIGNIN"),null)});case"CONFIRM_SIGNUP":return r.createElement(ee.b,{source:{susiEntry:"google_one_tap"}},r.createElement(oe,{idToken:j.idToken,onClose:function(){return w("")},openSignIn:function(){w("SHOW_SIGN_IN")},signInHref:Object(re.pb)(t,o)}));case"SUCCESSFUL_SIGNIN":var k={state:["",Object(Q.a)(o,Object(ee.c)({susiEntry:"google_one_tap"}),u?"google_one_tap_cd":"google_one_tap")].join("|")},P=Object(re.N)(t),C=Object(ne.a)(P,k);return C="".concat(C,"|#id_token=").concat(j.idToken),r.createElement(X.a,{to:C});case"SHOW_SIGN_IN":return d(Object(le.o)({step:"SIGNIN_OPTIONS",operation:"login",susiEntry:"google_one_tap"})),null;default:return null}}),we=n("./src/components/susi/susi-modal/SusiModal.tsx"),Ee=n("./src/components/branch-banner/helpers/index.ts"),Oe=n("./src/store/actions/branch.ts"),je=function(e){var t=e.initialPageLoaded,n=Object(c.e)(function(e){return e.config}),i=n.branchKey,a=n.isAmp,s=Object(c.e)(function(e){return e.navigation}),l=s.showBranchBanner,u=s.hasRenderedBranchBanner,d=s.branchData,m=Object(c.e)(function(e){return e.client}).isBot,f=Object(c.d)(),p=Object(C.h)();return r.useEffect(function(){l&&Object(Ee.d)()},[p]),r.useEffect(function(){l&&Object(Ee.e)(function(){},d||{})},[d]),r.useEffect(function(){t&&!u&&f(Object(Oe.i)(!0))}),m||a?null:t&&u&&r.createElement(A.a,{name:"enable_branch_io"},r.createElement(R.a,{name:"dont_track_user"},function(e){return r.createElement(o.a,null,r.createElement("script",{type:"text/javascript"},function(e){var t=e.branchKey,n=e.dontTrackUser,r=String(n);return'\n(function(b,r,a,n,c,h,_,s,d,k){if(!b[n]||!b[n]._q){for(;s<_.length;)c(h,_[s++]);d=r.createElement(a);d.async=1;d.src="https://cdn.branch.io/branch-latest.min.js";k=r.getElementsByTagName(a)[0];k.parentNode.insertBefore(d,k);b[n]=h}})(window,document,"script","branch",function(b,r){b[r]=function(){b._q.push([r,arguments])}},{_q:[],_v:1},"addListener applyCode autoAppIndex banner closeBanner closeJourney creditHistory credits data deepview deepviewCta first getCode init link logout redeem referrals removeListener sendSMS setBranchViewData setIdentity track validateCode trackCommerceEvent logEvent".split(" "), 0);\nbranch.init(\''.concat(t,"', {metadata: {}, 'no_journeys': true, 'disable_exit_animation': true, 'disable_entry_animation': true, 'tracking_disabled': ").concat(r,"}, function(err, data) {});\n").trim()}({branchKey:i,dontTrackUser:e})))}))},_e=n("./src/framework/design-system/components/util/VisibilityController.tsx"),Se=function(e){function t(e){var n;v()(this,t),n=E()(this,j()(t).call(this,e));var r=e.enqueuedToast;return r&&n.props.dispatch(Object(le.j)()),n.state={currentToast:r||void 0,toastCount:1},n}return S()(t,e),x()(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.enqueuedToast;t&&(this.props.dispatch(Object(le.j)()),this.setState(function(e){return{currentToast:t||void 0,toastCount:e.toastCount+1}}))}},{key:"render",value:function(){var e=this.state,t=e.currentToast,n=e.toastCount;return t?[r.createElement(_e.a,{key:n,initialVisibility:!0},function(e){var n=e.isVisible,o=(e.show,e.hide);return r.createElement(J.H,{isVisible:n,hide:o,duration:"FOREVER"===t.duration?void 0:t.duration,toastStyle:t.toastStyle},r.createElement(J.d,{strong:!0},t.message))})]:null}}]),t}(r.Component),ke=Object(c.c)(function(e){return{enqueuedToast:e.navigation.enqueuedToast}})(Se),Pe=n("./src/framework/reporter/performance.tsx"),Ce=Object(c.c)(function(e){return{favicon:e.config.favicon}})(function(e){var t;switch(e.favicon){case"development":t="https://cdn-static-1.medium.com/_/fp/icons/favicon-rebrand-dev.54LRTCXUTDayvTFg89Y4Jg.ico";break;case"staging":t="https://cdn-static-1.medium.com/_/fp/icons/favicon-rebrand-hatch.32p0KZZCd4GflMcncXTXGA.ico";break;case"production":default:t="https://cdn-static-1.medium.com/_/fp/icons/favicon-rebrand-medium.3Y6xpZ-0FSdWDnPM3hSBIA.ico"}return r.createElement(o.a,null,r.createElement("link",{rel:"icon",href:t}))}),Ie=n("./src/util/miroImage.ts"),Le=Object(c.c)(function(e){return{faviconImageId:e.metadata.faviconImageId}})(function(e){var t=e.faviconImageId;if(!t)return r.createElement(Ce,null);var n=Object(Ie.d)({miroId:t,width:128,height:128,strategy:Ie.a.Crop});return t?r.createElement(o.a,null,r.createElement("link",{rel:"icon",href:n})):r.createElement(Ce,null)}),Ae=function(e){var t=e.productName;return r.createElement(r.Fragment,null,r.createElement(o.a,{htmlAttributes:{lang:"en"}},r.createElement("meta",{charset:"utf-8"}),r.createElement("meta",{name:"viewport",content:"width=device-width,minimum-scale=1,initial-scale=1"}),r.createElement("title",null,t),r.createElement("meta",{name:"theme-color",content:"#000000"}),r.createElement("meta",{name:"twitter:app:name:iphone",content:"Medium"}),r.createElement("meta",{name:"twitter:app:id:iphone",content:"828256236"}),r.createElement("meta",{property:"al:ios:app_name",content:"Medium"}),r.createElement("meta",{property:"al:ios:app_store_id",content:"828256236"}),r.createElement("meta",{property:"al:android:package",content:"com.medium.reader"}),r.createElement("meta",{property:"al:android:app_name",content:"Medium"}),r.createElement("meta",{property:"fb:app_id",content:"542599432471018"}),r.createElement("meta",{property:"og:site_name",content:"Medium"}),r.createElement("link",{rel:"publisher",href:"https://plus.google.com/103654360130207659246"}),r.createElement("link",{rel:"search",type:"application/opensearchdescription+xml",title:"Medium",href:"/osd.xml"}),'\x3c!--[if lt IE 9]><script charset="UTF-8" src="https://cdn-static-1.medium.com/_/fp/js/shiv.RI2ePTZ5gFmMgLzG5bEVAA.js"><\/script><![endif]--\x3e',r.createElement("link",{rel:"apple-touch-icon",sizes:"152x152",href:"https://cdn-images-1.medium.com/fit/c/152/152/1*8I-HPL0bfoIzGied-dzOvA.png"}),r.createElement("link",{rel:"apple-touch-icon",sizes:"120x120",href:"https://cdn-images-1.medium.com/fit/c/120/120/1*8I-HPL0bfoIzGied-dzOvA.png"}),r.createElement("link",{rel:"apple-touch-icon",sizes:"76x76",href:"https://cdn-images-1.medium.com/fit/c/76/76/1*8I-HPL0bfoIzGied-dzOvA.png"}),r.createElement("link",{rel:"apple-touch-icon",sizes:"60x60",href:"https://cdn-images-1.medium.com/fit/c/60/60/1*8I-HPL0bfoIzGied-dzOvA.png"}),r.createElement("link",{rel:"mask-icon",href:"https://cdn-static-1.medium.com/_/fp/icons/monogram-mask.KPLCSFEZviQN0jQ7veN2RQ.svg",color:"#171717"})),r.createElement(Le,null))},Te=n("./src/util/glyph.ts"),Ne=function(e){function t(){return v()(this,t),E()(this,j()(t).apply(this,arguments))}return S()(t,e),x()(t,[{key:"render",value:function(){var e=this;return r.createElement(R.a,{name:"glyph_font_set"},function(t){return r.createElement(o.a,null,r.createElement("link",{id:"glyph_link",rel:"stylesheet",type:"text/css",href:Object(Te.a)({glyphFontSet:String(t),glyphUrl:e.props.glyphUrl,isAmp:e.props.isAmp})}))})}}]),t}(r.Component),Re=Object(c.c)(function(e){return{isAmp:e.config.isAmp}})(Ne);function Ue(){var e=Object(c.e)(function(e){return{currentLocation:e.navigation.currentLocation,referrer:e.navigation.referrer,referrerSource:e.navigation.referrerSource}}),t=e.currentLocation,n=e.referrer,o=e.referrerSource,i=Object(ie.c)();return r.useEffect(function(){i.event("client.navigate",{metadata:{},newPath:t||"",oldPath:n||"",source:o||""})},[t]),null}var De=n("./src/components/session/useFlag.tsx"),Me=n("./node_modules/lodash/entries.js"),He=n.n(Me),Be=n("./src/routes/index.ts"),Fe=n("./src/screens/LoadingScreen.tsx");function ze(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function qe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ze(n,!0).forEach(function(t){M()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ze(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var Ve={delay:300,timeout:2e4,loading:function(e){return e.error?r.createElement(ce.a,{error:e.error}):e.timedOut?r.createElement(ce.a,{error:new Error("Loadable Screen component has timed out")}):e.pastDelay?r.createElement(Fe.a,null):null}},We=function(e){return function(t,n){var o=t[e];return r.createElement(o,n)}},Ge={LoadableAMPPostHandler:a()(qe({},Ve,{loader:function(){return Promise.all([n.e(1),n.e(0),n.e(2),n.e(3),n.e(19)]).then(n.bind(null,"./src/handlers/AMPPostHandler.tsx"))},modules:["src/handlers/AMPPostHandler"],webpack:function(){return["./src/handlers/AMPPostHandler.tsx"]}})),LoadableBillingHistoryHandler:a()(qe({},Ve,{loader:function(){return n.e(26).then(n.bind(null,"./src/handlers/BillingHistoryHandler.tsx"))},modules:["src/handlers/BillingHistoryHandler"],webpack:function(){return["./src/handlers/BillingHistoryHandler.tsx"]}})),LoadableLOHomepageHandler:a()(qe({},Ve,{loader:function(){return n.e(13).then(n.bind(null,"./src/handlers/LOHomepageHandler.tsx"))},modules:["src/handlers/LOHomepageHandler"],webpack:function(){return["./src/handlers/LOHomepageHandler.tsx"]}})),LoadableNotAvailableHandler:a()(qe({},Ve,{loader:function(){return n.e(17).then(n.bind(null,"./src/handlers/NotAvailableHandler.tsx"))},modules:["src/handlers/NotAvailableHandler"],webpack:function(){return["./src/handlers/NotAvailableHandler.tsx"]}})),LoadablePostHandler:a()(qe({},Ve,{loader:function(){return Promise.all([n.e(1),n.e(0),n.e(2),n.e(3),n.e(18)]).then(n.bind(null,"./src/handlers/PostHandler.tsx"))},modules:["src/handlers/PostHandler"],webpack:function(){return["./src/handlers/PostHandler.tsx"]},render:We("PostHandler")})),LoadablePostSettingsHandler:a()(qe({},Ve,{loader:function(){return Promise.all([n.e(4),n.e(5),n.e(21)]).then(n.bind(null,"./src/handlers/PostSettingsHandler.tsx"))},modules:["src/handlers/PostSettingsHandler"],webpack:function(){return["./src/handlers/PostSettingsHandler.tsx"]},render:We("PostSettingsHandler")})),LoadableThemingHandler:a()(qe({},Ve,{loader:function(){return n.e(29).then(n.bind(null,"./src/handlers/ThemingHandler.tsx"))},modules:["src/handlers/ThemingHandler"],webpack:function(){return["./src/handlers/ThemingHandler.tsx"]},render:We("ThemingHandler")})),LoadableReadingListHandler:a()(qe({},Ve,{loader:function(){return n.e(23).then(n.bind(null,"./src/handlers/ReadingListHandler.tsx"))},modules:["src/handlers/ReadingListHandler"],webpack:function(){return["./src/handlers/ReadingListHandler.tsx"]}})),LoadableSequenceLibraryHandler:a()(qe({},Ve,{loader:function(){return Promise.all([n.e(1),n.e(0),n.e(2),n.e(6),n.e(24)]).then(n.bind(null,"./src/handlers/SequenceLibraryHandler.tsx"))},modules:["src/handlers/SequenceLibraryHandler"],webpack:function(){return["./src/handlers/SequenceLibraryHandler.tsx"]}})),LoadableSequencePostHandler:a()(qe({},Ve,{loader:function(){return Promise.all([n.e(1),n.e(0),n.e(2),n.e(5),n.e(25)]).then(n.bind(null,"./src/handlers/SequencePostHandler.tsx"))},modules:["src/handlers/SequencePostHandler"],webpack:function(){return["./src/handlers/SequencePostHandler.tsx"]},render:We("SequencePostHandler")})),LoadableSeriesHandler:a()(qe({},Ve,{loader:function(){return Promise.all([n.e(1),n.e(33),n.e(0),n.e(2),n.e(20)]).then(n.bind(null,"./src/handlers/SeriesHandler.tsx"))},modules:["src/handlers/SeriesHandler"],webpack:function(){return["./src/handlers/SeriesHandler.tsx"]}})),LoadableStatsPostHandler:a()(qe({},Ve,{loader:function(){return Promise.all([n.e(4),n.e(34),n.e(27)]).then(n.bind(null,"./src/handlers/StatsPostHandler.tsx"))},modules:["src/handlers/StatsPostHandler"],webpack:function(){return["./src/handlers/StatsPostHandler.tsx"]}})),LoadableYourStoriesHandler:a()(qe({},Ve,{loader:function(){return Promise.all([n.e(2),n.e(7),n.e(28)]).then(n.bind(null,"./src/handlers/YourStoriesHandler.tsx"))},modules:["src/handlers/YourStoriesHandler"],webpack:function(){return["./src/handlers/YourStoriesHandler.tsx"]}})),LoadableTopicHandler:a()(qe({},Ve,{loader:function(){return Promise.all([n.e(2),n.e(7),n.e(30)]).then(n.bind(null,"./src/handlers/TopicHandler.tsx"))},modules:["src/handlers/TopicHandler"],webpack:function(){return["./src/handlers/TopicHandler.tsx"]}})),LoadableTickLandingPageHandler:a()(qe({},Ve,{loader:function(){return Promise.all([n.e(3),n.e(15)]).then(n.bind(null,"./src/landing-pages/ticks/TickLandingPageHandler.tsx"))},modules:["src/landing-pages/ticks/TickLandingPageHandler"],webpack:function(){return["./src/landing-pages/ticks/TickLandingPageHandler.tsx"]}})),LoadableCollectionHomepageHandler:a()(qe({},Ve,{loader:function(){return Promise.all([n.e(1),n.e(4),n.e(0),n.e(3),n.e(12)]).then(n.bind(null,"./src/components/collection/CollectionHomepageHandler.tsx"))},modules:["src/components/collection/CollectionHomepageHandler"],webpack:function(){return["./src/components/collection/CollectionHomepageHandler.tsx"]}})),LoadablePackageBuilderHandler:a()(qe({},Ve,{loader:function(){return Promise.all([n.e(1),n.e(4),n.e(0),n.e(3),n.e(12)]).then(n.bind(null,"./src/components/collection/package/builder/PackageBuilderHandler.tsx"))},modules:["src/components/collection/package/builder/PackageBuilderHandler"],webpack:function(){return["./src/components/collection/package/builder/PackageBuilderHandler.tsx"]}})),LoadablePackageBuilderPubHandler:a()(qe({},Ve,{loader:function(){return Promise.all([n.e(1),n.e(4),n.e(0),n.e(3),n.e(12)]).then(n.bind(null,"./src/components/collection/package/builder/PackageBuilderPubHandler.tsx"))},modules:["src/components/collection/package/builder/PackageBuilderPubHandler"],webpack:function(){return["./src/components/collection/package/builder/PackageBuilderPubHandler.tsx"]}})),LoadablePackagePreviewHandler:a()(qe({},Ve,{loader:function(){return Promise.all([n.e(1),n.e(4),n.e(0),n.e(3),n.e(12)]).then(n.bind(null,"./src/components/collection/CollectionHomepagePreviewHandler.tsx"))},modules:["src/components/collection/CollectionHomepagePreviewHandler"],webpack:function(){return["./src/components/collection/CollectionHomepagePreviewHandler.tsx"]}})),LoadableTrumplandLandingPageHandler:a()(qe({},Ve,{loader:function(){return Promise.all([n.e(1),n.e(0),n.e(3),n.e(14)]).then(n.bind(null,"./src/landing-pages/trumpland/TrumplandLandingPageHandler.tsx"))},modules:["src/landing-pages/trumpland/TrumplandLandingPageHandler"],webpack:function(){return["./src/landing-pages/trumpland/TrumplandLandingPageHandler.tsx"]}})),LoadableTributeLandingPageHandler:a()(qe({},Ve,{loader:function(){return Promise.all([n.e(1),n.e(0),n.e(3),n.e(16)]).then(n.bind(null,"./src/landing-pages/tribute/TributeLandingPageHandler.tsx"))},modules:["src/landing-pages/tribute/TributeLandingPageHandler"],webpack:function(){return["./src/landing-pages/tribute/TributeLandingPageHandler.tsx"]}})),LoadableUserProfileOverviewHandler:a()(qe({},Ve,{loader:function(){return Promise.all([n.e(1),n.e(0),n.e(2),n.e(6),n.e(22)]).then(n.bind(null,"./src/handlers/userProfileHandlers.tsx"))},modules:["src/handlers/userProfileHandlers"],webpack:function(){return["./src/handlers/userProfileHandlers.tsx"]},render:We("UserProfileOverviewHandler")})),LoadableUserProfileLatestHandler:a()(qe({},Ve,{loader:function(){return Promise.all([n.e(1),n.e(0),n.e(2),n.e(6),n.e(22)]).then(n.bind(null,"./src/handlers/userProfileHandlers.tsx"))},modules:["src/handlers/userProfileHandlers"],webpack:function(){return["./src/handlers/userProfileHandlers.tsx"]},render:We("UserProfileLatestHandler")})),LoadableUserProfileSeriesHandler:a()(qe({},Ve,{loader:function(){return Promise.all([n.e(1),n.e(0),n.e(2),n.e(6),n.e(22)]).then(n.bind(null,"./src/handlers/userProfileHandlers.tsx"))},modules:["src/handlers/userProfileHandlers"],webpack:function(){return["./src/handlers/userProfileHandlers.tsx"]},render:We("UserProfileSeriesHandler")})),LoadableUserProfileClapsHandler:a()(qe({},Ve,{loader:function(){return Promise.all([n.e(1),n.e(0),n.e(2),n.e(6),n.e(22)]).then(n.bind(null,"./src/handlers/userProfileHandlers.tsx"))},modules:["src/handlers/userProfileHandlers"],webpack:function(){return["./src/handlers/userProfileHandlers.tsx"]},render:We("UserProfileClapsHandler")})),LoadableUserProfileHighlightsHandler:a()(qe({},Ve,{loader:function(){return Promise.all([n.e(1),n.e(0),n.e(2),n.e(6),n.e(22)]).then(n.bind(null,"./src/handlers/userProfileHandlers.tsx"))},modules:["src/handlers/userProfileHandlers"],webpack:function(){return["./src/handlers/userProfileHandlers.tsx"]},render:We("UserProfileHighlightsHandler")})),LoadableUserProfileResponsesHandler:a()(qe({},Ve,{loader:function(){return Promise.all([n.e(1),n.e(0),n.e(2),n.e(6),n.e(22)]).then(n.bind(null,"./src/handlers/userProfileHandlers.tsx"))},modules:["src/handlers/userProfileHandlers"],webpack:function(){return["./src/handlers/userProfileHandlers.tsx"]},render:We("UserProfileResponsesHandler")}))},Ye={"amp-post":Ge.LoadableAMPPostHandler,"amp-post/custom-domain":Ge.LoadableAMPPostHandler,"billing-history":Ge.LoadableBillingHistoryHandler,"collection-homepage":Ge.LoadableCollectionHomepageHandler,"reading-list":Ge.LoadableReadingListHandler,"logged-out-homepage":Ge.LoadableLOHomepageHandler,"not-available":Ge.LoadableNotAvailableHandler,"post-by-id":Ge.LoadablePostHandler,"post-by-slug":Ge.LoadablePostHandler,"post-by-id/custom-domain":Ge.LoadablePostHandler,"post-by-slug/custom-domain":Ge.LoadablePostHandler,"post-by-id-under-collection":Ge.LoadablePostHandler,"post-by-id-under-user":Ge.LoadablePostHandler,"post-by-slug-under-collection":Ge.LoadablePostHandler,"post-by-slug-under-user":Ge.LoadablePostHandler,"post-settings":Ge.LoadablePostSettingsHandler,theming:Ge.LoadableThemingHandler,profile:Ge.LoadableUserProfileOverviewHandler,"profile/claps":Ge.LoadableUserProfileClapsHandler,"profile/highlights":Ge.LoadableUserProfileHighlightsHandler,"profile/latest":Ge.LoadableUserProfileLatestHandler,"profile/responses":Ge.LoadableUserProfileResponsesHandler,"profile/series":Ge.LoadableUserProfileSeriesHandler,"sequence-library":Ge.LoadableSequenceLibraryHandler,"sequence-post":Ge.LoadableSequencePostHandler,series:Ge.LoadableSeriesHandler,"stats-post":Ge.LoadableStatsPostHandler,stories:Ge.LoadableYourStoriesHandler,"landing-pages/ticks":Ge.LoadableTickLandingPageHandler,"landing-pages/tribute":Ge.LoadableTributeLandingPageHandler,"landing-pages/trumpland":Ge.LoadableTrumplandLandingPageHandler,"package-builder":Ge.LoadablePackageBuilderHandler,"package-builder-pub":Ge.LoadablePackageBuilderPubHandler,"package-preview":Ge.LoadablePackagePreviewHandler,topic:Ge.LoadableTopicHandler},Ke=n("./node_modules/@babel/runtime/helpers/extends.js"),Xe=n.n(Ke),$e=n("./node_modules/@babel/runtime/helpers/objectWithoutProperties.js"),Qe=n.n($e),Je=n("./node_modules/lodash/isEqual.js"),Ze=n.n(Je),et=n("./node_modules/querystring-es3/index.js");function tt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function nt(e){return Array.isArray(e)?e[0]:e}var rt=function(e){var t=e.name,n=e.component,o=e.render,i=e.exact,a=void 0===i||i,s=Qe()(e,["name","component","render","exact"]),l=Object(c.d)();return r.createElement(C.b,Xe()({},s,{exact:a,render:function(e){var i;if(e.location){if((i=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tt(n,!0).forEach(function(t){M()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tt(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e.location)).hash&&l(Object(le.l)(e.location.hash)),i.search){var a=Object(et.parse)(i.search.slice(1));a.source&&l(Object(le.n)(nt(a.source))),a.redirectUrl&&l(Object(le.p)(nt(a.redirectUrl))),delete i.search}i.pathname.match(/.+\/$/)&&(i.pathname=i.pathname.replace(/\/$/,""))}if(e.staticContext)e.staticContext.route={name:t},i&&l(Object(le.m)(i.pathname));else{if(i&&!Ze()(e.location,i))return r.createElement(C.a,{to:i});l(Object(le.m)(e.location.pathname))}return n?r.createElement(n,e):o?o(e):null}}))},ot=n("./node_modules/@babel/runtime/helpers/typeof.js"),it=n.n(ot),at=n("./node_modules/@apollo/react-ssr/lib/react-ssr.esm.js"),ct=n("./node_modules/@apollo/react-hoc/lib/react-hoc.esm.js"),st=n("./src/components/style/RendererContext.tsx"),lt=n("./node_modules/fela-dom/es/index.js"),ut=function(e){function t(){return v()(this,t),E()(this,j()(t).apply(this,arguments))}return S()(t,e),x()(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.ssrMode,n=e.renderer;t||Object(lt.b)(n)}},{key:"render",value:function(){return r.createElement(st.a.Provider,{value:this.props.renderer},r.Children.only(this.props.children))}}]),t}(r.Component),dt=n("./src/components/style/BaseThemeProvider.tsx"),mt=n("./node_modules/redux/es/redux.js"),ft=n("./src/store/actions/multiVote.ts");function pt(e){var t=function(e,t){if("object"!==it()(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==it()(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===it()(t)?t:String(t)}function gt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ht(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gt(n,!0).forEach(function(t){M()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gt(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var bt={clapsPerPost:{}};function vt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ft.b:return ht({},e,{clapsPerPost:ht({},e.clapsPerPost,M()({},t.postId,{clapCount:t.clapCount,viewerClapCount:t.viewerClapCount,viewerHasClappedSinceFetch:t.viewerHasClappedSinceFetch}))});case ft.a:var n=e.clapsPerPost,r=t.postId;n[r];return{clapsPerPost:Qe()(n,[r].map(pt))};default:return e}}var yt=n("./src/store/actions/metadata.ts");function xt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var wt={faviconImageId:null};function Et(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case yt.a:return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xt(n,!0).forEach(function(t){M()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xt(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e,{faviconImageId:t.faviconImageId});default:return e}}var Ot=n("./src/store/actions/config.ts");function jt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var _t={nodeEnv:"production",version:"",productName:"",authDomain:"",authGoogleClientId:"",branchKey:"",favicon:"production",glyphUrl:"",lightStep:{name:"",host:"",token:"",appVersion:""},algolia:{appId:"",apiKeySearch:"",indexPrefix:"",host:""},isAmp:!1,publicUrl:"",googleAnalyticsCode:"",recaptchaKey:"",signInWallCustomDomainCollectionIds:[],mediumOwnedAndOperatedCollectionIds:[],tierOneDomains:[],sentry:{dsn:"",environment:"production"}},St=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_t,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ot.a:return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jt(n,!0).forEach(function(t){M()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jt(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e,{isAmp:t.isAmp});default:return e}},kt=n("./src/store/actions/debug.ts");function Pt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Ct(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pt(n,!0).forEach(function(t){M()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pt(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function It(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case kt.b:return Ct({},e,{performanceTraceUrl:t.performanceTraceUrl});case kt.a:return Ct({},e,{originalSpanCarrier:t.originalSpanCarrier});default:return e}}var Lt="POPULATE_SESSION";function At(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var Tt={user:{id:""},xsrf:""};function Nt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Lt:return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?At(n,!0).forEach(function(t){M()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):At(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e,{user:{id:t.userId},xsrf:t.xsrf});default:return e}}var Rt="INC_ITEM_COUNT",Ut="DEC_ITEM_COUNT",Dt="SET_ITEM_COUNT",Mt="SET_SENDING",Ht="ADD_TO_BACKUP",Bt="CLEAR_BACKUP",Ft="SET_TIMEOUT_ID";function zt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function qt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zt(n,!0).forEach(function(t){M()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zt(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Vt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{itemCount:0,sending:!1,timeout:null,backup:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Rt:return qt({},e,{itemCount:e.itemCount+1});case Ut:return qt({},e,{itemCount:e.itemCount-1});case Dt:return qt({},e,{itemCount:t.itemCount});case Mt:return qt({},e,{sending:t.sending});case Ht:var n=qt({},e.backup);return n[t.key]=t.value,qt({},e,{backup:n});case Bt:return qt({},e,{backup:{}});case Ft:return qt({},e,{timeout:t.timeout});default:return e}}var Wt=n("./src/store/actions/alternateUser.ts"),Gt=n("./src/store/actions/googleOneTap.ts");function Yt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Kt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Yt(n,!0).forEach(function(t){M()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yt(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var Xt={host:"",hostname:"",currentLocation:"",susiModal:{step:null,operation:"login"}};function $t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case le.d:return Kt({},e,{currentHash:t.hash});case le.e:var n=Object(ne.b)(e.host,t.path),r=e.currentLocation!==n;return Kt({},e,{currentLocation:r?n:e.currentLocation,referrer:r?e.currentLocation:e.referrer});case le.f:return Kt({},e,{referrerSource:t.referrerSource});case le.h:return Kt({},e,{unsafeRedirectUrl:t.unsafeRedirectUrl});case le.c:return Kt({},e,{enqueuedToast:{duration:t.duration,message:t.message,toastStyle:t.toastStyle}});case le.b:return Kt({},e,{enqueuedToast:null});case Oe.d:return Kt({},e,{branchData:t.data});case Oe.e:return Kt({},e,{showBranchBanner:!0});case Oe.b:return Kt({},e,{hasRenderedBranchBanner:t.hasRendered});case Oe.a:return Kt({},e,{showBranchBanner:!1});case Oe.c:return Kt({},e,{showBranchBanner:!0});case Wt.a:return Kt({},e,{hideAlternateUser:t.hideAlternateUser});case Gt.a:return Kt({},e,{hideGoogleOneTap:t.hideGoogleOneTap});case le.a:return Kt({},e,{postPublishedType:null});case le.g:return Kt({},e,{susiModal:t.susiModal});default:return e}}var Qt={isBot:!1,isEu:!1,isNativeMedium:!1,isCustomDomain:!1},Jt=function(){return arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qt},Zt=function(e){var t=mt.b({config:St,debug:It,session:Nt,stats:Vt,navigation:$t,client:Jt,multiVote:vt,metadata:Et}),n=mt.c("undefined"!=typeof window&&void 0!==window.__REDUX_DEVTOOLS_EXTENSION__?window.__REDUX_DEVTOOLS_EXTENSION__():function(e){return e});return mt.d(t,e,n)},en=n("./node_modules/@apollo/react-common/lib/react-common.esm.js"),tn=n("./node_modules/prop-types/index.js"),nn=n.n(tn),rn=function(e){function t(){return v()(this,t),E()(this,j()(t).apply(this,arguments))}return S()(t,e),x()(t,[{key:"getChildContext",value:function(){return{renderPromises:this.props.renderPromises}}},{key:"render",value:function(){return this.props.children}}]),t}(r.Component);M()(rn,"childContextTypes",{renderPromises:nn.a.object});var on=function(e){var t=e.children,n=e.client,o=Object(en.d)();return r.createElement(en.b,{client:n},r.createElement(o.Consumer,null,function(e){var n=e.renderPromises;return r.createElement(rn,{renderPromises:n},t)}))},an=n("./src/routes/RoutingContext.tsx"),cn=n("./src/screens/NotFoundScreen.tsx"),sn=function(){return r.createElement(rt,{name:"unknown",render:function(e){return r.createElement(cn.a,{loggingData:{reason:3,props:e}})}})},ln=function(e){var t=e.handler;e.service;return"string"==typeof t?Ge[t]||Ge["Loadable".concat(t)]:t};function un(e){var t=e.fallback,n=void 0===t?sn:t,o=e.location,i=Object(C.h)(),a=(o=o||i).pathname,c=Object(an.d)(a);if(!c)return r.createElement(n,null);var s=c.route,l=c.params,u=s.service,d=s.name,m=s.pathPattern,f=ln(s);if("lite"!==u||!f)return r.createElement(n,null);var p={params:l,path:m,url:a,isExact:!0};return r.createElement(rt,{name:d,component:f,computedMatch:p})}function dn(){void 0!==("undefined"==typeof window?"undefined":it()(window))&&window.scrollTo(0,0)}var mn=o.b;var fn=Object(ct.b)(function(e){var t=e.children,n=e.loading,o=e.client,i=Object(C.h)(),a=Object(ie.c)(),s=r.useContext(st.a),l=r.useContext(c.b).store,u=Object(an.e)(),d=Object(De.a)("enable_lite_path_matcher"),m=r.useState(i),f=h()(m,2),p=f[0],g=f[1],b=r.useRef(i),v=r.useRef(new Set([i.pathname]));return r.useEffect(function(){if(b.current=i,v.current.has(i.pathname))return dn(),void g(i);mn.canUseDOM=!1,Object(at.a)(r.createElement(C.d,{location:i,context:{}},r.createElement(on,{client:o},r.createElement(c.a,{store:Zt(l.getState())},r.createElement(mn,null,r.createElement(ut,{renderer:s},r.createElement(ie.b,{reporter:a},r.createElement(dt.b,null,r.createElement(an.a.Provider,{value:u},d?r.createElement(un,null):r.createElement(C.e,null,t)))))))))).then(function(){mn.canUseDOM=!0,v.current.add(i.pathname),i===b.current&&(dn(),g(i))})},[d,i]),r.createElement(r.Fragment,null,n&&i.pathname!==p.pathname?r.createElement(n,null):null,d?r.createElement(un,{location:p}):r.createElement(C.e,{location:p},t))});function pn(e){var t=e.customDomain,n=void 0!==t&&t,o=Object(Be.a)(n);return r.createElement(fn,{loading:J.v},He()(o).map(function(e){var t=h()(e,2),n=t[0],o=t[1],i=o.name,a=o.path,c=Ye[n];return c?r.createElement(rt,{key:n,name:i,exact:!0,path:a,component:c}):null}),r.createElement(rt,{name:"unknown",render:function(e){return r.createElement(cn.a,{loggingData:{reason:3,props:e}})}}))}function gn(e){var t=e.onCustomDomain,n=Object(De.a)("enable_lite_path_matcher")?r.createElement(fn,{loading:J.v}):r.createElement(pn,{customDomain:t});return r.createElement(r.Fragment,null,r.createElement(Ue,null),n)}var hn=n("./src/store/selectors/session.ts"),bn=n("./src/styles/font.ts"),vn=n("./src/util/performance.ts"),yn=function(){return r.createElement("script",null,"document.domain = document.domain;")},xn=n("./src/components/privacy/EuPrivacyBannerLoader.tsx");var wn=Object(c.c)()(function(e){var t=e.email,n=e.dispatch,o=e.isLoggedin&&!t;return r.useEffect(function(){o&&n(Object(le.k)({duration:"FOREVER",message:"",toastStyle:"VERIFY_EMAIL"}))},[]),null});function En(){return(En=P()(p.a.mark(function e(t,r,o,i,a,c){var s,l,u;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([n.e(35),n.e(31)]).then(n.bind(null,"./src/util/tracing.ts"));case 2:s=e.sent,l=s.init(t),u=s.extractSpan(l,r),s.instrumentAppPerformance(l,u,o,i,a,c);case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}var On=function(e){return{backgroundColor:e.backgroundColor}},jn=function(e){function t(){return v()(this,t),E()(this,j()(t).apply(this,arguments))}return S()(t,e),x()(t,[{key:"componentDidMount",value:function(){this.instrumentApp()}},{key:"instrumentApp",value:function(){if(this.props.perf&&!this.props.isBot){var e=Object(ae.a)(window.location.pathname,{isCustomDomain:this.props.isCustomDomain}),t={route:e?e.name:"unidentified",loggedIn:Object(hn.a)(this.props.userId)},n=window.performance&&window.performance.timing?{duration:new vn.a(window.performance.timing.navigationStart,Date.now())}:{};this.props.perf.reportClientReady(t,n),function(e,t,n,r,o,i){En.apply(this,arguments)}(this.props.lightStepConfig,this.props.originalSpanCarrier,this.props.dispatch,this.props.perf,this.props.userId,e)}}},{key:"render",value:function(){return r.createElement(_n,this.props)}}]),t}(r.Component),_n=function(e){var t=r.useState(!1),n=h()(t,2),o=n[0],i=n[1];return r.useEffect(function(){i(!0)},[]),r.createElement(dt.a,null,r.createElement(J.K,null,function(t){return r.createElement("div",{className:t([Object(bn.t)(),On])},r.createElement(Ae,{productName:e.productName}),r.createElement(ke,null),r.createElement(Re,{glyphUrl:e.glyphUrl}),r.createElement(q,null),!!e.susiModal&&r.createElement(we.a,null),!e.isAmp&&r.createElement(yn,null),r.createElement(U.b,null,function(){return null}),r.createElement(R.a,{name:""},function(){return null}),r.createElement(U.b,null,function(e){var t=!!e;return r.createElement(r.Fragment,null,r.createElement(xn.b,{loggedIn:t}),r.createElement(xe,{initialPageLoaded:o,isLoggedIn:t}),r.createElement(wn,{email:e&&e.email,isLoggedin:t}))}),r.createElement(gn,{onCustomDomain:e.isCustomDomain}),r.createElement(N,null),r.createElement(L.a,null),r.createElement(je,{initialPageLoaded:o}))}))},Sn=Object(I.hot)(Object(C.i)(Object(Pe.c)(Object(c.c)(function(e){return{nodeEnv:e.config.nodeEnv,productName:e.config.productName,glyphUrl:e.config.glyphUrl,isBot:e.client.isBot,lightStepConfig:e.config.lightStep,isAmp:e.config.isAmp,originalSpanCarrier:e.debug.originalSpanCarrier,stats:e.stats,userId:e.session.user.id,isCustomDomain:e.client.isCustomDomain,susiModal:e.navigation.susiModal}})(jn)))),kn=n("./node_modules/apollo-client/bundle.esm.js"),Pn=n("./node_modules/apollo-link-http/lib/bundle.esm.js"),Cn=n("./node_modules/apollo-cache-inmemory/lib/bundle.esm.js"),In=n("./src/fragmentTypes.json"),Ln=n("./node_modules/apollo-link/lib/bundle.esm.js");function An(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Tn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?An(n,!0).forEach(function(t){M()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):An(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Nn(){var e=W()(["\n  query userResultByUsernameNormalizingQuery($username: ID!) {\n    userResult(username: $username) {\n      ... on User {\n        id\n      }\n    }\n  }\n"]);return Nn=function(){return e},e}function Rn(){var e=W()(["\n  query userResultByUserIdNormalizingQuery($userId: ID!) {\n    userResult(id: $userId) {\n      ... on User {\n        id\n      }\n    }\n  }\n"]);return Rn=function(){return e},e}function Un(){var e=W()(["\n  query userByUsernameNormalizingQuery($username: ID!) {\n    user(username: $username) {\n      id\n    }\n  }\n"]);return Un=function(){return e},e}function Dn(){var e=W()(["\n  query userByUserIdNormalizingQuery($userId: ID!) {\n    user(id: $userId) {\n      id\n    }\n  }\n"]);return Dn=function(){return e},e}var Mn=Y()(Dn()),Hn=Y()(Un()),Bn=Y()(Rn()),Fn=Y()(Nn());var zn=function(e){var t=e.uri,n=e.state,r=e.ssrMode,o=e.transformLink,i=e.version,a=Object(Pn.a)({uri:t,credentials:"same-origin"});a=new Ln.a(function(e,t){var n=e.operationName;return n&&e.setContext(function(e){return{headers:Tn({},e.headers||{},{"Graphql-Operation":n})}}),t?t(e):null}).concat(a),o&&(a=o(a));var c=new Cn.b({introspectionQueryResultData:In}),s=new Cn.a({addTypename:!0,fragmentMatcher:c,dataIdFromObject:function(e){switch(e.__typename){case"Topic":return e.topicId||e.slug;case"MeteringInfo":return"MeteringInfo:singleton";case"PostPreview":var t=e.postId||e.post&&e.post.id;if(t)return"".concat(e.__typename,":").concat(t);break;default:return Object(Cn.c)(e)}}});return a=function(e){return new Ln.a(function(t,n){return n?n(t).map(function(n){if(t.query.definitions.find(function(e){return"OperationDefinition"===e.kind&&"query"===e.operation&&e.selectionSet.selections&&"Field"===e.selectionSet.selections[0].kind&&("user"===e.selectionSet.selections[0].name.value||"userResult"===e.selectionSet.selections[0].name.value)&&e.selectionSet.selections[0].arguments&&("username"===e.selectionSet.selections[0].arguments[0].name.value||"id"===e.selectionSet.selections[0].arguments[0].name.value)})){var r=n.data&&(n.data.user||n.data.userResult);if(r){var o={user:r},i={userResult:r};r.id&&(e.writeQuery({query:Mn,data:o,variables:{userId:r.id}}),e.writeQuery({query:Bn,data:i,variables:{userId:r.id}})),r.username&&(e.writeQuery({query:Hn,data:o,variables:{username:r.username}}),e.writeQuery({query:Fn,data:i,variables:{username:r.username}}))}}return n}):null})}(s).concat(a),{cache:s,client:new kn.a({link:a,cache:!r&&n?s.restore(n):s,ssrMode:r,connectToDevTools:!0,name:"lite",version:i,defaultOptions:{watchQuery:{errorPolicy:"all"},query:{errorPolicy:"all"},mutate:{errorPolicy:"all"}}})}};function qn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Vn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qn(n,!0).forEach(function(t){M()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qn(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var Wn="Medium-Frontend-App",Gn="Medium-Frontend-Route";var Yn=function(e){return"lite/".concat(e)},Kn=n("./node_modules/fela/es/index.js"),Xn=n("./node_modules/fela-plugin-fallback-value/es/index.js"),$n={html:{boxSizing:"border-box"},"*, *:before, *:after":{boxSizing:"inherit"},body:{margin:0,padding:0,textRendering:"optimizeLegibility",WebkitFontSmoothing:"antialiased",color:"rgba(0,0,0,0.8)",position:"relative",minHeight:"100vh"},"h1, h2, h3, h4, h5, h6, dl, dd, ol, ul, menu, figure, blockquote, p, pre, form":{margin:0},"menu, ol, ul":{padding:0,listStyle:"none",listStyleImage:"none"},main:{display:"block"},a:{color:"inherit",textDecoration:"none"},"a, button, input":{WebkitTapHighlightColor:"transparent"},"img, svg":{verticalAlign:"middle"},button:{background:"transparent",overflow:"visible"},"button, input, optgroup, select, textarea":{margin:0}};var Qn=function(){-1!==navigator.userAgent.indexOf("Safari")&&-1===navigator.userAgent.indexOf("Chrome")&&-1===navigator.userAgent.indexOf("Chromium")||console.log("-+++++=        .+++++=\n.+@@@@@+       #@@@@*:\n  .@@@@@=     *@@@@@  \n   @+@@@@-   =#@@@@@  \n   @ +@@@@: :% @@@@@  \n   @  *@@@@-%: @@@@@  \n   @   *@@@@-  @@@@@  \n  -@-   #@@+  :@@@@@: \n-#@@@#-  ##  =@@@@@@@=\n.......      .........\n"),console.log("We're hiring! https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e")},Jn=function(e){function t(e){var n;return v()(this,t),(n=E()(this,j()(t).call(this,e))).state={caughtError:!1},n}return S()(t,e),x()(t,[{key:"componentDidCatch",value:function(e,t){var n=t.componentStack,r=this.props.reporter;this.setState({caughtError:!0}),r.report(e,{via:"componentDidCatch",componentStack:n}),u.c(function(t){t.setExtra("componentStack",n),t.setLevel("error"),u.a(e)})}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.whenError;return this.state.caughtError?n:t}}]),t}(r.Component);function Zn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function er(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Zn(n,!0).forEach(function(t){M()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zn(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var tr=50,nr=10,rr=function(){function e(t){var n=t.userId,r=t.authDomain;v()(this,e),M()(this,"userId",void 0),M()(this,"authDomain",void 0),M()(this,"_queue",void 0),M()(this,"_reported",void 0),M()(this,"_timeout",void 0),this.userId=n,this.authDomain=r,this._queue=[],this._reported=0}return x()(e,[{key:"report",value:function(e,t){var n=this;this._queue.length>=nr||this._reported>=tr||(this._queue.push({name:e.name,message:e.message,stack:e.stack,timestamp:Date.now(),fileName:e.fileName,lineNumber:e.lineNumber,extra:er({client:"lite",build:window.__BUILD_ID__,userId:this.userId,userAgent:navigator.userAgent,location:window.location.href},t)}),void 0===this._timeout&&(this._timeout=setTimeout(function(){return n._send()},5e3)))}},{key:"_send",value:function(){delete this._timeout;var e="".concat(this.authDomain||"").concat(Object(re.H)());fetch(e,{credentials:"same-origin",method:"POST",headers:{"content-type":"application/json","x-xsrf-token":"1"},body:JSON.stringify(this._queue)}),this._reported+=this._queue.length,this._queue=[]}}]),e}(),or=n("./src/svg/logo-wordmark-138x27px.svg"),ir=["medium-content-sans-serif-font",'"Lucida Grande"','"Lucida Sans Unicode"','"Lucida Sans"',"Geneva","Arial","sans-serif"].join(", "),ar={layout:{display:"flex",flexDirection:"column",height:"100vh"},header:{paddingTop:"20px"},logo:{display:"block",width:"138px",height:"27px",margin:"auto"},container:{display:"flex",flex:"1",justifyContent:"center",alignItems:"center"},main:{boxSizing:"border-box",paddingBottom:"20px",paddingLeft:"24px",paddingRight:"24px"},heading:{fontFamily:ir,fontSize:"44px",lineHeight:1.1,marginBottom:"0.3em"},paragraph:{fontFamily:ir,fontSize:"22px",lineHeight:1.25,marginBottom:"0.3em"}},cr=function(e){var t=e.children;return r.createElement("div",{style:ar.layout},t)},sr=function(e){var t=e.children;return r.createElement("header",{style:ar.header},t)},lr=function(){return r.createElement("a",{href:"/"},r.createElement(or.a,{style:ar.logo}))},ur=function(e){var t=e.children;return r.createElement("div",{style:ar.container},t)},dr=function(e){var t=e.children;return r.createElement("main",{style:ar.main},t)},mr=function(e){var t=e.children;return r.createElement("h1",{style:ar.heading},t)},fr=function(e){var t=e.children;return r.createElement("p",{style:ar.paragraph},t)};function pr(){return r.createElement(cr,null,r.createElement(sr,null,r.createElement(lr,null)),r.createElement(ur,null,r.createElement(dr,null,r.createElement(mr,null,"Error"),r.createElement(fr,null,"Were sorry, but there was a problem displaying this page."),r.createElement(fr,null,"Please reload and try again."))))}var gr=function(){Qn();var e=window.__PRELOADED_STATE__;if(!e)throw new Error("Expected window.__PRELOADED_STATE__ to exist.");var t=Zt(e),n=t.getState(),i=n.config.version,a=n.client.isCustomDomain,d=n.navigation.host,f=Object(an.b)({isCustomDomain:a}),p=window.__GRAPHQL_URI__;if(!p)throw new Error("Expected window.__GRAPHQL_URI__ to exist.");var g=window.__APOLLO_STATE__;if(!g)throw new Error("Expected window.__APOLLO_STATE__ to exist.");var h,b=zn({uri:p,ssrMode:!1,state:g,transformLink:function(e){return function(e,t){var n=Yn(e);return new Ln.a(function(e,r){var o=Object(ae.a)(window.location.pathname,{isCustomDomain:t});return e.setContext(function(e){var t;return{headers:Vn({},e.headers||{},(t={},M()(t,Wn,n),M()(t,Gn,o?o.name:"unidentified"),t))}}),r?r(e):null})}(i,a).concat(e)},version:i}).client,v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.noGlobals,n=e.ssrMode,r=Object(Kn.b)({plugins:[Object(Xn.a)()],mediaQueryOrder:["all and (min-width: 1080px)","all and (max-width: 1079.98px)","all and (max-width: 903.98px)","all and (max-width: 727.98px)","all and (max-width: 551.98px)","all and (min-width: 904px) and (max-width: 1079.98px)","all and (min-width: 728px) and (max-width: 903.98px)","all and (min-width: 552px) and (max-width: 727.98px)","print"]});return n||Object(lt.a)(r),t||Object.keys($n).forEach(function(e){return r.renderStatic($n[e],e)}),r}(),y=n.session.user.id,x=new ie.a({userId:y,reduxStore:t}),w=new rr({userId:y}),E=new Pe.b({host:d,version:i});window.onerror=(h=w,function(e,t,n,r,o){if(null!=o)h.report(o,{via:"window.onerror"});else{var i=String(t).split(/[\/\\]/).pop();h.report({message:"string"==typeof e?e:e.type,fileName:i,lineNumber:n})}}),l.a({beforeSend:function(e,t){var n=Object(ae.a)(window.location.pathname,{isCustomDomain:a});return e.tags&&(e.tags.route=n?n.name:"unidentified"),e},dsn:n.config.sentry.dsn,environment:"".concat(n.config.sentry.environment,"-client"),release:n.config.version}),u.b(function(e){e.setUser({id:n.session.user.id}).setTag("version",i)});var O;(O=m.a.hydrate,function(e){var n=document.getElementById("root");n&&O(r.createElement(Jn,{reporter:w,whenError:r.createElement(pr,{error:{}})},r.createElement(ie.b,{reporter:x},r.createElement(Pe.a,{reporter:E},r.createElement(ut,{renderer:v},r.createElement(on,{client:b},r.createElement(c.a,{store:t},r.createElement(o.b,null,r.createElement(s.a,null,r.createElement(an.a.Provider,{value:f},r.createElement(e,null)))))))))),n)})(Sn)};window.main=function(){Object(vn.c)(),a.a.preloadReady().then(gr)}},"./src/log/index.ts":function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),o=n.n(r);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var a=function(e,t){return"string"==typeof e?{msg:e}:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(n,!0).forEach(function(t){o()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({msg:t},e)},c={debug:function(e,t){console.debug(a(e,t))},info:function(e,t){console.log(a(e,t))},warn:function(e,t){console.warn(a(e,t))},error:function(e,t){console.error(a(e,t))}}},"./src/routes/RoutingContext.tsx":function(e,t,n){"use strict";var r=n("./node_modules/react/index.js"),o=[{name:"ShowMediumAbout",pathPattern:"/about"},{name:"ShowHome",pathPattern:"/",handler:"LOHomepageHandler",service:"lite",serviceVariantFlag:"enable_lo_homepage"},{name:"ShowNewPost",pathPattern:"/new-story"},{name:"ShowStandaloneResponses",pathPattern:"/p/{postId}/responses/show"},{name:"ShowNewResponse",pathPattern:"/p/{inResponseToPostId}/responses/new"},{name:"ShowCollectionNewPost",pathPattern:"/{collectionSlug}/new-story"},{name:"ShowEditPost",pathPattern:"/p/{postId}/edit"},{name:"ShowRevertPost",pathPattern:"/p/{postId}/revert/{versionId}/{baseRev}"},{name:"ShowCollectionEditPost",pathPattern:"/{collectionSlug}/{postId}/edit"},{name:"ShowUserEditPost",pathPattern:"/@{username}/{postId}/edit"},{name:"ShowImportPost",pathPattern:"/p/import"},{name:"ShowCreateImportPost",pathPattern:"/p/import-story"},{name:"ShowPost",pathPattern:"/p/{postId}",handler:"PostHandler",service:"lite",serviceVariantFlag:"enable_lite_post"},{name:"ShowPostUnderUser",pathPattern:"/@{username}/{postId}",handler:"PostHandler",service:"lite",serviceVariantFlag:"enable_lite_post"},{name:"ShowPostUnderQuarantine",pathPattern:"/t/@{username}/{postId}"},{name:"ShowPostUnderCollection",pathPattern:"/{collectionSlug}/{postId}",onCustomDomain:!0,handler:"PostHandler",service:"lite",serviceVariantFlag:"enable_lite_post"},{name:"ShowPostInfo",pathPattern:"/p/{postId}/info"},{name:"ShowPostInfoOrdered",pathPattern:"/p/{postId}/info/{order}/{filter}"},{name:"ShowPostSettings",pathPattern:"/p/{postId}/settings",handler:"PostSettingsHandler",service:"lite"},{name:"ShowTheming",pathPattern:"/theming",handler:"ThemingHandler",service:"lite",serviceVariantFlag:"enable_theme_editor"},{name:"ShowSearch",pathPattern:"/search"},{name:"ShowSearchUsers",pathPattern:"/search/users"},{name:"ShowSearchCollections",pathPattern:"/search/publications"},{name:"ShowSearchTags",pathPattern:"/search/tags"},{name:"ShowSearchPosts",pathPattern:"/search/posts"},{name:"ShowCollectionSearch",pathPattern:"/{collectionSlug}/search",onCustomDomain:!0},{name:"ShowNewCatalog",pathPattern:"/new-collection"},{name:"ShowEmailSettings",pathPattern:"/me/email-settings/{userId}/{hash}"},{name:"ShowYourCatalogs",pathPattern:"/me/collections"},{name:"RedirectShowYourStories",pathPattern:"/me/stories",handler:"YourStoriesHandler",service:"lite",serviceVariantFlag:"enable_lite_stories"},{name:"ShowYourStories",pathPattern:"/me/stories/{filterBy}",handler:"YourStoriesHandler",service:"lite",serviceVariantFlag:"enable_lite_stories"},{name:"ShowUserCatalog",pathPattern:"/@{username}/collections/{catalogSlug}"},{name:"ShowUserCatalogs",pathPattern:"/@{username}/collections"},{name:"ShowEditUserCatalog",pathPattern:"/@{username}/collections/{catalogSlug}/edit"},{name:"ShowCatalog",pathPattern:"/collections/{catalogSlug}"},{name:"ShowEditCatalog",pathPattern:"/collections/{catalogSlug}/edit"},{name:"ShowFollows",pathPattern:"/me/following/{entityName}"},{name:"ShowSeriesCreate",pathPattern:"/new-series"},{name:"ShowSeriesEdit",pathPattern:"/series/{postId}/edit"},{name:"ShowSeries",pathPattern:"/series/{postId}",handler:"SeriesHandler",service:"lite"},{name:"ShowYourSeries",pathPattern:"/me/series/{filterBy}"},{name:"ShowTagPostsLatest",pathPattern:"/tag/{tagSlug}/latest"},{name:"ShowTagPosts",pathPattern:"/tag/{tagSlug}"},{name:"ShowTopWritersInTag",pathPattern:"/tag/{tagSlug}/top-writers"},{name:"ShowTagArchive",pathPattern:"/tag/{tagSlug}/archive"},{name:"ShowTagYearlyArchive",pathPattern:"/tag/{tagSlug}/archive/{year}"},{name:"ShowTagMonthlyArchive",pathPattern:"/tag/{tagSlug}/archive/{year}/{month}"},{name:"ShowTagDailyArchive",pathPattern:"/tag/{tagSlug}/archive/{year}/{month}/{day}"},{name:"ShowAmpPostUnderCollection",pathPattern:"/{collectionSlug}/amp/p/{postId}",onCustomDomain:!0,handler:"AMPPostHandler",service:"lite"},{name:"ShowAmpPost",pathPattern:"/amp/p/{postId}",handler:"AMPPostHandler",service:"lite"},{name:"ShowStats",pathPattern:"/me/stats"},{name:"ShowStatsResponses",pathPattern:"/me/stats/responses"},{name:"ShowUserStats",pathPattern:"/@{username}/stats"},{name:"ShowUserStatsResponses",pathPattern:"/@{username}/stats/responses"},{name:"ShowStatsSeries",pathPattern:"/me/stats/series"},{name:"ShowUserStatsSeries",pathPattern:"/@{username}/stats/series"},{name:"ShowStatsPost",pathPattern:"/me/stats/post/{postId}",handler:"StatsPostHandler",service:"lite"},{name:"ShowOnboarding2",pathPattern:"/get-started"},{name:"ShowVerifyAccount",pathPattern:"/me/send-verify"},{name:"ShowUser",pathPattern:"/@{username}",handler:"UserProfileOverviewHandler",service:"lite",serviceVariantFlag:"enable_lite_profile"},{name:"ShowEditUserProfile",pathPattern:"/@{username}/edit"},{name:"ShowUserLatest",pathPattern:"/@{username}/latest",handler:"UserProfileLatestHandler",service:"lite",serviceVariantFlag:"enable_lite_profile"},{name:"ShowUserHasRecommended",pathPattern:"/@{username}/has-recommended",handler:"UserProfileClapsHandler",service:"lite",serviceVariantFlag:"enable_lite_profile"},{name:"ShowUserHighlights",pathPattern:"/@{username}/highlights",handler:"UserProfileHighlightsHandler",service:"lite",serviceVariantFlag:"enable_lite_profile"},{name:"ShowUserSeries",pathPattern:"/@{username}/series",handler:"UserProfileSeriesHandler",service:"lite",serviceVariantFlag:"enable_lite_profile"},{name:"ShowUserFollowers",pathPattern:"/@{username}/followers"},{name:"ShowUserFollowing",pathPattern:"/@{username}/following"},{name:"ShowUserFilterByCollection",pathPattern:"/{collectionSlug}/@{username}",onCustomDomain:!0},{name:"ShowUserResponses",pathPattern:"/@{username}/responses",handler:"UserProfileResponsesHandler",service:"lite",serviceVariantFlag:"enable_lite_profile"},{name:"ShowMemberBillingHistory",pathPattern:"/me/billing-history",handler:"BillingHistoryHandler",service:"lite"},{name:"ShowPartnerEnroll",pathPattern:"/me/partner/enroll/{step}"},{name:"ShowPartnerDashboard",pathPattern:"/me/partner/dashboard"},{name:"ShowPartnerTaxes",pathPattern:"/me/partner/taxes"},{name:"ShowUserPartnerDashboard",pathPattern:"/@{username}/partner/dashboard"},{name:"ShowCollectionPartnerDashboard",pathPattern:"/{collectionSlug}/settings/dashboard"},{name:"ShowCollectionHome",pathPattern:"/{collectionSlug}",onCustomDomain:!0,handler:"CollectionHomepageHandler",service:"lite",serviceVariantFlag:"enable_lite_pub_homepage_for_selected_domains"},{name:"ShowCollectionMasthead",pathPattern:"/{collectionSlug}/about",onCustomDomain:!0},{name:"ShowEditCollectionMasthead",pathPattern:"/{collectionSlug}/settings/about"},{name:"ShowCollectionCreate",pathPattern:"/new-publication"},{name:"ShowCollectionSettings",pathPattern:"/{collectionSlug}/settings"},{name:"ShowCollectionNavigationSettings",pathPattern:"/{collectionSlug}/settings/navigation"},{name:"ShowCollectionLettersSettings",pathPattern:"/{collectionSlug}/settings/letters"},{name:"ShowCollectionLatest",pathPattern:"/{collectionSlug}/latest",onCustomDomain:!0},{name:"ShowCollectionTrending",pathPattern:"/{collectionSlug}/trending",onCustomDomain:!0},{name:"ShowCollectionTagged",pathPattern:"/{collectionSlug}/tagged/{tagSlug}",onCustomDomain:!0},{name:"ShowCollectionFeatured",pathPattern:"/{collectionSlug}/featured",onCustomDomain:!0},{name:"ShowCollectionArchive",pathPattern:"/{collectionSlug}/archive",onCustomDomain:!0},{name:"ShowCollectionYearlyArchive",pathPattern:"/{collectionSlug}/archive/{year}",onCustomDomain:!0},{name:"ShowCollectionMonthlyArchive",pathPattern:"/{collectionSlug}/archive/{year}/{month}",onCustomDomain:!0},{name:"ShowCollectionDailyArchive",pathPattern:"/{collectionSlug}/archive/{year}/{month}/{day}",onCustomDomain:!0},{name:"ShowYourCollections",pathPattern:"/me/publications"},{name:"ShowCancelMembership",pathPattern:"/me/membership/cancel"},{name:"ShowCollectionFollowers",pathPattern:"/{collectionSlug}/settings/followers"},{name:"ShowCollectionSubmittedPosts",pathPattern:"/{collectionSlug}/submitted-stories"},{name:"ShowCollectionInstantArticlesPagePick",pathPattern:"/{collectionSlug}/ia/pick",onCustomDomain:!0},{name:"ShowUserCollectionFollowing",pathPattern:"/{collectionSlug}/@{username}/following",onCustomDomain:!0},{name:"ShowCollectionTopic",pathPattern:"/{collectionSlug}/{topicSlug}/home",onCustomDomain:!0},{name:"ShowCollectionTopicList",pathPattern:"/{collectionSlug}/settings/feature-pages"},{name:"ShowCollectionTopicCreate",pathPattern:"/{collectionSlug}/settings/feature-pages/new"},{name:"ShowCollectionTopicEdit",pathPattern:"/{collectionSlug}/settings/feature-pages/{topicSlug}/edit"},{name:"ShowEditTopic",pathPattern:"/topic/{topicSlug}/edit"},{name:"ShowAddPostsToTopic",pathPattern:"/topic/{topicSlug}/add-posts"},{name:"ShowTopic",pathPattern:"/topic/{topicSlug}",handler:"TopicHandler",service:"lite",serviceVariantFlag:"enable_lite_topics"},{name:"ShowTopicExplore",pathPattern:"/topics"},{name:"ShowNewByPeopleYouFollow",pathPattern:"/stream/authors"},{name:"ShowNewByPublicationsYouFollow",pathPattern:"/stream/publications"},{name:"ShowNewByFollowedUsersAndCollections",pathPattern:"/stream/network"},{name:"ShowAcceptedFeatureLockPostRequest",pathPattern:"/p/{postId}/requests/partner/feature/{token}"},{name:"ShowAcctSignIn",pathPattern:"/m/signin"},{name:"ShowAppsLanding",pathPattern:"/m/app"},{name:"ShowGoodbye",pathPattern:"/m/goodbye"},{name:"ShowSuspended",pathPattern:"/suspended"},{name:"ShowSubscriptionsLanding",pathPattern:"/membership"},{name:"ShowCreatorsLanding",pathPattern:"/creators"},{name:"ShowMediumMembershipPayment",pathPattern:"/payment"},{name:"ShowGiftCheckout",pathPattern:"/gift-checkout"},{name:"ShowRedeemGift",pathPattern:"/redeem"},{name:"ShowReadingList",pathPattern:"/me/list/{activeTab}",handler:"ReadingListHandler",service:"lite",serviceVariantFlag:"enable_lite_reading_list"},{name:"ShowYourActivity",pathPattern:"/me/activity"},{name:"ShowSequence",pathPattern:"/s/{sequenceSlug}"},{name:"ShowSequencePost",pathPattern:"/s/{sequenceSlug}/{postId}",handler:"SequencePostHandler",service:"lite",serviceVariantFlag:"enable_lite_post"},{name:"ShowSequenceLibrary",pathPattern:"/collections",handler:"SequenceLibraryHandler",service:"lite"},{name:"ShowEditSequence",pathPattern:"/s/{sequenceSlug}/edit"},{name:"ShowCreateSequence",pathPattern:"/s/new"},{name:"ShowTickLandingPage",pathPattern:"/l/ticks",handler:"TickLandingPageHandler",service:"lite",serviceVariantFlag:"enable_tick_landing_page"},{name:"ShowTrumplandLandingPage",pathPattern:"/l/the-trump-45",handler:"TrumplandLandingPageHandler",service:"lite",serviceVariantFlag:"enable_trumpland_landing_page"},{name:"ShowTributeLandingPage",pathPattern:"/l/tribute",handler:"TributeLandingPageHandler",service:"lite",serviceVariantFlag:"enable_tribute_landing_page"},{name:"ShowPackageBuilder",pathPattern:"/l/package-builder",handler:"PackageBuilderHandler",service:"lite",serviceVariantFlag:"enable_package_builder"},{name:"ShowCollectionPackageBuilder",pathPattern:"/l/package-builder/{collectionId}",handler:"PackageBuilderPubHandler",service:"lite",serviceVariantFlag:"enable_package_builder"},{name:"ShowCollectionHomepage",pathPattern:"/l/package-preview/{collectionId}",handler:"PackagePreviewHandler",service:"lite",serviceVariantFlag:"enable_new_pub_modules"},{name:"ShowNotAvailable",pathPattern:"/not-available",handler:"NotAvailableHandler",service:"lite"}];function i(e){var t=e.name,n=e.pathPattern,r=e.handler,o=e.service,i=void 0===o?"":o,a=e.serviceVariantFlag,c=void 0===a?"":a,s=e.onCustomDomain;return{name:t,service:i,serviceVariantFlag:c,onCustomDomain:void 0!==s&&s,pathPattern:n,handler:r,formatPathPatternForPathMatcher:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e;if(t){if(!e.startsWith("/{collectionSlug}"))throw new Error("Expected custom domain route to begin with /{collectionSlug} but found ".concat(e,"."));n=n.replace(/^\/\{collectionSlug\}/,"")}if((n=n.replace(/\/@\{([^}]+)\}/g,"/@$1:@.*").replace(/\{([^}]+)\}/g,":$1")).includes("{"))throw new Error("Could not format route: ".concat(e,"."));return n}(n,e)}}}var a=n("./node_modules/@babel/runtime/helpers/classCallCheck.js"),c=n.n(a),s=n("./node_modules/@babel/runtime/helpers/createClass.js"),l=n.n(s),u=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),d=n.n(u),m=function(){function e(){c()(this,e),d()(this,"_tree",void 0),this._tree={children:{}}}return l()(e,[{key:"add",value:function(e,t){var n=this._getPathParts(e),r=[],o=this._tree;if(n.forEach(function(e){if("@"===e[0]){var t=e.indexOf(":"),n=e.slice(1,t),i=e.slice(t+1);return o.children["@"]||(o.children["@"]={children:{}}),(o=o.children["@"]).children[n]||(o.children[n]={children:{},re:new RegExp(i)}),r.push(n),void(o=o.children[n])}var a=e;":"===e[0]&&(a=":",r.push(e.slice(1))),o.children[a]||(o.children[a]={children:{}}),o=o.children[a]}),o.routeMetadata){var i=o.routeMetadata.pathPattern;throw new Error("Can not register [".concat(e,"], path is ambiguous. [").concat(i,"] previously registered."))}o.routeMetadata={route:t,pathPattern:e,capturedNames:r}}},{key:"getMatch",value:function(e){var t=this._getPathParts(e);return this._getMatchRecursive(t,0,this._tree)}},{key:"_getMatchRecursive",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];if(t>=e.length){if(!n.routeMetadata)return;var o=n.routeMetadata;return{route:o.route,params:o.capturedNames.reduce(function(e,t,n){return e[t]=r[n],e},{})}}var i=e[t];if(n.children[i]){var a=this._getMatchRecursive(e,t+1,n.children[i],r);if(a)return a}if(n.children["@"]){var c=n.children["@"];for(var s in c.children){var l=c.children[s];if(l.re&&l.re.test(i)){r.push(i);var u=this._getMatchRecursive(e,t+1,l,r);if(u)return u;r.pop()}}}if(n.children[":"]){r.push(i);var d=this._getMatchRecursive(e,t+1,n.children[":"],r);if(d)return d;r.pop()}}},{key:"_getPathParts",value:function(e){return e.replace(/(^\/|\/$)/g,"").split("/").map(function(e){try{return decodeURIComponent(e)}catch(e){return""}})}}]),e}();n.d(t,"a",function(){return f}),n.d(t,"b",function(){return p}),n.d(t,"e",function(){return g}),n.d(t,"d",function(){return h}),n.d(t,"c",function(){return b});var f=r.createContext({pathMatcher:new m,activeRoutes:[],routeMap:new Map});function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(e){var t,n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).isCustomDomain,r=void 0!==n&&n;t=r?e.filter(function(e){var t=e.onCustomDomain;return t}):e;var o=new m;return t.forEach(function(e){o.add(e.formatPathPatternForPathMatcher(r),e)}),{routeMap:new Map(e.map(function(e){return[e.name,e]})),activeRoutes:t.filter(function(e){return"lite"===e.service}),pathMatcher:o}}(o.map(function(e){return i(e)}),e)}function g(){return r.useContext(f)}function h(e){return r.useContext(f).pathMatcher.getMatch(e)}function b(){var e=r.useContext(f).pathMatcher;return e.getMatch.bind(e)}},"./src/routes/getLiteRouteForPath.ts":function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n("./src/routes/index.ts");function o(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).isCustomDomain,n=void 0!==t&&t,o=e.replace(/\?.*$/,""),i=Object(r.a)(n);for(var a in i){var c=i[a];if(c.pattern.test(o))return c}}},"./src/routes/index.ts":function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n("./node_modules/path-to-regexp/index.js"),o=n.n(r);function i(e,t,n){return{name:e,path:t,flagName:n,pattern:o()(t)}}var a={"amp-post":i("amp-post","/amp/p/:postId"),"billing-history":i("billing-history","/me/billing-history"),"not-available":i("not-available","/not-available"),"logged-out-homepage":i("lo-homepage","/","enable_lo_homepage"),"post-by-id":i("post","/p/:postId([0-9a-f]+)","enable_lite_post"),"post-by-slug":i("post","/p/:postSlug([^\\/]+-[0-9a-f]+)","enable_lite_post"),profile:i("profile","/@:username"),"profile/claps":i("profile","/@:username/has-recommended"),"profile/highlights":i("profile","/@:username/highlights"),"profile/latest":i("profile","/@:username/latest"),"profile/responses":i("profile","/@:username/responses"),"profile/series":i("profile","/@:username/series"),"sequence-library":i("sequence-library","/collections"),series:i("series","/series/:postId"),"stats-post":i("stats-post","/me/stats/post/:postId"),stories:i("stories","/me/stories/:filterBy","enable_lite_stories"),topic:i("topic","/topic/:topicSlug"),"landing-pages/ticks":i("landing-pages/ticks","/l/ticks","enable_tick_landing_page"),"landing-pages/tribute":i("landing-pages/tribute","/l/tribute","enable_tribute_landing_page"),"sequence-post":i("sequence-post","/s/:sequenceSlug/:postIdOrSlug","enable_lite_post"),"landing-pages/trumpland":i("landing-pages/trumpland","/l/the-trump-45","enable_trumpland_landing_page"),"package-builder":i("LoadablePackageBuilderHandler","/l/package-builder","enable_package_builder"),"package-builder-pub":i("LoadablePackageBuilderPubHandler","/l/package-builder/:collectionId([0-9a-f]+)","enable_package_builder"),"package-preview":i("LoadablePackagePreviewHandler","/l/package-preview/:collectionId([0-9a-f]+)","enable_new_pub_modules"),"post-by-id-under-user":i("post","/@:username/:postId([0-9a-f]+)","enable_lite_post"),"post-by-slug-under-user":i("post","/@:username/:postSlug([^\\/]+-[0-9a-f]+)","enable_lite_post"),"post-by-id-under-collection":i("post","/:collectionSlug([^\\/]{3,})/:postId([0-9a-f]+)","enable_lite_post"),"post-by-slug-under-collection":i("post","/:collectionSlug([^\\/]{3,})/:postSlug([^\\/]+-[0-9a-f]+)","enable_lite_post"),"post-settings":i("post-settings","/p/:postId([0-9a-f]+)/settings","enable_post_settings_screen"),theming:i("theming","/theming","enable_theme_editor"),"reading-list":i("list","/me/list/:activeTab","enable_lite_reading_list")},c={"amp-post/custom-domain":i("amp-post","/amp/p/:postId"),"post-by-slug/custom-domain":i("post","/:postSlug([^\\/]+-[0-9a-f]+)","enable_lite_post_cd"),"post-by-id/custom-domain":i("post","/:postId([0-9a-f]+)","enable_lite_post_cd"),"collection-homepage":i("collection-homepage","/","enable_lite_pub_homepage_for_selected_domains")};function s(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]?c:a}},"./src/screens/ErrorScreen.tsx":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),o=n.n(r),i=n("./node_modules/react/index.js"),a=n("./node_modules/react-router/esm/react-router.js"),c=n("./src/components/metabar/Metabar.tsx"),s=n("./src/framework/design-system/components/index.ts"),l=n("./src/framework/design-system/util/type/toRule.ts"),u=n("./src/framework/style/index.ts"),d=n("./src/styles/font.ts"),m=n("./src/util/routes.ts"),f=function(e){e.error;return!1},p=i.createContext(null),g=function(e){var t=i.useContext(p);e&&t&&t.report(e)};function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}n.d(t,"a",function(){return x});var b={fontSize:"20px",textTransform:"uppercase"},v=function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(n,!0).forEach(function(t){o()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},Object(l.a)(function(e){return{font:e.font.elevate,fontSize:192,lineHeight:200,display:"block"}})(e))},y={fontSize:"24px"};function x(e){var t=Object(u.useCx)();return g(e.error),i.createElement(a.b,{render:function(n){var r=n.staticContext;return r&&(r.status=500),i.createElement("div",null,i.createElement(c.a,null),i.createElement(s.b,{tag:"section",paddingTop:"60px",paddingBottom:"60px"},i.createElement(s.B,{columns:8},i.createElement(s.b,{display:"flex",alignItems:"flex-start",flexWrap:"wrap"},i.createElement(s.b,{display:"flex",flexDirection:"column"},i.createElement("div",{className:t(b)},"Error"),i.createElement("div",{className:t(v)},"500")),i.createElement("div",{className:t(Object(d.l)())},i.createElement(s.b,{marginBottom:"28px"},i.createElement("div",{className:t(y)},"Our nimblest minds and quickest coders are scrambling to bring Medium back  so hold tight.")),i.createElement("div",{className:t(y)},"What can you do? Try refreshing this page or check"," ",i.createElement(s.u,{href:Object(m.wb)(),display:"inline-block",inline:!0,target:"_blank",linkStyle:"OBVIOUS"},"Medium's status"),"."))))),f(e))}})}},"./src/screens/LoadingScreen.tsx":function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n("./node_modules/react/index.js"),o=n("./src/framework/design-system/components/index.ts"),i=n("./src/components/metabar/Logo.tsx");function a(){return r.createElement(o.b,{height:"100vh",width:"100vw",display:"flex",justifyContent:"center",alignItems:"center"},r.createElement(i.a,null))}},"./src/screens/NotFoundScreen.tsx":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),o=n.n(r),i=n("./node_modules/react/index.js"),a=n("./node_modules/react-router/esm/react-router.js"),c=n("./src/framework/design-system/components/index.ts"),s=n("./src/components/metabar/Metabar.tsx"),l=n("./src/util/routes.ts"),u=n("./src/components/post-listing/PostListingItemImage.tsx"),d=n("./src/components/post-listing/PostListingItemBylineWithAvatar.tsx"),m=n("./src/framework/design-system/util/type/toRule.ts"),f=n("./src/framework/style/index.ts"),p=n("./src/styles/breakpoints.ts");function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var h={fontSize:"20px",textTransform:"uppercase"},b=function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(n,!0).forEach(function(t){o()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},Object(m.a)(function(e){return{font:e.font.marketing,lineHeight:200,display:"block"}})(e),o()({fontSize:"192px"},p.sm(e),{fontSize:"150px"}))},v=function(e){var t=Object(f.useCx)();return i.createElement(c.b,{display:"flex",flexDirection:"column"},i.createElement("div",{className:t(h)},"Error"),i.createElement("div",{className:t(b)},e))},y=n("./src/styles/font.ts");function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(n,!0).forEach(function(t){o()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}n.d(t,"a",function(){return C});var E=function(e){return{marginTop:"-20px",fontSize:"48px",color:"#aaa",letterSpacing:"normal",lineHeight:"48px"}},O={display:"flex",flexDirection:"row","@media (max-width: 767px)":{flexDirection:"column"}},j=function(e,t){return function(n){var r={border:"1px solid ".concat(n.baseColor.border.lighter),borderRadius:"5px",boxShadow:"0 1px 4px ".concat(n.baseColor.border.lighter),margin:"8px",width:"calc(calc(100% / 3) - 8px)",overflow:"hidden","@media (max-width: 767px)":{width:"100%",marginLeft:"0",marginRight:"0"}};return 0===e?w({},r,{marginLeft:"0px"}):e===t?w({},r,{marginRight:"0px"}):r}},_=[{id:"52e72e10614",previewImage:{id:"1*6XM15VaWbf7HK1HmiRkv1Q.png",focusPercentX:0,focusPercentY:20},title:"All the Mugs Ive Loved and Lost",creator:{id:"6a0cce7d484d",imageId:"1*ErUzRtpA1KJr93I-T5kCpQ@2x.jpeg",name:"Danielle Morgan",username:"danielleaamorgan",mediumMemberAt:0},statusForCollection:"APPROVED",collection:{id:"544c7006046e",domain:"humanparts.medium.com",name:"Human Parts",slug:"human-parts"},readingTime:6.69559748427673,isLocked:!0,updatedAt:1556564895449},{id:"596d1a826429",previewImage:{id:"1*WPMRCdxJhe4cvefeJ5FbmQ.jpeg",focusPercentX:45,focusPercentY:50},title:"Lost in Conversation",creator:{id:"f65f67f321fe",imageId:"1*HJS2Dolxg5B0n7u1oJ213w.jpeg",name:"Omar Merza",username:"MerzaOmar",mediumMemberAt:0},statusForCollection:"APPROVED",collection:{id:"d415956deb14",domain:void 0,name:"The Coffeelicious",slug:"the-coffeelicious"},readingTime:5,isLocked:!1,updatedAt:1505826905e3},{id:"3f942a018492",previewImage:{id:"1*tKP4kGZhSa-H0wroJxY3fQ.jpeg",focusPercentX:50,focusPercentY:50},title:"The Lost Photographs of Penang",creator:{id:"f867736dc389",imageId:"1*AuwihOv-G6udHbXes_-rhA.jpeg",name:"Ted Anthony",username:"anthonyted",mediumMemberAt:1490944652e3},statusForCollection:"APPROVED",collection:{id:"2293067a9eb2",domain:"stuff.life",name:"Stuff Dot Life",slug:"stuff-dot-life"},readingTime:10,isLocked:!0,updatedAt:1505826905e3}],S=function(e){return i.createElement(i.Fragment,null,i.createElement(u.b,{post:e,miroWidth:767,miroHeight:271}),i.createElement(c.b,{marginTop:"16px",marginLeft:"16px"},function(e){return i.createElement(c.f,{href:Object(l.gb)(e)},i.createElement(c.p,{clamp:2},e.title))}(e)),i.createElement(c.b,{marginTop:"20px",marginBottom:"20px",paddingLeft:"29px",paddingRight:"20px"},i.createElement(d.b,{post:e})))},k=function(){return i.createElement(c.K,null,function(e){return i.createElement(i.Fragment,null,i.createElement("div",null,i.createElement(c.m,null,"Feeling lost? Youre not alone."),i.createElement(c.b,{marginTop:"16px",marginBottom:"16px"},i.createElement(c.a,null,"Enjoy these stories about getting lost, losing things, and finding what you never knew you were looking for"))),i.createElement("div",{className:e(O)},i.createElement(c.K,null,function(e){return _.map(function(t,n){return i.createElement("div",{key:n,className:e(j(n,_.length-1))},S(t))})})))})},P=function(){return i.createElement(c.K,null,function(e){return i.createElement(i.Fragment,null,v(404),i.createElement("div",{className:e(Object(y.l)())},i.createElement("h2",{className:e(E)},"We couldnt find this page.")))})};function C(e){return i.createElement(a.b,{render:function(t){var n=t.staticContext;return n&&(n.loggingData=e.loggingData,n.status=404),i.createElement(i.Fragment,null,i.createElement(s.a,null),i.createElement(c.B,null,P()),i.createElement(c.b,{tag:"section",marginTop:"100px",paddingTop:"20px",paddingLeft:"50px",paddingRight:"50px",paddingBottom:"120px",backgroundColor:"BASE_LIGHT"},i.createElement(c.B,null,i.createElement(c.A,{ui:"REGULAR"},k()))))}})}},"./src/screens/helpers/users.ts":function(e,t,n){"use strict";function r(e){if((e.match(/ /g)||[]).length>1)return"";var t=e.indexOf(" ");return e.substring(0,t)}function o(e){return e.google?"google":e.facebook?"facebook":e.twitter?"twitter":"medium"}n.d(t,"b",function(){return r}),n.d(t,"a",function(){return o})},"./src/screens/helpers/visits.ts":function(e,t,n){"use strict";n.d(t,"i",function(){return s}),n.d(t,"e",function(){return l}),n.d(t,"m",function(){return u}),n.d(t,"d",function(){return d}),n.d(t,"h",function(){return f}),n.d(t,"c",function(){return p}),n.d(t,"a",function(){return h}),n.d(t,"g",function(){return b}),n.d(t,"f",function(){return v}),n.d(t,"l",function(){return y}),n.d(t,"b",function(){return w}),n.d(t,"k",function(){return E}),n.d(t,"j",function(){return j});var r=n("./src/util/LocalStorage.ts"),o=n("./src/util/constants.ts"),i=new r.a("post-article"),a=function(e){return new Date(e).setUTCHours(0,0,0,0)-new Date(e).getDay()*o.a},c=function(e){var t=new Date(e);return Date.UTC(t.getFullYear(),t.getMonth(),1)};function s(){var e,t,n=Date.now();Number(i.get("first-post-viewed-timestamp","0"))<a(n)?(e=1,i.set("first-post-viewed-timestamp",n)):e=i.get("posts-viewed-count","0")+1,i.set("posts-viewed-count",e),Number(i.get("first-post-viewed-month-timestamp","0"))<c(n)?(t=1,i.set("first-post-viewed-month-timestamp",n)):t=i.get("posts-viewed-month-count","0")+1,i.set("posts-viewed-month-count",t)}function l(){var e=parseInt(i.get("posts-viewed-month-count","0"),10);return isNaN(e)&&(e=0),e}function u(){i.set("last-seen-prompt-timestamp",Date.now())}function d(){return Number(i.get("last-seen-prompt-timestamp","0"))}var m=new r.a("google-one-tap");function f(){m.set("hide-at",Date.now())}function p(){return Number(m.get("hide-at","0"))}var g=new r.a("read-next");function h(){g.set("dismiss",Date.now())}function b(){return Number(g.get("dismiss","0"))+o.a>Date.now()}function v(){g.set("hide-meter",Date.now())}function y(){return!(Number(g.get("hide-meter","0"))+o.a>Date.now())}var x=new r.a("susi-alternate-user");function w(){return x.get("dismissed-user-suggestion","")}var E=function(e){var t="".concat(e),n=x.get("dismissed-user-suggestion");if(n){var r=n.split(",");r.push(t),t=r.join(",")}x.set("dismissed-user-suggestion",t)},O=new r.a("authentication-reporting");var j=function(e,t,n,r){var o={alternateUserSuggestion:e,sourceUserId:t,targetUserId:n,targetMethod:r};O.set("payload",o)}},"./src/store/actions/alternateUser.ts":function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return o});var r="HIDE_ALTERNATE_USER";function o(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return{type:r,hideAlternateUser:e}}},"./src/store/actions/branch.ts":function(e,t,n){"use strict";n.d(t,"d",function(){return a}),n.d(t,"e",function(){return c}),n.d(t,"a",function(){return s}),n.d(t,"c",function(){return l}),n.d(t,"b",function(){return u}),n.d(t,"j",function(){return d}),n.d(t,"i",function(){return m}),n.d(t,"h",function(){return f}),n.d(t,"f",function(){return p}),n.d(t,"g",function(){return g});var r=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),o=n.n(r);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var a="SET_BRANCH_DATA",c="SHOW_BRANCH_BANNER",s="HIDE_BRANCH_BANNER",l="RESET_SHOW_BRANCH_BANNER",u="RENDERED_BRANCH_BANNER";function d(){return{type:c}}function m(e){return{type:u,hasRendered:e}}function f(e){return e.data.loaded=!0,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(n,!0).forEach(function(t){o()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({type:a},e)}function p(){return{type:s}}function g(){return{type:l}}},"./src/store/actions/config.ts":function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return o});var r="SET_IS_AMP";function o(e){return{type:r,isAmp:e}}},"./src/store/actions/debug.ts":function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"a",function(){return o}),n.d(t,"c",function(){return i});var r="SET_TRACE_URL",o="SET_ORIGINAL_SPAN_CARRIER";function i(e){return{type:r,performanceTraceUrl:e}}},"./src/store/actions/googleOneTap.ts":function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return o});var r="HIDE_GOOGLE_ONE_TAP";function o(){return{type:r,hideGoogleOneTap:!0}}},"./src/store/actions/metadata.ts":function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return o});var r="SET_FAVICON_IMAGE_ID";function o(e){return{type:r,faviconImageId:e}}},"./src/store/actions/multiVote.ts":function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"a",function(){return o}),n.d(t,"d",function(){return i}),n.d(t,"c",function(){return a});var r="SET_CLAP_COUNTS_FOR_POST",o="CLEAR_CLAP_COUNTS_FOR_POST";function i(e){var t=e.postId,n=e.clapCount,o=e.viewerClapCount,i=e.viewerHasClappedSinceFetch;return{type:r,postId:t,clapCount:n,viewerClapCount:o,viewerHasClappedSinceFetch:i}}function a(e){var t=e.postId;return{type:o,postId:t}}},"./src/store/actions/navigation.ts":function(e,t,n){"use strict";n.d(t,"e",function(){return r}),n.d(t,"m",function(){return o}),n.d(t,"d",function(){return i}),n.d(t,"l",function(){return a}),n.d(t,"f",function(){return c}),n.d(t,"n",function(){return s}),n.d(t,"h",function(){return l}),n.d(t,"p",function(){return u}),n.d(t,"g",function(){return d}),n.d(t,"o",function(){return m}),n.d(t,"c",function(){return f}),n.d(t,"k",function(){return p}),n.d(t,"b",function(){return g}),n.d(t,"j",function(){return h}),n.d(t,"a",function(){return b}),n.d(t,"i",function(){return v});var r="SET_CURRENT_PATH";function o(e){return{type:r,path:e}}var i="SET_CURRENT_HASH";function a(e){return{type:i,hash:e.length>1?e.substring(1):e}}var c="SET_REFERRER_SOURCE";function s(e){return{type:c,referrerSource:e}}var l="SET_UNSAFE_REDIRECT_URL";function u(e){return{type:l,unsafeRedirectUrl:e}}var d="SET_SUSI_MODAL";function m(e){return{type:d,susiModal:e}}var f="ENQUEUE_TOAST";function p(e){var t=e.duration,n=e.message,r=e.toastStyle,o=t;return t||0===t||(o=5e3),{type:f,duration:o,message:n,toastStyle:void 0===r?"MESSAGE":r}}var g="CLEAR_TOASTS";function h(){return{type:g}}var b="CLEAR_POST_PUBLISHED_TYPE";function v(){return{type:b}}},"./src/store/selectors/session.ts":function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function(e){return!e.match(/^lo_/)}},"./src/styles/breakpoints.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"xs",function(){return r}),n.d(t,"sm",function(){return o}),n.d(t,"md",function(){return i}),n.d(t,"lg",function(){return a}),n.d(t,"xl",function(){return c});var r=function(e){return"@media all and (max-width: ".concat(e.breakpoints.sm-.02,"px)")},o=function(e){return"@media all and (max-width: ".concat(e.breakpoints.md-.02,"px)")},i=function(e){return"@media all and (max-width: ".concat(e.breakpoints.lg-.02,"px)")},a=function(e){return"@media all and (max-width: ".concat(e.breakpoints.xl-.02,"px)")},c=function(e){return"@media all and (min-width: ".concat(e.breakpoints.xl,"px)")}},"./src/styles/colors.ts":function(e,t,n){"use strict";n.d(t,"x",function(){return r}),n.d(t,"y",function(){return o}),n.d(t,"p",function(){return i}),n.d(t,"q",function(){return a}),n.d(t,"r",function(){return c}),n.d(t,"s",function(){return s}),n.d(t,"w",function(){return l}),n.d(t,"z",function(){return u}),n.d(t,"c",function(){return d}),n.d(t,"B",function(){return m}),n.d(t,"u",function(){return f}),n.d(t,"v",function(){return p}),n.d(t,"t",function(){return g}),n.d(t,"a",function(){return h}),n.d(t,"b",function(){return b}),n.d(t,"i",function(){return v}),n.d(t,"k",function(){return y}),n.d(t,"j",function(){return x}),n.d(t,"l",function(){return w}),n.d(t,"h",function(){return E}),n.d(t,"f",function(){return O}),n.d(t,"g",function(){return j}),n.d(t,"d",function(){return _}),n.d(t,"e",function(){return S}),n.d(t,"m",function(){return k}),n.d(t,"A",function(){return P}),n.d(t,"n",function(){return C}),n.d(t,"o",function(){return I});var r=function(e){return"rgba(3, 168, 124, ".concat(e,")")},o=function(e){return"rgba(1, 143, 105, ".concat(e,")")},i="rgba(52, 231, 154, ".concat(1,")"),a=r(1),c=function(e){return"rgba(2, 158, 116, ".concat(e,")")}(1),s=o(1),l=function(e){return"rgba(0, 0, 0, ".concat(e,")")},u=function(e){return"rgba(255, 255, 255, ".concat(e,")")},d=l(1),m=u(1),f="rgba(12, 242, 143, .2)",p="rgba(12, 242, 150, .5)",g="rgba(12, 235, 160, .9)",h="rgba(158, 213, 237, 0.5)",b="#54AFCC",v="#D3E9DA",y="#E8F3EC",x="#01B595",w="#218799",E="#FEF2ED",O="#FCE7DD",j="#EE6F70",_="#B2B2B2",S="#757575",k="rgb(204, 84, 84)",P="rgb(204, 84, 84)",C="rgb(59, 89, 152)",I="rgb(29, 49, 91)"},"./src/styles/flex.ts":function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function(e){return{display:"flex",flexDirection:e.flexDirection,justifyContent:e.justifyContent,alignItems:e.alignItems}}},"./src/styles/font.ts":function(e,t,n){"use strict";n.d(t,"m",function(){return i}),n.d(t,"e",function(){return a}),n.d(t,"j",function(){return c}),n.d(t,"p",function(){return l}),n.d(t,"q",function(){return u}),n.d(t,"o",function(){return p}),n.d(t,"f",function(){return g}),n.d(t,"d",function(){return h}),n.d(t,"g",function(){return b}),n.d(t,"l",function(){return v}),n.d(t,"i",function(){return y}),n.d(t,"c",function(){return x}),n.d(t,"b",function(){return w}),n.d(t,"s",function(){return E}),n.d(t,"t",function(){return O}),n.d(t,"h",function(){return j}),n.d(t,"k",function(){return _}),n.d(t,"a",function(){return S}),n.d(t,"r",function(){return k}),n.d(t,"n",function(){return P});var r=n("./src/framework/design-system/util/style/responsiveStyles.ts"),o=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.map(function(e){return-1===e.indexOf(" ")?e:'"'.concat(e,'"')}).join(", ")},i=o("medium-content-title-font","Georgia","Cambria","Times New Roman","Times","serif"),a=o("medium-content-sans-serif-font","Lucida Grande","Lucida Sans Unicode","Lucida Sans","Geneva","Arial","sans-serif"),c=o("medium-content-serif-font","Georgia","Cambria","Times New Roman","Times","serif"),s=o("medium-content-slab-serif-font","Georgia","Cambria","Times New Roman","Times","serif"),l=o("medium-content-title-font","Georgia","Cambria","Times New Roman","Times","serif"),u=o("medium-marketing-display-font","Georgia","Cambria","Times New Roman","Times","serif"),d=o("Menlo","Monaco","Courier New","Courier","monospace"),m=o("medium-content-sans-serif-font","-apple-system","BlinkMacSystemFont","Segoe UI","Roboto","Oxygen","Ubuntu","Cantarell","Open Sans","Helvetica Neue","sans-serif"),f=function(e,t){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(o){var i=(n||{}).fontSize,a={fontFamily:e,fontWeight:t};if(i&&o){var c=Object(r.b)(i,function(e){return"".concat(e,"px")}),s=Object(r.a)(o,{fontSize:c});Object.assign(a,s)}return a}}},p=f(i,400),g=f(a,600),h=f(a,700),b=f(a,300),v=f(c,400),y=f(c,700),x=f(d,700),w=f(s,300),E=f(d,400),O=f(m,400),j=(f(l,500),f(u,500),{xHeight:.342,baseline:.22}),_={xHeight:.375,baseline:.17},S={xHeight:.342,baseline:.22},k={xHeight:0,baseline:0},P={xHeight:.5,baseline:.16}},"./src/styles/mediaTypes.ts":function(e,t,n){"use strict";n.d(t,"c",function(){return r}),n.d(t,"b",function(){return o}),n.d(t,"a",function(){return i});var r=function(e){return"@media print"},o=function(e){return"@media (prefers-reduced-motion: ".concat(e,")")},i=function(e,t,n){var r=2*(t+n+e.grid.xStep*e.grid.marginSteps.lg)+e.maxWidths.inset;return"@media all and (max-width: ".concat(r,"px)")}},"./src/styles/newBreakpoints.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"xs",function(){return r}),n.d(t,"sm",function(){return o}),n.d(t,"md",function(){return i}),n.d(t,"lg",function(){return a}),n.d(t,"xl",function(){return c});var r=function(e){return"@media all and (max-width: ".concat(e.breakpoints.sm-.02,"px)")},o=function(e){return"@media all and "+"(min-width: ".concat(e.breakpoints.sm,"px) and ")+"(max-width: ".concat(e.breakpoints.md-.02,"px)")},i=function(e){return"@media all and "+"(min-width: ".concat(e.breakpoints.md,"px) and ")+"(max-width: ".concat(e.breakpoints.lg-.02,"px)")},a=function(e){return"@media all and "+"(min-width: ".concat(e.breakpoints.lg,"px) and ")+"(max-width: ".concat(e.breakpoints.xl-.02,"px)")},c=function(e){return"@media all and (min-width: ".concat(e.breakpoints.xl,"px)")}},"./src/styles/position.ts":function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function(){return{position:"absolute",top:0,left:0,height:"100%",width:"100%"}}},"./src/styles/theme.ts":function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n("./src/framework/design-system/util/fonts.ts"),o=n("./src/styles/font.ts"),i=n("./src/styles/colors.ts"),a={newFonts:{body:{family:o.j,weight:400,fontSize:{S:18,M:21},lineHeight:{S:28,M:32}},detail:{family:o.e,weight:300,fontSize:{XS:13,S:15,M:16,L:18},lineHeight:{XS:16,S:20,M:20,L:24}},heading:{family:o.e,weight:600,fontSize:{XS:18,S:22,M:28,L:36,XL:48},lineHeight:{XS:20,S:28,M:36,L:40,XL:56}},marketing:{family:o.q,weight:500,fontSize:{XS:18,S:24,M:28,L:32,XXL:70,XXXL:85},lineHeight:{XS:24,S:28,M:32,L:36,XXL:80,XXXL:85}},overline:{family:o.e,weight:300,fontSize:{M:15,L:18},lineHeight:{M:20,L:24}},pullQuote:{family:o.m,weight:400,fontSize:{S:24,M:30},lineHeight:{S:32,M:44}},subtitle:{family:o.e,weight:300,fontSize:{S:16,M:18,L:24},lineHeight:{S:20,M:24,L:32}},title:{family:o.m,weight:400,fontSize:{XS:24,S:30,M:40,L:48,XL:66},lineHeight:{XS:32,S:40,M:48,L:60,XL:72}}},scale:{ui:"REGULAR"},breakpoints:{xs:0,sm:552,md:728,lg:904,xl:1080},maxWidths:{inset:680,outset:1032},grid:{xStep:4,yStep:4,gutterSteps:{xs:6,sm:6,md:6,lg:6,xl:6},marginSteps:{xs:6,sm:6,md:6,lg:6,xl:6},xlMaxContentWidth:1080,columnWidth:64,gutterWidth:24},font:{elevate:r.a,marketing:r.d,uiHeavy:r.b,uiRegular:r.c},borderRadius:{regular:4},borderWidth:1,borderWidthThick:2,borderStyle:"solid",backgroundColor:i.B,accentColor:{border:{light:i.p,normal:i.q,dark:i.r,darker:i.s},fill:{light:i.p,normal:i.q,dark:i.r},fillTransparent:{light:i.x(.5),normal:i.x(.75),dark:i.y(.75)},text:{light:i.q,normal:i.r,dark:i.s}},baseColor:{background:{light:i.w(.02),normal:i.w(.05),dark:i.w(.07)},border:{lighter:i.w(.1),light:i.w(.2),normal:i.w(.34),dark:i.w(.54),darker:i.w(.84)},text:{lighter:i.w(.54),light:i.w(.76),normal:i.w(.84),dark:i.w(.9),darker:i.w(.97)},fill:{lighter:i.w(.54),light:i.w(.76),normal:i.w(.84),dark:i.w(.9),darker:i.w(.97)},overlay:{lighter:i.z(.2),light:i.z(.4),normal:i.z(.5),dark:i.z(.95)}},brandColor:{sage:{light:i.k,normal:i.i,dark:i.j},rose:{light:i.h,normal:i.f,dark:i.g}},errorColor:i.m,warnColor:i.A,highlightColor:{light:i.u,normal:i.v,dark:i.t}}},"./src/styles/zIndex.ts":function(e,t,n){"use strict";n.d(t,"b",function(){return r});var r={cardTop1:11,cardTop2:8,cardTop3:7,cardCur:10,cardBottom1:9,cardBottom2:8,cardBottom3:7,foreground:1,cardContainer:2,authorLockup:3,cursor:1e3};t.a={metabar:500,metabarProgress:510,metabarCenter:600,popover:700,modal:800,floating:900,toast:900,loading:1e3,debug:1100,selectionMenu:400}},"./src/svg/logo-wordmark-138x27px.svg":function(e,t,n){"use strict";var r=n("./node_modules/react/index.js"),o=n.n(r);function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var a=o.a.createElement("path",{d:"M130 27V16.96c0-3.26-.15-5.47-2.44-5.47-1.16 0-2.13.57-2.86 1.51.22.9.3 1.97.3 3.13 0 2.24.04 5.1 0 7.97 0 .47-.05.58.24.87L127 27h-8V16.96c0-3.3-.46-5.47-2.7-5.47-1.17 0-1.65.65-2.3 1.6V24.1c0 .47-.03.58.3.87L116 27h-8V11.56c0-.47-.07-.58-.36-.9L106 9h8v3.61c.9-2.53 2.44-4.11 5.37-4.11 2.68 0 4.5 1.47 5.26 4.26.83-2.4 3-4.26 6.05-4.26 3.59 0 5.32 2.63 5.32 7.63 0 2.39.04 5.1 0 7.97 0 .47 0 .65.25.87L138 27h-8zm-27-3.04c0 .47-.15.61.18.9L105 27h-8v-4c-.9 2.46-2.96 4-5.64 4-3.58 0-5.36-2.61-5.36-7.54 0-2.39-.04-5 0-7.94 0-.47-.11-.58-.4-.87L84 9h8v9.63c0 3.22.27 5.4 2.3 5.4 1.16 0 2.08-.73 2.7-1.63V11.56c0-.47-.13-.58-.42-.9L95 9h8v14.96zM78 .24a3.25 3.25 0 0 1 3.25 3.25A3.25 3.25 0 1 1 78 .25zM75 27V11.56c0-.47.17-.58-.12-.9L73 9h8v15.1c0 .47-.01.68.24.9L83 27h-8zM64 11.7a3.1 3.1 0 0 0-2.4-1.12c-1.95 0-3.84 1.78-3.84 7.03 0 4.93 1.63 6.67 3.66 6.67.9 0 1.85-.43 2.58-1.38V11.7zM70 24c0 .46-.03.57.3.86L72 27h-8v-3.7c-1.09 2.5-3.05 3.7-5.37 3.7-4.13 0-7.13-3.26-7.13-9.2 0-5.59 3.25-9.32 7.78-9.32 2.36 0 3.92 1.12 4.72 2.9v-7.5c0-.47-.08-.62-.4-.9L62 1.3 70 .3v23.7zm-26.1-8c.04-.47.04-.67.04-.81 0-4.75-.94-5.44-2.44-5.44s-2.85 1-2.93 6.25h5.33zm-5.33 1c0 4.71 2.4 6.63 5.19 6.63 2.17 0 4.3-.94 5.5-3.33h.08c-.95 4.56-3.77 6.7-8.01 6.7-4.57 0-8.88-2.75-8.88-9.13 0-6.7 4.28-9.39 9.1-9.39 3.84 0 7.93 1.81 7.93 7.65 0 .1 0 .44-.03.87H38.57zM31.5 27h-12l2.39-2.65c.08-.08.11-.4.11-.87V7l-7.87 20L5.58 8.37c-.22-.47-.4-1.08-.58-1.6v13.85c0 .58-.04.65.36 1.2L9 27H0l3.64-5.18c.4-.55.36-.62.36-1.2V6.27c0-.62.1-.69-.2-1.05L1 1h8.5l7.35 16.3L23.24 1h8.26l-2.2 2.75c-.33.33-.3.6-.3 1.1V23.5c0 .47 0 .75.14.87L31.5 27z"});t.a=function(e){return o.a.createElement("svg",i({width:138,height:27,viewBox:"0 0 138 27"},e),a)}},"./src/svg/search-25px.svg":function(e,t,n){"use strict";var r=n("./node_modules/react/index.js"),o=n.n(r);function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var a=o.a.createElement("path",{d:"M20.07 18.93l-4.16-4.15a6 6 0 1 0-.88.88l4.15 4.16a.62.62 0 1 0 .89-.89zM6.5 11a4.75 4.75 0 1 1 9.5 0 4.75 4.75 0 0 1-9.5 0z"});t.a=function(e){return o.a.createElement("svg",i({width:25,height:25,viewBox:"0 0 25 25"},e),a)}},"./src/svg/star-15px.svg":function(e,t,n){"use strict";var r=n("./node_modules/react/index.js"),o=n.n(r);function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var a=o.a.createElement("path",{d:"M7.44 2.32c.03-.1.09-.1.12 0l1.2 3.53a.29.29 0 0 0 .26.2h3.88c.11 0 .13.04.04.1L9.8 8.33a.27.27 0 0 0-.1.29l1.2 3.53c.03.1-.01.13-.1.07l-3.14-2.18a.3.3 0 0 0-.32 0L4.2 12.22c-.1.06-.14.03-.1-.07l1.2-3.53a.27.27 0 0 0-.1-.3L2.06 6.16c-.1-.06-.07-.12.03-.12h3.89a.29.29 0 0 0 .26-.19l1.2-3.52z"});t.a=function(e){return o.a.createElement("svg",i({className:"star-15px_svg__svgIcon-use",width:15,height:15,viewBox:"0 0 15 15"},e),a)}},"./src/svg/twitter-filled-25px.svg":function(e,t,n){"use strict";var r=n("./node_modules/react/index.js"),o=n.n(r);function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var a=o.a.createElement("path",{d:"M20.5 6.25c-.67.41-1.4.7-2.18.87a3.45 3.45 0 0 0-5.02-.1 3.49 3.49 0 0 0-1.02 2.47c0 .27.03.54.07.8a9.91 9.91 0 0 1-7.17-3.67 3.9 3.9 0 0 0-.5 1.74 3.6 3.6 0 0 0 1.56 2.92 3.36 3.36 0 0 1-1.55-.44v.06c0 1.67 1.2 3.08 2.8 3.42-.3.06-.6.1-.94.12l-.62-.06a3.5 3.5 0 0 0 3.24 2.43 7.34 7.34 0 0 1-4.36 1.5L4 18.24a9.96 9.96 0 0 0 5.36 1.56c6.4 0 9.91-5.32 9.9-9.9v-.5c.69-.48 1.28-1.1 1.74-1.8-.63.29-1.3.48-2 .55a3.33 3.33 0 0 0 1.5-1.93"});t.a=function(e){return o.a.createElement("svg",i({width:25,height:25,viewBox:"0 0 25 25"},e),a)}},"./src/svg/x-25px.svg":function(e,t,n){"use strict";var r=n("./node_modules/react/index.js"),o=n.n(r);function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var a=o.a.createElement("path",{d:"M18.13 6.11l-5.61 5.61-5.6-5.61-.81.8 5.61 5.61-5.61 5.61.8.8 5.61-5.6 5.61 5.6.8-.8-5.6-5.6 5.6-5.62"});t.a=function(e){return o.a.createElement("svg",i({width:25,height:25,viewBox:"0 0 25 25"},e),a)}},"./src/util/CopyUrl.tsx":function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),o=n.n(r),i=n("./node_modules/react/index.js"),a=n("./src/framework/design-system/components/index.ts"),c=function(e){var t=e.url,n=e.onCopy,r=e.children,c=e.flexGrow,s=i.useState(!1),l=o()(s,2),u=l[0],d=l[1],m=i.useState(null),f=o()(m,2),p=f[0],g=f[1],h=i.useRef(null);i.useEffect(function(){return function(){clearTimeout(p)}},[]);var b=i.useCallback(function(){n&&n();var e=h.current;if(e){if(e.disabled=!1,e.select(),e){var t=document.createRange();t.selectNode(e),window.getSelection().addRange(t),e.setSelectionRange(0,e.value.length),document.execCommand("copy"),window.getSelection().removeAllRanges()}e.disabled=!0,d(!0),clearTimeout(p),g(setTimeout(function(){return d(!1)},2e3))}});return i.createElement(a.b,{display:"flex",alignItems:"flex-start",flexGrow:c},i.createElement("form",null,i.createElement("input",{disabled:!0,readOnly:!0,type:"text",ref:h,value:t,style:{position:"fixed",top:"-100vh"}}),i.createElement(a.u,{onClick:function(e){e.preventDefault(),b()},linkStyle:"OBVIOUS"},r(u))))}},"./src/util/LocalStorage.ts":function(e,t,n){"use strict";n.d(t,"a",function(){return m});var r=n("./node_modules/@babel/runtime/helpers/classCallCheck.js"),o=n.n(r),i=n("./node_modules/@babel/runtime/helpers/createClass.js"),a=n.n(i),c=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),s=n.n(c),l=n("./src/log/index.ts"),u=function(){var e=!1;try{window.localStorage||(e=!1),window.localStorage.setItem("storage-test","1"),e=!!window.localStorage.getItem("storage-test")}catch(t){e=!1}finally{return e&&window.localStorage.removeItem("storage-test"),e}}(),d=function(){function e(){o()(this,e),s()(this,"data",void 0),this.data={}}return a()(e,[{key:"setItem",value:function(e,t){this.data[e]=t}},{key:"getItem",value:function(e){return this.data[e]}},{key:"removeItem",value:function(e){delete this.data[e]}}]),e}(),m=function(){function e(t){o()(this,e),s()(this,"prefix",void 0),s()(this,"storage",void 0),this.prefix=t,this.storage=u?window.localStorage:e.fallbackStorage}return a()(e,[{key:"withPrefix",value:function(e){return"".concat(this.prefix,"|").concat(e)}},{key:"set",value:function(e,t){this.storage.setItem(this.withPrefix(e),JSON.stringify(t))}},{key:"get",value:function(e,t){var n=this.storage.getItem(this.withPrefix(e));if(n)try{return JSON.parse(n)}catch(t){l.a.warn({msg:"Error parsing JSON from LocalStorage",err:t,key:e})}return t}},{key:"getItems",value:function(e){var t=this,n=this.storage instanceof d?this.storage.data:this.storage,r=Object.keys(n);return r.sort(),r.reduce(function(n,r){return void 0!==e&&Object.keys(n).length>=e?n:r.startsWith(t.prefix)&&(r=r.split("|")[1])?(n[r]=t.get(r),n):n},{})}},{key:"remove",value:function(e){this.storage.removeItem(this.withPrefix(e))}},{key:"getKeys",value:function(){var e=[],t=this.withPrefix(""),n=this.storage;for(var r in n)0===r.indexOf(t)&&e.push(r.slice(t.length));return e.sort(),e}},{key:"getCount",value:function(){return this.getKeys().length}},{key:"clean",value:function(){var e=this;this.getKeys().forEach(function(t){return e.remove(t)})}}]),e}();s()(m,"fallbackStorage",new d)},"./src/util/constants.ts":function(e,t,n){"use strict";n.d(t,"c",function(){return r}),n.d(t,"b",function(){return o}),n.d(t,"a",function(){return i}),n.d(t,"d",function(){return a});var r=1e3,o=3600*r,i=24*o,a=7*i},"./src/util/dom.ts":function(e,t,n){"use strict";function r(e){return e.getBoundingClientRect()}function o(e){var t=c();return{left:e.left+t.left,top:e.top+t.top,width:e.width,height:e.height}}function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.left||0,r=t.top||0,o=t.right||0,i=t.bottom||0;return{left:e.left+n,top:e.top+r,width:e.width-n+o,height:e.height-r+i}}function a(){return{left:0,top:0,width:window.innerWidth,height:window.innerHeight}}function c(){var e=document.documentElement||{},t=document.body||{};return{left:e.scrollLeft||t.scrollLeft||0,top:e.scrollTop||t.scrollTop||0,width:e.scrollWidth||t.scrollWidth||0,height:e.scrollHeight||t.scrollHeight||0}}function s(e){return l(a(),e)}function l(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=Math.max(e.left,t.left),o=Math.max(e.top,t.top),i=Math.min(e.left+e.width,t.left+t.width);return Math.min(e.top+e.height,t.top+t.height)-o>=-n&&i-r>=-n}function u(){return"undefined"!=typeof window&&window.devicePixelRatio||2}n.d(t,"a",function(){return r}),n.d(t,"d",function(){return o}),n.d(t,"h",function(){return i}),n.d(t,"e",function(){return a}),n.d(t,"c",function(){return c}),n.d(t,"g",function(){return s}),n.d(t,"f",function(){return l}),n.d(t,"b",function(){return u})},"./src/util/glyph.ts":function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function(e){var t=e.fontFamilyPath,n=void 0===t?"/e/sr/latin/e/ssr/latin/e/ssb/latin":t,r=e.glyphFontSet,o=e.glyphUrl,i=e.isAmp,a="".concat(o,"/css");return"".concat(a).concat(i?"":n,"/").concat(r,".css")}},"./src/util/hooks/useIsomorphicLayoutEffect.tsx":function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n("./node_modules/react/index.js"),o=n("./node_modules/exenv/index.js"),i=n.n(o).a.canUseDOM?r.useLayoutEffect:r.useEffect},"./src/util/hooks/useScript.tsx":function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),o=n.n(r),i=n("./node_modules/react/index.js"),a=new Set,c=function(e,t){var n=i.useState({loaded:!1,error:!1}),r=o()(n,2),c=r[0],s=r[1];return i.useEffect(function(){if(!a.has(e)){a.add(e);var n=document.createElement("script");n.src=e,n.async=!0,t&&(n=Object.assign(n,t));var r=function(){s({loaded:!0,error:!1})},o=function(){a.has(e)&&a.delete(e),n.remove(),s({loaded:!0,error:!0})};return n.addEventListener("load",r),n.addEventListener("error",o),document.body.appendChild(n),function(){n.removeEventListener("load",r),n.removeEventListener("error",o)}}s({loaded:!0,error:!1})},[e]),[c.loaded,c.error]}},"./src/util/hooks/useUserAgentMobileOrTablet.tsx":function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),o=n.n(r),i=n("./node_modules/react/index.js"),a=n("./src/util/useragent.ts"),c=function(){var e=i.useState(!1),t=o()(e,2),n=t[0],r=t[1];return i.useEffect(function(){r(Object(a.b)(navigator.userAgent))},[]),n}},"./src/util/miroImage.ts":function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"d",function(){return a}),n.d(t,"b",function(){return c}),n.d(t,"e",function(){return s}),n.d(t,"c",function(){return l});var r,o=n("./src/util/dom.ts");!function(e){e.Resample="RESAMPLE",e.Crop="CROP",e.Letterbox="LETTERBOX",e.Proxy="PROXY"}(r||(r={}));var i=/@2x\.\w+$/,a=function(e){var t=e.miroId,n=e.width,i=e.height,a=e.strategy,c=e.cropType,s=void 0===c?"c":c,l=e.blur,u=e.verticalGradient,d=e.darken,m=e.lighten,f=e.freezeGifs,p=void 0===f||f,g=e.focusPercentX,h=e.focusPercentY,b=e.ignorePixelRatio,v=void 0!==b&&b,y=e.leftPosition,x=void 0===y?0:y,w=e.topPosition,E=void 0===w?0:w,O=e.quality,j=[r.Resample,r.Proxy];if(void 0===i&&a&&!j.includes(a))throw new Error("MiroUrl: Expected a height param when using ".concat(a," but none given."));i=Math.round(i||0),n=Math.round(n);var _=[],S=[];_.push("https://miro.medium.com");var k=g&&g>=0&&h&&h>=0;/\.gif$/.test(t)&&p&&_.push("freeze");var P=v?1:Object(o.b)(),C=Math.round(n*P),I=Math.round(i*P);switch(a){case"CROP":k?(g=Math.round(g||0),h=Math.round(h||0),_.push("focal",C,I,g,h)):_.push("fit",s,C,I);break;case"LETTERBOX":_.push("letterbox",C,I,x,E);break;case"RESAMPLE":_.push("max",C);break;case"PROXY":default:_.push("proxy")}if(u){var L=u.start,A=u.end,T=u.opacity;_.push("gradv",L,A,T)}d&&_.push("darken",d),m&&_.push("lighten",m),l&&_.push("blur",l),O&&S.push("q=".concat(O)),_.push(t);var N=S.join("&");return _.join("/")+(N?"?".concat(N):"")},c=function(e){var t=e.miroId,n=e.aspectRatio,o=e.croppedWidth,i=e.originalWidth,c=e.originalHeight,s=e.focusPercentX,l=e.focusPercentY;return a(s&&l&&(i&&c&&c*n>o)?{focusPercentX:s,focusPercentY:l,height:Math.round(o/n),ignorePixelRatio:!0,miroId:t,strategy:r.Crop,width:o}:{miroId:t,strategy:r.Resample,width:o,ignorePixelRatio:!0})},s=function(e){var t=e.miroId,n=e.width,o=e.height;return a({miroId:t,width:n*(n/o>1?30/n:30/o),freezeGifs:!0,strategy:r.Resample,quality:20})},l=function(e){return i.test(e)}},"./src/util/navigation.ts":function(e,t,n){"use strict";n.d(t,"f",function(){return l}),n.d(t,"c",function(){return u}),n.d(t,"d",function(){return d}),n.d(t,"e",function(){return m}),n.d(t,"a",function(){return f}),n.d(t,"b",function(){return p});var r=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),o=n.n(r),i=n("./node_modules/url/url.js"),a=n.n(i),c=n("./node_modules/querystring-es3/index.js");function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function l(e,t){var n=a.a.parse(e,!1,!0);return!!n&&(!n.hostname||n.hostname===t)}function u(e){var t=a.a.parse(e,!1,!0);return t&&t.hostname||""}function d(e){var t=a.a.parse(e,!1,!0);return t&&t.path?t.path:""}function m(e,t,n){var r=a.a.parse(e,!1,!0);return n.pathname+(n.search||"")===r.path&&(!r.hostname||r.hostname===t)}function f(e,t){var n=Object(i.parse)(e),r=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(n,!0).forEach(function(t){o()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},Object(c.parse)(n.query||""),{},t);return n.search="?".concat(Object(c.stringify)(r)),Object(i.format)(n)}function p(e,t){return"https://".concat(e).concat(t)}},"./src/util/numbers.ts":function(e,t,n){"use strict";n.d(t,"d",function(){return c}),n.d(t,"f",function(){return s}),n.d(t,"b",function(){return l}),n.d(t,"c",function(){return u}),n.d(t,"a",function(){return d}),n.d(t,"g",function(){return m}),n.d(t,"e",function(){return f});var r=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),o=n.n(r),i=n("./node_modules/@babel/runtime/helpers/toConsumableArray.js"),a=n.n(i);function c(e){if(isNaN(e))return String(e);for(var t=["","K","M"],n=e=e?Math.round(e):0,r=e%1e3/1e3,o=0;e>999&&o<t.length;o++)r=e%1e3,n=e,e=Math.floor(e/1e3);if(o>=t.length)return n+t[t.length-1];for(var i=e+1,a=0;i%10==0&&a<9;a++)i/=10;var c=-1!==[1,2,5,null].indexOf(i),s=e<100&&c,l=e<20||c&&!s;return e+(s&&r>=990?".99":s&&r>=980?".98":s&&r>=970?".97":s&&r>=960?".96":s&&r>=950?".95":s&&r>=940?".94":s&&r>=930?".93":s&&r>=920?".92":s&&r>=910?".91":(s||l)&&r>=900?".9":l&&r>=800?".8":l&&r>=700?".7":l&&r>=600?".6":l&&r>=500?".5":l&&r>=400?".4":l&&r>=300?".3":l&&r>=200?".2":l&&r>=100?".1":"")+t[o]}function s(e){return Math.max(1,Math.ceil(e))}function l(e){return null===e?"N/A":e<60?"".concat(e%60," sec"):e%60!=0?"".concat(Math.round(e/60)," min ").concat(e%60," sec"):"".concat(Math.round(e/60)," min")}function u(e){var t=Math.floor(e/60),n=Math.floor(e%60),r=t<1?Math.round(60*(e-n)):0;return e<1?"".concat(Math.round(r)," sec"):(t>0?"".concat(t," hr "):"")+"".concat(n," min")+(t<1?" ".concat(r," sec"):"")}function d(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"USD";if("USD"===t)return"$".concat(e.toFixed(2).replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,"));throw new Error("Unsupported currency: ".concat(t))}function m(e){return e.toLocaleString()}function f(e){var t,n=function(e){return Number(e)||0},r=function(e){return 0===e.length},i=function(e){return function(t){return t.slice(0,e)}},c=function(e){return function(t){return function(n){return e(t(n))}}},s=["","one","two","three","four","five","six","seven","eight","nine","ten","eleven","twelve","thirteen","fourteen","fifteen","sixteen","seventeen","eighteen","nineteen"],l=["","","twenty","thirty","forty","fifty","sixty","seventy","eighty","ninety"],u=["","thousand","million","billion","trillion","quadrillion","quintillion","sextillion","septillion","octillion","nonillion"],d=String(e);return"0"===d?"zero":c(function e(t){return function(n){return r(n)?[]:[i(t)(n)].concat(a()(e(t)(function(e){return function(t){return t.slice(e)}}(t)(n))))}}(3))(function(e){return e.slice(0).reverse()})((t=d,t.split(""))).map(function(e){var t=o()(e,3),r=t[0],i=t[1],a=t[2];return[0===n(a)?"":s[a]+" hundred ",0===n(r)?l[i]:l[i]&&l[i]+"-"||"",s[i+r]||s[r]].join("")}).map(function(e,t){return""===e?e:"".concat(e," ").concat(u[t])}).filter(c(function(e){return!e})(r)).reverse().join(" ").trim()}},"./src/util/performance.ts":function(e,t,n){"use strict";n.d(t,"a",function(){return l}),n.d(t,"d",function(){return d}),n.d(t,"b",function(){return m}),n.d(t,"c",function(){return p});var r=n("./node_modules/@babel/runtime/helpers/classCallCheck.js"),o=n.n(r),i=n("./node_modules/@babel/runtime/helpers/createClass.js"),a=n.n(i),c=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),s=n.n(c),l=function(){function e(t,n){o()(this,e),s()(this,"start",void 0),s()(this,"end",void 0),this.start=t,this.end=n}return a()(e,null,[{key:"fromTiming",value:function(t,n){var r=window.performance.timing;return new e(r[t],r[n])}},{key:"fromEntry",value:function(t,n){var r=window.performance.timing,o=r.navigationStart+n.startTime+n.duration;return new e(r[t],o)}}]),a()(e,[{key:"duration",get:function(){return this.end-this.start}}]),e}(),u=function(){function e(){o()(this,e),s()(this,"result",void 0),s()(this,"observers",void 0),this.result=null,this.observers=[]}return a()(e,[{key:"observe",value:function(e){null!=this.result?e(this.result):this.observers.push(e)}},{key:"set",value:function(e){this.result=e;var t=!0,n=!1,r=void 0;try{for(var o,i=this.observers[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){(0,o.value)(e)}}catch(e){n=!0,r=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}}}]),e}(),d=new u,m=new u,f=function(){if(!window.performance||!window.performance.timing)return null;var e=null;if(window.performance.getEntriesByName){var t=window.performance.getEntriesByName("first-contentful-paint","paint");t.length>0&&(e=t[0])}var n={beforeDomainLookup:l.fromTiming("navigationStart","domainLookupStart"),domainLookup:l.fromTiming("domainLookupStart","domainLookupEnd"),connect:l.fromTiming("connectStart","connectEnd"),request:l.fromTiming("requestStart","responseStart"),response:l.fromTiming("responseStart","responseEnd"),load:l.fromTiming("navigationStart","loadEventStart"),processing:l.fromTiming("domLoading","loadEventStart")};return null!=e&&Object.assign(n,{overallFCP:l.fromEntry("navigationStart",e),client:l.fromEntry("responseStart",e),render:l.fromEntry("responseEnd",e)}),n};var p=function(){new Promise(function(e){document&&"complete"!==document.readyState?document.addEventListener("readystatechange",function t(){"complete"===document.readyState&&(document.removeEventListener("readystatechange",t),e())}):e()}).then(function(){setTimeout(function(){return null!=(e=f())&&d.set(e),void(window.perfMetrics&&window.perfMetrics.onFirstInputDelay(function(e,t){var n=window.performance.timing,r=t.timeStamp>1e12?t.timeStamp:n.navigationStart+t.timeStamp,o=r+e;m.set({first:new l(r,o)})}));var e},0)})}},"./src/util/referrers.ts":function(e,t,n){"use strict";n.d(t,"c",function(){return m}),n.d(t,"a",function(){return f}),n.d(t,"b",function(){return p});var r=n("./node_modules/url/url.js"),o=n.n(r),i=/(https?|android-app):\/\/(m\.|www\.|l\.|lm\.|search\.|)(bing|duckduckgo|yahoo|yandex)(\.com|\.ru|\.co\.jp)/,a=/(https?|android-app):\/\/(www\.|)google(\.co[m]?|)(\.[a-z]*|)/,c=/android-app:\/\/com\.google\.android\.(googlequicksearchbox|gm)/,s=["twitter.com","t.co","twitterrific.com"],l=["www.facebook.com","facebook.com"],u=["news.google.com","news.url.google.com"],d=function(e){return o.a.parse(e).hostname},m=function(e){return!!e&&s.includes(d(e)||"")},f=function(e){return!!e&&l.includes(d(e)||"")},p=function(e,t){if(!e)return!1;var n=d(e)||"";return!!(u.includes(n)||i.test(e)||t&&t.includes("acceleratedMobilePages")||a.test(e)||c.test(e))}},"./src/util/routes.ts":function(e,t,n){"use strict";n.d(t,"d",function(){return u}),n.d(t,"f",function(){return d}),n.d(t,"c",function(){return m}),n.d(t,"e",function(){return f}),n.d(t,"m",function(){return p}),n.d(t,"l",function(){return g}),n.d(t,"H",function(){return h}),n.d(t,"I",function(){return b}),n.d(t,"J",function(){return v}),n.d(t,"o",function(){return y}),n.d(t,"P",function(){return x}),n.d(t,"U",function(){return w}),n.d(t,"V",function(){return E}),n.d(t,"a",function(){return O}),n.d(t,"Z",function(){return j}),n.d(t,"Q",function(){return _}),n.d(t,"Y",function(){return S}),n.d(t,"M",function(){return k}),n.d(t,"bb",function(){return P}),n.d(t,"eb",function(){return C}),n.d(t,"gb",function(){return I}),n.d(t,"fb",function(){return L}),n.d(t,"hb",function(){return A}),n.d(t,"kb",function(){return T}),n.d(t,"lb",function(){return N}),n.d(t,"mb",function(){return R}),n.d(t,"nb",function(){return U}),n.d(t,"ob",function(){return D}),n.d(t,"qb",function(){return M}),n.d(t,"pb",function(){return H}),n.d(t,"rb",function(){return B}),n.d(t,"sb",function(){return F}),n.d(t,"xb",function(){return z}),n.d(t,"yb",function(){return q}),n.d(t,"zb",function(){return V}),n.d(t,"Ab",function(){return W}),n.d(t,"Bb",function(){return G}),n.d(t,"Eb",function(){return Y}),n.d(t,"Db",function(){return K}),n.d(t,"Fb",function(){return X}),n.d(t,"Ib",function(){return $}),n.d(t,"Jb",function(){return Q}),n.d(t,"Pb",function(){return J}),n.d(t,"Lb",function(){return Z}),n.d(t,"Rb",function(){return ee}),n.d(t,"Kb",function(){return te}),n.d(t,"Ob",function(){return ne}),n.d(t,"Qb",function(){return re}),n.d(t,"Nb",function(){return oe}),n.d(t,"Mb",function(){return ie}),n.d(t,"Hb",function(){return ae}),n.d(t,"X",function(){return ce}),n.d(t,"W",function(){return se}),n.d(t,"bc",function(){return le}),n.d(t,"cc",function(){return ue}),n.d(t,"dc",function(){return de}),n.d(t,"Xb",function(){return me}),n.d(t,"Sb",function(){return fe}),n.d(t,"Vb",function(){return pe}),n.d(t,"Tb",function(){return ge}),n.d(t,"Ub",function(){return he}),n.d(t,"Wb",function(){return be}),n.d(t,"Yb",function(){return ve}),n.d(t,"ac",function(){return ye}),n.d(t,"Zb",function(){return xe}),n.d(t,"ec",function(){return we}),n.d(t,"q",function(){return Oe}),n.d(t,"z",function(){return je}),n.d(t,"p",function(){return _e}),n.d(t,"y",function(){return Se}),n.d(t,"x",function(){return ke}),n.d(t,"r",function(){return Pe}),n.d(t,"u",function(){return Ce}),n.d(t,"t",function(){return Ie}),n.d(t,"v",function(){return Le}),n.d(t,"s",function(){return Ae}),n.d(t,"w",function(){return Te}),n.d(t,"A",function(){return Ne}),n.d(t,"O",function(){return Re}),n.d(t,"T",function(){return Ue}),n.d(t,"K",function(){return De}),n.d(t,"L",function(){return Me}),n.d(t,"C",function(){return He}),n.d(t,"D",function(){return Be}),n.d(t,"E",function(){return Fe}),n.d(t,"F",function(){return ze}),n.d(t,"jb",function(){return qe}),n.d(t,"G",function(){return Ve}),n.d(t,"Cb",function(){return We}),n.d(t,"ib",function(){return Ge}),n.d(t,"b",function(){return Ye}),n.d(t,"S",function(){return Ke}),n.d(t,"Gb",function(){return Xe}),n.d(t,"wb",function(){return $e}),n.d(t,"j",function(){return Qe}),n.d(t,"R",function(){return Je}),n.d(t,"h",function(){return Ze}),n.d(t,"n",function(){return et}),n.d(t,"tb",function(){return tt}),n.d(t,"ub",function(){return nt}),n.d(t,"vb",function(){return rt}),n.d(t,"k",function(){return ot}),n.d(t,"db",function(){return it}),n.d(t,"i",function(){return at}),n.d(t,"g",function(){return ct}),n.d(t,"N",function(){return st}),n.d(t,"cb",function(){return lt}),n.d(t,"ab",function(){return ut}),n.d(t,"B",function(){return dt});var r=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),o=n.n(r),i=n("./node_modules/graphql-tag/src/index.js"),a=n.n(i),c=n("./node_modules/url/url.js"),s=n.n(c);function l(){var e=o()(["\n  fragment collectionUrl_collection on Collection {\n    id\n    domain\n    slug\n  }\n"]);return l=function(){return e},e}var u=function(e,t){return"https://".concat(e,"/amp/p/").concat(t)},d=function(e){return"//".concat(e,"/_/stat?referrerSource=acceleratedMobilePages")},m=function(e){return"${base}&postId=${postId}&event=post.clientViewed&pageViewId=${pageViewId}&requestCount=${requestCount}&timestamp=${timestamp}"},f=function(e){return"${base}&postId=${postId}&event=amp.scrollPing&collectionId=${collectionId}&scrollTop=${scrollTop}&scrollableHeight=${scrollableHeight}&totalEngagedTime=${totalEngagedTime}&verticalScrollBoundary=${verticalScrollBoundary}&location=${canonicalUrl}&scrollWidth=${scrollWidth}&pageViewId=${pageViewId}&requestCount=${requestCount}&timestamp=${timestamp}"},p=function(e){return"https://".concat(e,"/browse/bookmarks")},g=function(e){return"/_/bookmark/p/".concat(e)},h=function(){return"/_/oh-noes"},b=function(e,t){return"//".concat(e,"/p/").concat(t,"/share/facebook")},v=function(e){return"/_/subscriptions/topic/".concat(e,"/")},y=function(){return"/_/subscriptions/bulk"},x=function(){return"/"},w=function(e,t){return"//".concat(e,"/p/").concat(t,"/share/linkedIn")},E=function(e,t){return"https://".concat(e,"/media/").concat(t)},O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.authDomain,n=e.autoplay,r=void 0===n||n;return"https://".concat(t,"/about").concat(r?"?autoplay=1":"")},j=function(e,t){return"https://".concat(e,"/new-story")+(t&&t.inResponseToQuoteId?"?inResponseToQuoteId=".concat(t.inResponseToQuoteId):"")},_=function(){return"/p/import"},S=function(e){return"https://".concat(e,"/membership")},k=function(e){return"https://".concat(e,"/gift-checkout")},P=function(e){return"https://".concat(e,"/creators")},C=function(e){return e?"/p/".concat(e.id,"/edit"):""},I=function(e,t){return e?e.mediumUrl||(t?"/".concat(e.id):"/p/".concat(e.id)):""},L=function(e,t){return"https://".concat(e,"/p/").concat(t,"/edit")},A=function(e,t){return"https://".concat(e,"/p/").concat(t)},T=function(e){return"/_/p/".concat(e,"/quotes/create")},N=function(){return"/search"},R=function(e,t,n){var r=n?"".concat(N(),"/").concat(n):"".concat(N());return t?"/".concat(t).concat(r,"?q=").concat(e):"".concat(r,"?q=").concat(e)},U=function(e){return"/s/".concat(e)},D=function(e){return"/series/".concat(e)},M=function(e){return"/m/signout/".concat(e)},H=function(e,t){return"https://".concat(e,"/m/signin?operation=login").concat(t?"&redirect=".concat(encodeURIComponent(t)):"")},B=function(e,t){return"https://".concat(e,"/m/signin?operation=register").concat(t?"&redirect=".concat(encodeURIComponent(t)):"")},F=function(e,t){return"https://".concat(e,"/p/").concat(t,"/responses/show")},z=function(e){return"/_/subscribe/collection/".concat(e)},q=function(e,t){return"/_/subscribe/collection/".concat(e,"/").concat(t)},V=function(e){return"/_/subscribe/user/".concat(e)},W=function(e,t){return"/_/subscribe/user/".concat(e,"/").concat(t)},G=function(e){return"/tag/".concat(e)},Y=function(e){return"https://".concat(e,"/topics")},K=function(e,t){return"https://".concat(e,"/topic/").concat(t)},X=function(e,t){return"//".concat(e,"/p/").concat(t,"/share/twitter")},$=function(e){return"/_/vote/p/".concat(e)},Q=function(e,t){return"/_/vote/".concat(e,"/").concat(t)},J=function(e){return"/@".concat(e)},Z=function(e){return"/@".concat(e,"/edit")},ee=function(e){return"/@".concat(e,"/series")},te=function(e){return"/@".concat(e,"/has-recommended")},ne=function(e){return"/@".concat(e,"/highlights")},re=function(e){return"/@".concat(e,"/responses")},oe=function(e){return"/@".concat(e,"/following")},ie=function(e){return"/@".concat(e,"/followers")},ae=function(e){return"https://".concat(e,"/upgrade")},ce=function(e,t){return"https://".concat(e).concat(J(t))},se=function(e,t){return"https://".concat(e).concat(function(e){return"/u/".concat(e)}(t))},le=function(){return"/me/stories/drafts"},ue=function(){return"/me/stories/public"},de=function(){return"/me/stories/unlisted"},me=function(){return"/me/settings#account"},fe=function(e){return"https://".concat(e,"/me/following/suggestions")},pe=function(e){return"https://".concat(e,"/me/list/queue")},ge=function(e){return"https://".concat(e,"/me/partner/dashboard")},he=function(e){return"https://".concat(e,"/me/publications")},be=function(e){return"https://".concat(e,"/me/series/drafts")},ve=function(e){return"https://".concat(e,"/me/settings")},ye=function(e){return"https://".concat(e,"/me/stats")},xe=function(e,t){return"https://".concat(e,"/me/stats/post/").concat(t)},we=function(e){return"https://".concat(e,"/me/stories")},Ee=function(e){return e.slug?"/".concat(e.slug):"/c/".concat(e.id)},Oe=function(e){return"/c/".concat(e)},je=function(e,t){var n=s.a.parse(t).port;return e.domain?"https://".concat(e.domain).concat(n?":".concat(n):""):Ee(e)},_e=function(e,t){return"https://".concat(t).concat(Ee(e),"/new-story")},Se=function(e,t){return"https://".concat(t).concat(Ee(e),"/stories/submissions")},ke=function(e,t){return"".concat(je(e,t),"/stats/overview")},Pe=function(e,t){return"https://".concat(t).concat(Ee(e),"/settings/dashboard")},Ce=function(e,t){return"https://".concat(t).concat(Ee(e),"/settings/letters")},Ie=function(e,t){return"https://".concat(t).concat(Ee(e),"/settings/followers")},Le=function(e,t){return"https://".concat(t).concat(Ee(e),"/settings/navigation")},Ae=function(e,t){return"https://".concat(t).concat(Ee(e),"/settings/feature-pages")},Te=function(e,t){return"https://".concat(t).concat(Ee(e),"/settings")},Ne=a()(l()),Re=function(){return"https://help.medium.com"},Ue=function(){return"https://medium.com/policy/9db0094a1e0f"},De=function(){return"https://help.medium.com/hc/en-us/articles/360006543813"},Me=function(){return"https://help.medium.com/hc/en-us/articles/360006543813-Friend-Links"},He=function(){return"https://help.medium.com/hc/en-us/articles/360006362473"},Be=function(){return"https://help.medium.com/hc/en-us/articles/360009297694-Frequently-asked-questions-about-distribution-on-Medium"},Fe=function(){return"https://help.medium.com/hc/en-us/articles/360018834314"},ze=function(){return"https://help.medium.com/hc/en-us/articles/360018834334"},qe=function(){return"https://help.medium.com/hc/en-us/articles/214035868-Leave-a-note"},Ve=function(){return"https://help.medium.com/hc/en-us/articles/360036691193"},We=function(){return"https://medium.com/policy/9db0094a1e0f"},Ge=function(){return"https://medium.com/policy/f03bf92035c9"},Ye=function(){return"https://about.medium.com"},Ke=function(){return"https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e"},Xe=function(e){return"https://twitter.com/".concat(e)},$e=function(){return"https://medium.statuspage.io"},Qe=function(){return"/m/app"},Je=function(){return"https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8"},Ze=function(){return"https://play.google.com/store/apps/details?id=com.medium.reader"},et=function(e){return"https://cdn-videos-1.medium.com/".concat(e[0],"/").concat(e[1],"/").concat(e[2],"/").concat(e,"/dash/manifest.mpd")},tt=function(e){return"//".concat(e,"/m/connect/facebook")},nt=function(e){return"//".concat(e,"/m/connect/google")},rt=function(e){return"//".concat(e,"/m/account/authenticate-twitter")},ot=function(){return"/_/batch"},it=function(e){return"/_/lite/performance/".concat(e)},at=function(e){return"medium://p/".concat(e)},ct=function(e){return"android-app://com.medium.reader/".concat(e.replace("https://","https/"))},st=function(e){return"//".concat(e,"/m/callback/google")},lt=function(){return"/me/partner/taxes"},ut=function(){return"/me/partner/enroll"},dt=function(){return"https://medium.com/@Medium/licensing-your-work-on-medium-517fa7096e62"}},"./src/util/theme.ts":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),o=n.n(r),i=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),a=n.n(i),c=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),s=n.n(c),l=n("./node_modules/graphql-tag/src/index.js"),u=n.n(l),d=n("./node_modules/lodash/round.js"),m=n.n(d),f=n("./node_modules/lodash/clamp.js"),p=n.n(f),g=/^#([a-fA-F0-9]{2})([a-fA-F0-9]{6})$/,h=function(e){if(!function(e){return g.test(e)}(e))throw new Error("Invalid color string");return[parseInt(e.slice(3,5),16),parseInt(e.slice(5,7),16),parseInt(e.slice(7,9),16),parseInt(e.slice(1,3),16)/255]},b=function(e){return"rgba(".concat(function(e){var t=a()(e,4),n=t[0],r=t[1],o=t[2],i=t[3];return[m()(n),m()(r),m()(o),m()(i,3)]}(e).join(", "),")")},v=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.5;return e*(n=p()(n,0,1))+t*(1-n)},y=n("./src/styles/colors.ts");function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(n,!0).forEach(function(t){o()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function E(){var e=s()(["\n  fragment ThemeUtilTintBackground_collection on Collection {\n    colorPalette {\n      tintBackgroundSpectrum {\n        ...ThemeUtil_colorSpectrum\n      }\n    }\n  }\n  ","\n"]);return E=function(){return e},e}function O(){var e=s()(["\n  fragment ThemeUtilAccent_collection on Collection {\n    colorPalette {\n      defaultBackgroundSpectrum {\n        ...ThemeUtil_colorSpectrum\n      }\n      highlightSpectrum {\n        ...ThemeUtil_colorSpectrum\n      }\n    }\n  }\n  ","\n"]);return O=function(){return e},e}function j(){var e=s()(["\n  fragment ThemeUtil_colorSpectrum on ColorSpectrum {\n    backgroundColor\n    ...ThemeUtilInterpolateHelpers_colorSpectrum\n  }\n  ","\n"]);return j=function(){return e},e}function _(){var e=s()(["\n  fragment ThemeUtilInterpolateHelpers_colorSpectrum on ColorSpectrum {\n    colorPoints {\n      ...ThemeUtil_colorPoint\n    }\n  }\n  ","\n"]);return _=function(){return e},e}function S(){var e=s()(["\n  fragment ThemeUtil_colorPoint on ColorPoint {\n    color\n    point\n  }\n"]);return S=function(){return e},e}n.d(t,"a",function(){return I}),n.d(t,"b",function(){return L}),n.d(t,"c",function(){return N}),n.d(t,"i",function(){return R}),n.d(t,"g",function(){return U}),n.d(t,"f",function(){return D}),n.d(t,"h",function(){return M}),n.d(t,"e",function(){return H}),n.d(t,"d",function(){return B});var k=u()(S()),P=u()(_(),k),C=u()(j(),P),I=u()(O(),C),L=u()(E(),C),A=function(e,t){var n=e.colorPoints;if(!n.length)return[255,255,255,0];for(var r=n.slice().sort(function(e,t){return e.point===t.point?0:e.point<t.point?-1:1}),o=0;r[o+1]&&Math.abs(t-r[o+1].point)<Math.abs(t-r[o].point);)o+=1;var i=r[o];if(t===i.point)return h(i.color);var c=t>i.point?[r[o],r[o+1]]:[r[o-1],r[o]],s=a()(c,2),l=s[0],u=s[1];if(null==l||null==u||l.point===u.point)return h(i.color);var d=(t-l.point)/(u.point-l.point);return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.5,r=a()(e,4),o=r[0],i=r[1],c=r[2],s=r[3],l=a()(t,4),u=l[0],d=l[1],m=l[2],f=l[3];return[v(o,u,n),v(i,d,n),v(c,m,n),v(s,f,n)]}(h(l.color),h(u.color),d)},T=function(e,t){return b(A(e,t))},N=function(e,t,n){return e&&t?w({},n,{accentColor:w({},n.accentColor,{text:{light:T(e,.2),normal:T(e,.2),dark:T(e,.3)},border:{light:T(e,0),normal:T(e,0),dark:T(e,.2),darker:T(e,.2)},fill:{light:T(e,0),normal:T(e,0),dark:T(e,.2)}}),highlightColor:{light:T(t,.1),normal:T(t,.6),dark:T(t,1)}}):n},R=function(e,t){return e?w({},t,{backgroundColor:(n=e.backgroundColor,b(h(n))),accentColor:w({},t.accentColor,{text:{light:T(e,.5),normal:T(e,.7),dark:T(e,1)},border:{light:T(e,.5),normal:T(e,.7),dark:T(e,.9),darker:T(e,1)},fill:{light:T(e,.5),normal:T(e,.7),dark:T(e,.9)}}),baseColor:w({},t.baseColor,{background:{light:T(e,.5),normal:T(e,.7),dark:T(e,.9)},border:{lighter:T(e,.5),light:T(e,.5),normal:T(e,.7),dark:T(e,.9),darker:T(e,1)},text:{lighter:T(e,.45),light:T(e,.6),normal:T(e,.7),dark:T(e,1),darker:T(e,.9)},fill:{lighter:T(e,.45),light:T(e,.6),normal:T(e,.7),dark:T(e,.9),darker:T(e,1)}})}):t;var n},U=function(e){return w({},e,{backgroundColor:Object(y.z)(1),accentColor:w({},e.accentColor,{text:{light:Object(y.z)(.8),normal:Object(y.z)(.95),dark:Object(y.z)(1)},border:{light:Object(y.z)(.65),normal:Object(y.z)(.8),dark:Object(y.z)(.9),darker:Object(y.z)(1)},fill:{light:Object(y.z)(.6),normal:Object(y.z)(.7),dark:Object(y.z)(.9)}}),baseColor:w({},e.baseColor,{background:{light:Object(y.z)(.9),normal:Object(y.z)(.95),dark:Object(y.z)(1)},border:{lighter:Object(y.z)(.4),light:Object(y.z)(.65),normal:Object(y.z)(.8),dark:Object(y.z)(.9),darker:Object(y.z)(1)},text:{lighter:Object(y.z)(.6),light:Object(y.z)(.8),normal:Object(y.z)(.95),dark:Object(y.z)(1),darker:Object(y.z)(1)},fill:{lighter:Object(y.z)(.45),light:Object(y.z)(.6),normal:Object(y.z)(.7),dark:Object(y.z)(.9),darker:Object(y.z)(1)}})})},D=function(e){return w({},U(e),{backgroundColor:e.errorColor})},M=function(e){return w({},e,{backgroundColor:Object(y.z)(.2),accentColor:w({},e.accentColor,{text:{light:Object(y.z)(.8),normal:Object(y.z)(.95),dark:Object(y.z)(1)},border:{light:Object(y.z)(.65),normal:Object(y.z)(.8),dark:Object(y.z)(.9),darker:Object(y.z)(1)},fill:{light:Object(y.z)(.6),normal:Object(y.z)(.7),dark:Object(y.z)(.9)}}),baseColor:w({},e.baseColor,{background:{light:Object(y.z)(.9),normal:Object(y.z)(.95),dark:Object(y.z)(1)},border:{lighter:Object(y.z)(.2),light:Object(y.z)(.65),normal:Object(y.z)(.8),dark:Object(y.z)(.9),darker:Object(y.z)(1)},text:{lighter:Object(y.z)(.8),light:Object(y.z)(.9),normal:Object(y.z)(.95),dark:Object(y.z)(1),darker:Object(y.z)(1)},fill:{lighter:Object(y.z)(.45),light:Object(y.z)(.6),normal:Object(y.z)(.7),dark:Object(y.z)(.9),darker:Object(y.z)(1)}})})},H=function(e){return w({},e,{backgroundColor:Object(y.w)(1),baseColor:w({},e.baseColor,{background:{light:Object(y.z)(.9),normal:Object(y.z)(.95),dark:Object(y.z)(1)},border:{lighter:Object(y.z)(.4),light:Object(y.z)(.65),normal:Object(y.z)(.8),dark:Object(y.z)(.9),darker:Object(y.z)(1)},text:{lighter:Object(y.z)(.6),light:Object(y.z)(.8),normal:Object(y.z)(.95),dark:Object(y.z)(1),darker:Object(y.z)(1)},fill:{lighter:Object(y.z)(.45),light:Object(y.z)(.6),normal:Object(y.z)(.7),dark:Object(y.z)(.9),darker:Object(y.z)(1)}})})},B=function(e,t){return e?w({},t,{newFonts:w({},t.newFonts,{},e)}):t}},"./src/util/useragent.ts":function(e,t,n){"use strict";n.d(t,"b",function(){return a}),n.d(t,"a",function(){return c});var r="donkey",o="hangtag";function i(e,t){return t.some(function(t){return-1!==e.indexOf(t)})}function a(e){if(!e)return!1;if(function(e){return!!e&&(function(e){return!!e&&-1!==e.indexOf(r)}(e)||function(e){return!!e&&-1!==e.indexOf(o)}(e))}(e))return!0;var t=i(e,["iPad","Nexus 10"]),n=!t&&i(e,["iPhone","iphone","Android","BlackBerry"]);return t||n}function c(e){return!!e&&-1!==e.indexOf("Macintosh")}},0:function(e,t,n){n("./config/polyfills.js"),e.exports=n("./src/index.tsx")}},[[0,11,32]]]);
//# sourceMappingURL=main.40cfe8e0.chunk.js.map